{"ast":null,"code":"import _extends from 'babel-runtime/helpers/extends';\nimport _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\n\nvar _class, _temp;\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Transition } from 'react-transition-group';\nimport { func, support, events, dom, guid } from '../util';\n\nvar noop = function noop() {};\n\nvar on = events.on,\n    off = events.off;\nvar addClass = dom.addClass,\n    removeClass = dom.removeClass;\nvar prefixes = ['-webkit-', '-moz-', '-o-', 'ms-', ''];\n\nfunction getStyleProperty(node, name) {\n  var style = window.getComputedStyle(node);\n  var ret = '';\n\n  for (var i = 0; i < prefixes.length; i++) {\n    ret = style.getPropertyValue(prefixes[i] + name);\n\n    if (ret) {\n      break;\n    }\n  }\n\n  return ret;\n}\n\nvar AnimateChild = (_temp = _class = function (_Component) {\n  _inherits(AnimateChild, _Component);\n\n  function AnimateChild(props) {\n    _classCallCheck(this, AnimateChild);\n\n    var _this2 = _possibleConstructorReturn(this, _Component.call(this, props));\n\n    func.bindCtx(_this2, ['handleEnter', 'handleEntering', 'handleEntered', 'handleExit', 'handleExiting', 'handleExited', 'addEndListener']);\n    _this2.endListeners = {\n      transitionend: [],\n      animationend: []\n    };\n    _this2.timeoutMap = {};\n    return _this2;\n  }\n\n  AnimateChild.prototype.componentWillUnmount = function componentWillUnmount() {\n    var _this3 = this;\n\n    Object.keys(this.endListeners).forEach(function (eventName) {\n      _this3.endListeners[eventName].forEach(function (listener) {\n        off(_this3.node, eventName, listener);\n      });\n    });\n    this.endListeners = {\n      transitionend: [],\n      animationend: []\n    };\n  };\n\n  AnimateChild.prototype.generateEndListener = function generateEndListener(node, done, eventName, id) {\n    var _this = this;\n\n    return function endListener(e) {\n      if (e && e.target === node) {\n        if (_this.timeoutMap[id]) {\n          clearTimeout(_this.timeoutMap[id]);\n          delete _this.timeoutMap[id];\n        }\n\n        done();\n        off(node, eventName, endListener);\n        var listeners = _this.endListeners[eventName];\n        var index = listeners.indexOf(endListener);\n        index > -1 && listeners.splice(index, 1);\n      }\n    };\n  };\n\n  AnimateChild.prototype.addEndListener = function addEndListener(node, done) {\n    var _this4 = this;\n\n    if (support.transition || support.animation) {\n      var id = guid();\n      this.node = node;\n\n      if (support.transition) {\n        var transitionEndListener = this.generateEndListener(node, done, 'transitionend', id);\n        on(node, 'transitionend', transitionEndListener);\n        this.endListeners.transitionend.push(transitionEndListener);\n      }\n\n      if (support.animation) {\n        var animationEndListener = this.generateEndListener(node, done, 'animationend', id);\n        on(node, 'animationend', animationEndListener);\n        this.endListeners.animationend.push(animationEndListener);\n      }\n\n      setTimeout(function () {\n        var transitionDelay = parseFloat(getStyleProperty(node, 'transition-delay')) || 0;\n        var transitionDuration = parseFloat(getStyleProperty(node, 'transition-duration')) || 0;\n        var animationDelay = parseFloat(getStyleProperty(node, 'animation-delay')) || 0;\n        var animationDuration = parseFloat(getStyleProperty(node, 'animation-duration')) || 0;\n        var time = Math.max(transitionDuration + transitionDelay, animationDuration + animationDelay);\n\n        if (time) {\n          _this4.timeoutMap[id] = setTimeout(function () {\n            done();\n          }, time * 1000 + 200);\n        }\n      }, 15);\n    } else {\n      done();\n    }\n  };\n\n  AnimateChild.prototype.removeEndtListener = function removeEndtListener() {\n    this.transitionOff && this.transitionOff();\n    this.animationOff && this.animationOff();\n  };\n\n  AnimateChild.prototype.removeClassNames = function removeClassNames(node, names) {\n    Object.keys(names).forEach(function (key) {\n      removeClass(node, names[key]);\n    });\n  };\n\n  AnimateChild.prototype.handleEnter = function handleEnter(node, isAppearing) {\n    var names = this.props.names;\n\n    if (names) {\n      this.removeClassNames(node, names);\n      var className = isAppearing ? 'appear' : 'enter';\n      addClass(node, names[className]);\n    }\n\n    var hook = isAppearing ? this.props.onAppear : this.props.onEnter;\n    hook(node);\n  };\n\n  AnimateChild.prototype.handleEntering = function handleEntering(node, isAppearing) {\n    var _this5 = this;\n\n    setTimeout(function () {\n      var names = _this5.props.names;\n\n      if (names) {\n        var className = isAppearing ? 'appearActive' : 'enterActive';\n        addClass(node, names[className]);\n      }\n\n      var hook = isAppearing ? _this5.props.onAppearing : _this5.props.onEntering;\n      hook(node);\n    }, 10);\n  };\n\n  AnimateChild.prototype.handleEntered = function handleEntered(node, isAppearing) {\n    var names = this.props.names;\n\n    if (names) {\n      var classNames = isAppearing ? [names.appear, names.appearActive] : [names.enter, names.enterActive];\n      classNames.forEach(function (className) {\n        removeClass(node, className);\n      });\n    }\n\n    var hook = isAppearing ? this.props.onAppeared : this.props.onEntered;\n    hook(node);\n  };\n\n  AnimateChild.prototype.handleExit = function handleExit(node) {\n    var names = this.props.names;\n\n    if (names) {\n      this.removeClassNames(node, names);\n      addClass(node, names.leave);\n    }\n\n    this.props.onExit(node);\n  };\n\n  AnimateChild.prototype.handleExiting = function handleExiting(node) {\n    var _this6 = this;\n\n    setTimeout(function () {\n      var names = _this6.props.names;\n\n      if (names) {\n        addClass(node, names.leaveActive);\n      }\n\n      _this6.props.onExiting(node);\n    }, 10);\n  };\n\n  AnimateChild.prototype.handleExited = function handleExited(node) {\n    var names = this.props.names;\n\n    if (names) {\n      [names.leave, names.leaveActive].forEach(function (className) {\n        removeClass(node, className);\n      });\n    }\n\n    this.props.onExited(node);\n  };\n\n  AnimateChild.prototype.render = function render() {\n    /* eslint-disable no-unused-vars */\n    var _props = this.props,\n        names = _props.names,\n        onAppear = _props.onAppear,\n        onAppeared = _props.onAppeared,\n        onAppearing = _props.onAppearing,\n        onEnter = _props.onEnter,\n        onEntering = _props.onEntering,\n        onEntered = _props.onEntered,\n        onExit = _props.onExit,\n        onExiting = _props.onExiting,\n        onExited = _props.onExited,\n        others = _objectWithoutProperties(_props, ['names', 'onAppear', 'onAppeared', 'onAppearing', 'onEnter', 'onEntering', 'onEntered', 'onExit', 'onExiting', 'onExited']);\n    /* eslint-enable no-unused-vars */\n\n\n    return React.createElement(Transition, _extends({}, others, {\n      onEnter: this.handleEnter,\n      onEntering: this.handleEntering,\n      onEntered: this.handleEntered,\n      onExit: this.handleExit,\n      onExiting: this.handleExiting,\n      onExited: this.handleExited,\n      addEndListener: this.addEndListener\n    }));\n  };\n\n  return AnimateChild;\n}(Component), _class.propTypes = {\n  names: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  onAppear: PropTypes.func,\n  onAppearing: PropTypes.func,\n  onAppeared: PropTypes.func,\n  onEnter: PropTypes.func,\n  onEntering: PropTypes.func,\n  onEntered: PropTypes.func,\n  onExit: PropTypes.func,\n  onExiting: PropTypes.func,\n  onExited: PropTypes.func\n}, _class.defaultProps = {\n  onAppear: noop,\n  onAppearing: noop,\n  onAppeared: noop,\n  onEnter: noop,\n  onEntering: noop,\n  onEntered: noop,\n  onExit: noop,\n  onExiting: noop,\n  onExited: noop\n}, _temp);\nAnimateChild.displayName = 'AnimateChild';\nexport { AnimateChild as default };","map":{"version":3,"sources":["/Users/Chris/Project/lunch-order-backstage/node_modules/@alifd/next/es/animate/child.js"],"names":["_extends","_objectWithoutProperties","_classCallCheck","_possibleConstructorReturn","_inherits","_class","_temp","React","Component","PropTypes","Transition","func","support","events","dom","guid","noop","on","off","addClass","removeClass","prefixes","getStyleProperty","node","name","style","window","getComputedStyle","ret","i","length","getPropertyValue","AnimateChild","_Component","props","_this2","call","bindCtx","endListeners","transitionend","animationend","timeoutMap","prototype","componentWillUnmount","_this3","Object","keys","forEach","eventName","listener","generateEndListener","done","id","_this","endListener","e","target","clearTimeout","listeners","index","indexOf","splice","addEndListener","_this4","transition","animation","transitionEndListener","push","animationEndListener","setTimeout","transitionDelay","parseFloat","transitionDuration","animationDelay","animationDuration","time","Math","max","removeEndtListener","transitionOff","animationOff","removeClassNames","names","key","handleEnter","isAppearing","className","hook","onAppear","onEnter","handleEntering","_this5","onAppearing","onEntering","handleEntered","classNames","appear","appearActive","enter","enterActive","onAppeared","onEntered","handleExit","leave","onExit","handleExiting","_this6","leaveActive","onExiting","handleExited","onExited","render","_props","others","createElement","propTypes","oneOfType","string","object","defaultProps","displayName","default"],"mappings":"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","sourcesContent":["import _extends from 'babel-runtime/helpers/extends';\nimport _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\n\nvar _class, _temp;\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Transition } from 'react-transition-group';\nimport { func, support, events, dom, guid } from '../util';\n\nvar noop = function noop() {};\nvar on = events.on,\n    off = events.off;\nvar addClass = dom.addClass,\n    removeClass = dom.removeClass;\n\nvar prefixes = ['-webkit-', '-moz-', '-o-', 'ms-', ''];\n\nfunction getStyleProperty(node, name) {\n    var style = window.getComputedStyle(node);\n    var ret = '';\n    for (var i = 0; i < prefixes.length; i++) {\n        ret = style.getPropertyValue(prefixes[i] + name);\n        if (ret) {\n            break;\n        }\n    }\n    return ret;\n}\n\nvar AnimateChild = (_temp = _class = function (_Component) {\n    _inherits(AnimateChild, _Component);\n\n    function AnimateChild(props) {\n        _classCallCheck(this, AnimateChild);\n\n        var _this2 = _possibleConstructorReturn(this, _Component.call(this, props));\n\n        func.bindCtx(_this2, ['handleEnter', 'handleEntering', 'handleEntered', 'handleExit', 'handleExiting', 'handleExited', 'addEndListener']);\n        _this2.endListeners = {\n            transitionend: [],\n            animationend: []\n        };\n        _this2.timeoutMap = {};\n        return _this2;\n    }\n\n    AnimateChild.prototype.componentWillUnmount = function componentWillUnmount() {\n        var _this3 = this;\n\n        Object.keys(this.endListeners).forEach(function (eventName) {\n            _this3.endListeners[eventName].forEach(function (listener) {\n                off(_this3.node, eventName, listener);\n            });\n        });\n        this.endListeners = {\n            transitionend: [],\n            animationend: []\n        };\n    };\n\n    AnimateChild.prototype.generateEndListener = function generateEndListener(node, done, eventName, id) {\n        var _this = this;\n        return function endListener(e) {\n            if (e && e.target === node) {\n                if (_this.timeoutMap[id]) {\n                    clearTimeout(_this.timeoutMap[id]);\n                    delete _this.timeoutMap[id];\n                }\n\n                done();\n                off(node, eventName, endListener);\n                var listeners = _this.endListeners[eventName];\n                var index = listeners.indexOf(endListener);\n                index > -1 && listeners.splice(index, 1);\n            }\n        };\n    };\n\n    AnimateChild.prototype.addEndListener = function addEndListener(node, done) {\n        var _this4 = this;\n\n        if (support.transition || support.animation) {\n            var id = guid();\n\n            this.node = node;\n            if (support.transition) {\n                var transitionEndListener = this.generateEndListener(node, done, 'transitionend', id);\n                on(node, 'transitionend', transitionEndListener);\n                this.endListeners.transitionend.push(transitionEndListener);\n            }\n            if (support.animation) {\n                var animationEndListener = this.generateEndListener(node, done, 'animationend', id);\n                on(node, 'animationend', animationEndListener);\n                this.endListeners.animationend.push(animationEndListener);\n            }\n\n            setTimeout(function () {\n                var transitionDelay = parseFloat(getStyleProperty(node, 'transition-delay')) || 0;\n                var transitionDuration = parseFloat(getStyleProperty(node, 'transition-duration')) || 0;\n                var animationDelay = parseFloat(getStyleProperty(node, 'animation-delay')) || 0;\n                var animationDuration = parseFloat(getStyleProperty(node, 'animation-duration')) || 0;\n                var time = Math.max(transitionDuration + transitionDelay, animationDuration + animationDelay);\n                if (time) {\n                    _this4.timeoutMap[id] = setTimeout(function () {\n                        done();\n                    }, time * 1000 + 200);\n                }\n            }, 15);\n        } else {\n            done();\n        }\n    };\n\n    AnimateChild.prototype.removeEndtListener = function removeEndtListener() {\n        this.transitionOff && this.transitionOff();\n        this.animationOff && this.animationOff();\n    };\n\n    AnimateChild.prototype.removeClassNames = function removeClassNames(node, names) {\n        Object.keys(names).forEach(function (key) {\n            removeClass(node, names[key]);\n        });\n    };\n\n    AnimateChild.prototype.handleEnter = function handleEnter(node, isAppearing) {\n        var names = this.props.names;\n\n        if (names) {\n            this.removeClassNames(node, names);\n            var className = isAppearing ? 'appear' : 'enter';\n            addClass(node, names[className]);\n        }\n\n        var hook = isAppearing ? this.props.onAppear : this.props.onEnter;\n        hook(node);\n    };\n\n    AnimateChild.prototype.handleEntering = function handleEntering(node, isAppearing) {\n        var _this5 = this;\n\n        setTimeout(function () {\n            var names = _this5.props.names;\n\n            if (names) {\n                var className = isAppearing ? 'appearActive' : 'enterActive';\n                addClass(node, names[className]);\n            }\n\n            var hook = isAppearing ? _this5.props.onAppearing : _this5.props.onEntering;\n            hook(node);\n        }, 10);\n    };\n\n    AnimateChild.prototype.handleEntered = function handleEntered(node, isAppearing) {\n        var names = this.props.names;\n\n        if (names) {\n            var classNames = isAppearing ? [names.appear, names.appearActive] : [names.enter, names.enterActive];\n            classNames.forEach(function (className) {\n                removeClass(node, className);\n            });\n        }\n\n        var hook = isAppearing ? this.props.onAppeared : this.props.onEntered;\n        hook(node);\n    };\n\n    AnimateChild.prototype.handleExit = function handleExit(node) {\n        var names = this.props.names;\n\n        if (names) {\n            this.removeClassNames(node, names);\n            addClass(node, names.leave);\n        }\n\n        this.props.onExit(node);\n    };\n\n    AnimateChild.prototype.handleExiting = function handleExiting(node) {\n        var _this6 = this;\n\n        setTimeout(function () {\n            var names = _this6.props.names;\n\n            if (names) {\n                addClass(node, names.leaveActive);\n            }\n            _this6.props.onExiting(node);\n        }, 10);\n    };\n\n    AnimateChild.prototype.handleExited = function handleExited(node) {\n        var names = this.props.names;\n\n        if (names) {\n            [names.leave, names.leaveActive].forEach(function (className) {\n                removeClass(node, className);\n            });\n        }\n\n        this.props.onExited(node);\n    };\n\n    AnimateChild.prototype.render = function render() {\n        /* eslint-disable no-unused-vars */\n        var _props = this.props,\n            names = _props.names,\n            onAppear = _props.onAppear,\n            onAppeared = _props.onAppeared,\n            onAppearing = _props.onAppearing,\n            onEnter = _props.onEnter,\n            onEntering = _props.onEntering,\n            onEntered = _props.onEntered,\n            onExit = _props.onExit,\n            onExiting = _props.onExiting,\n            onExited = _props.onExited,\n            others = _objectWithoutProperties(_props, ['names', 'onAppear', 'onAppeared', 'onAppearing', 'onEnter', 'onEntering', 'onEntered', 'onExit', 'onExiting', 'onExited']);\n        /* eslint-enable no-unused-vars */\n\n        return React.createElement(Transition, _extends({}, others, {\n            onEnter: this.handleEnter,\n            onEntering: this.handleEntering,\n            onEntered: this.handleEntered,\n            onExit: this.handleExit,\n            onExiting: this.handleExiting,\n            onExited: this.handleExited,\n            addEndListener: this.addEndListener\n        }));\n    };\n\n    return AnimateChild;\n}(Component), _class.propTypes = {\n    names: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n    onAppear: PropTypes.func,\n    onAppearing: PropTypes.func,\n    onAppeared: PropTypes.func,\n    onEnter: PropTypes.func,\n    onEntering: PropTypes.func,\n    onEntered: PropTypes.func,\n    onExit: PropTypes.func,\n    onExiting: PropTypes.func,\n    onExited: PropTypes.func\n}, _class.defaultProps = {\n    onAppear: noop,\n    onAppearing: noop,\n    onAppeared: noop,\n    onEnter: noop,\n    onEntering: noop,\n    onEntered: noop,\n    onExit: noop,\n    onExiting: noop,\n    onExited: noop\n}, _temp);\nAnimateChild.displayName = 'AnimateChild';\nexport { AnimateChild as default };"]},"metadata":{},"sourceType":"module"}