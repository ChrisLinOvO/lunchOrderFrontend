{"ast":null,"code":"import _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\n\nvar _class, _temp;\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { polyfill } from 'react-lifecycles-compat';\nimport { obj, func } from '../util';\nimport Tag from './tag';\nvar noop = func.noop,\n    bindCtx = func.bindCtx;\n/**\n * Tag.Selectable\n */\n\nvar Selectable = (_temp = _class = function (_Component) {\n  _inherits(Selectable, _Component);\n\n  function Selectable(props) {\n    _classCallCheck(this, Selectable);\n\n    var _this = _possibleConstructorReturn(this, _Component.call(this, props));\n\n    _this.state = {\n      checked: 'checked' in props ? props.checked : props.defaultChecked || false\n    };\n    bindCtx(_this, ['handleClick']);\n    return _this;\n  }\n\n  Selectable.getDerivedStateFromProps = function getDerivedStateFromProps(props, state) {\n    if (props.checked !== undefined && props.checked !== state.checked) {\n      return {\n        checked: props.checked\n      };\n    }\n\n    return null;\n  };\n\n  Selectable.prototype.handleClick = function handleClick(e) {\n    e && e.preventDefault(); // IE9 不支持 pointer-events，还是可能会触发 click 事件\n\n    if (this.props.disabled) {\n      return false;\n    }\n\n    var checked = this.state.checked;\n    this.setState({\n      checked: !checked\n    });\n    this.props.onChange(!checked, e);\n  };\n\n  Selectable.prototype.render = function render() {\n    var attrFilterTarget = ['checked', 'defaultChecked', 'onChange', 'className', // 防止这些额外的参数影响 tag 的类型\n    '_shape', 'closable'];\n    var others = obj.pickOthers(attrFilterTarget, this.props);\n    var isChecked = 'checked' in this.props ? this.props.checked : this.state.checked;\n    var clazz = classNames(this.props.className, {\n      checked: isChecked\n    });\n    return React.createElement(Tag, _extends({}, others, {\n      role: 'checkbox',\n      _shape: 'checkable',\n      'aria-checked': isChecked,\n      className: clazz,\n      onClick: this.handleClick\n    }));\n  };\n\n  return Selectable;\n}(Component), _class.propTypes = {\n  /**\n   * 标签是否被选中，受控用法\n   * tag checked or not, a controlled way\n   */\n  checked: PropTypes.bool,\n\n  /**\n   * 标签是否默认被选中，非受控用法\n   * tag checked or not by default, a uncontrolled way\n   */\n  defaultChecked: PropTypes.bool,\n\n  /**\n   * 选中状态变化时触发的事件\n   * @param {Boolean} checked 是否选中\n   * @param {Event} e Dom 事件对象\n   */\n  onChange: PropTypes.func,\n\n  /**\n   * 标签是否被禁用\n   */\n  disabled: PropTypes.bool,\n  className: PropTypes.any\n}, _class.defaultProps = {\n  onChange: noop\n}, _temp);\nSelectable.displayName = 'Selectable';\nexport default polyfill(Selectable);","map":{"version":3,"sources":["/Users/Chris/Project/lunch-order-backstage/node_modules/@alifd/next/es/tag/selectable.js"],"names":["_extends","_classCallCheck","_possibleConstructorReturn","_inherits","_class","_temp","React","Component","PropTypes","classNames","polyfill","obj","func","Tag","noop","bindCtx","Selectable","_Component","props","_this","call","state","checked","defaultChecked","getDerivedStateFromProps","undefined","prototype","handleClick","e","preventDefault","disabled","setState","onChange","render","attrFilterTarget","others","pickOthers","isChecked","clazz","className","createElement","role","_shape","onClick","propTypes","bool","any","defaultProps","displayName"],"mappings":"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","sourcesContent":["import _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\n\nvar _class, _temp;\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { polyfill } from 'react-lifecycles-compat';\nimport { obj, func } from '../util';\nimport Tag from './tag';\n\nvar noop = func.noop,\n    bindCtx = func.bindCtx;\n\n/**\n * Tag.Selectable\n */\n\nvar Selectable = (_temp = _class = function (_Component) {\n    _inherits(Selectable, _Component);\n\n    function Selectable(props) {\n        _classCallCheck(this, Selectable);\n\n        var _this = _possibleConstructorReturn(this, _Component.call(this, props));\n\n        _this.state = {\n            checked: 'checked' in props ? props.checked : props.defaultChecked || false\n        };\n\n        bindCtx(_this, ['handleClick']);\n        return _this;\n    }\n\n    Selectable.getDerivedStateFromProps = function getDerivedStateFromProps(props, state) {\n        if (props.checked !== undefined && props.checked !== state.checked) {\n            return {\n                checked: props.checked\n            };\n        }\n\n        return null;\n    };\n\n    Selectable.prototype.handleClick = function handleClick(e) {\n        e && e.preventDefault();\n        // IE9 不支持 pointer-events，还是可能会触发 click 事件\n        if (this.props.disabled) {\n            return false;\n        }\n\n        var checked = this.state.checked;\n\n\n        this.setState({\n            checked: !checked\n        });\n\n        this.props.onChange(!checked, e);\n    };\n\n    Selectable.prototype.render = function render() {\n        var attrFilterTarget = ['checked', 'defaultChecked', 'onChange', 'className',\n        // 防止这些额外的参数影响 tag 的类型\n        '_shape', 'closable'];\n\n        var others = obj.pickOthers(attrFilterTarget, this.props);\n        var isChecked = 'checked' in this.props ? this.props.checked : this.state.checked;\n        var clazz = classNames(this.props.className, {\n            checked: isChecked\n        });\n        return React.createElement(Tag, _extends({}, others, {\n            role: 'checkbox',\n            _shape: 'checkable',\n            'aria-checked': isChecked,\n            className: clazz,\n            onClick: this.handleClick\n        }));\n    };\n\n    return Selectable;\n}(Component), _class.propTypes = {\n    /**\n     * 标签是否被选中，受控用法\n     * tag checked or not, a controlled way\n     */\n    checked: PropTypes.bool,\n    /**\n     * 标签是否默认被选中，非受控用法\n     * tag checked or not by default, a uncontrolled way\n     */\n    defaultChecked: PropTypes.bool,\n    /**\n     * 选中状态变化时触发的事件\n     * @param {Boolean} checked 是否选中\n     * @param {Event} e Dom 事件对象\n     */\n    onChange: PropTypes.func,\n    /**\n     * 标签是否被禁用\n     */\n    disabled: PropTypes.bool,\n    className: PropTypes.any\n}, _class.defaultProps = {\n    onChange: noop\n}, _temp);\nSelectable.displayName = 'Selectable';\n\n\nexport default polyfill(Selectable);"]},"metadata":{},"sourceType":"module"}