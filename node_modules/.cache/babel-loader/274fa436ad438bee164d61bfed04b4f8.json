{"ast":null,"code":"import _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _extends from 'babel-runtime/helpers/extends';\nimport _typeof from 'babel-runtime/helpers/typeof';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\n\nvar _class, _temp;\n\nimport React, { Component, Children, cloneElement } from 'react';\nimport { findDOMNode } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport Animate from '../../animate';\nimport Icon from '../../icon';\nimport { func, obj } from '../../util';\nimport Item from './item';\nimport SelectabelItem from './selectable-item';\nimport PopupItem from './popup-item';\nimport { getChildSelected } from './util';\nvar Expand = Animate.Expand;\nvar bindCtx = func.bindCtx;\n/**\n * Menu.SubMenu\n * @order 1\n */\n\nvar SubMenu = (_temp = _class = function (_Component) {\n  _inherits(SubMenu, _Component);\n\n  function SubMenu(props) {\n    _classCallCheck(this, SubMenu);\n\n    var _this = _possibleConstructorReturn(this, _Component.call(this, props));\n\n    bindCtx(_this, ['handleMouseEnter', 'handleMouseLeave', 'handleClick', 'handleOpen', 'afterLeave']);\n    return _this;\n  }\n\n  SubMenu.prototype.componentDidMount = function componentDidMount() {\n    this.itemNode = findDOMNode(this);\n  };\n\n  SubMenu.prototype.afterLeave = function afterLeave() {\n    var _props = this.props,\n        focused = _props.focused,\n        root = _props.root;\n    var focusable = root.props.focusable;\n\n    if (focusable && focused) {\n      this.itemNode.focus();\n    }\n  };\n\n  SubMenu.prototype.getOpen = function getOpen() {\n    var _props2 = this.props,\n        _key = _props2._key,\n        root = _props2.root;\n    var openKeys = root.state.openKeys;\n    return openKeys.indexOf(_key) > -1;\n  };\n\n  SubMenu.prototype.handleMouseEnter = function handleMouseEnter(e) {\n    this.handleOpen(true);\n    this.props.onMouseEnter && this.props.onMouseEnter(e);\n  };\n\n  SubMenu.prototype.handleMouseLeave = function handleMouseLeave(e) {\n    this.handleOpen(false);\n    this.props.onMouseLeave && this.props.onMouseLeave(e);\n  };\n\n  SubMenu.prototype.handleClick = function handleClick(e) {\n    var _props3 = this.props,\n        root = _props3.root,\n        selectable = _props3.selectable;\n    var selectMode = root.props.selectMode;\n\n    if (selectMode && selectable) {\n      e.stopPropagation();\n    }\n\n    var open = this.getOpen();\n    this.handleOpen(!open);\n  };\n\n  SubMenu.prototype.handleOpen = function handleOpen(open, triggerType, e) {\n    var _props4 = this.props,\n        _key = _props4._key,\n        root = _props4.root;\n    root.handleOpen(_key, open, triggerType, e);\n  };\n\n  SubMenu.prototype.passParentToChildren = function passParentToChildren(children) {\n    var _this2 = this;\n\n    var _props5 = this.props,\n        mode = _props5.mode,\n        root = _props5.root;\n    return Children.map(children, function (child) {\n      // to fix https://github.com/alibaba-fusion/next/issues/952\n      if (typeof child !== 'function' && (typeof child === 'undefined' ? 'undefined' : _typeof(child)) !== 'object') {\n        return child;\n      }\n\n      return cloneElement(child, {\n        parent: _this2,\n        parentMode: mode || root.props.mode\n      });\n    });\n  };\n\n  SubMenu.prototype.renderInline = function renderInline() {\n    var _cx, _cx2, _cx3, _cx4;\n\n    var _props6 = this.props,\n        _key = _props6._key,\n        level = _props6.level,\n        inlineLevel = _props6.inlineLevel,\n        root = _props6.root,\n        className = _props6.className,\n        selectableFromProps = _props6.selectable,\n        label = _props6.label,\n        children = _props6.children,\n        noIcon = _props6.noIcon,\n        subMenuContentClassName = _props6.subMenuContentClassName,\n        propsTriggerType = _props6.triggerType,\n        parentMode = _props6.parentMode;\n    var _root$props = root.props,\n        prefix = _root$props.prefix,\n        selectMode = _root$props.selectMode,\n        rootTriggerType = _root$props.triggerType,\n        inlineArrowDirection = _root$props.inlineArrowDirection,\n        expandAnimation = _root$props.expandAnimation,\n        rtl = _root$props.rtl;\n    var triggerType = propsTriggerType || rootTriggerType;\n    var open = this.getOpen();\n    var _root$state = root.state,\n        selectedKeys = _root$state.selectedKeys,\n        _k2n = _root$state._k2n;\n    var isChildSelected = getChildSelected({\n      _key: _key,\n      _k2n: _k2n,\n      selectMode: selectMode,\n      selectedKeys: selectedKeys\n    });\n    var others = obj.pickOthers(Object.keys(SubMenu.propTypes), this.props);\n    var liProps = {\n      className: cx((_cx = {}, _cx[prefix + 'menu-sub-menu-wrapper'] = true, _cx[className] = !!className, _cx))\n    };\n    var itemProps = {\n      'aria-expanded': open,\n      _key: _key,\n      level: level,\n      role: 'listitem',\n      inlineLevel: inlineLevel,\n      root: root,\n      type: 'submenu',\n      component: 'div',\n      parentMode: parentMode,\n      className: cx((_cx2 = {}, _cx2[prefix + 'opened'] = open, _cx2[prefix + 'child-selected'] = isChildSelected, _cx2))\n    };\n\n    if (typeof label === 'string') {\n      itemProps.title = label;\n    }\n\n    var arrorProps = {\n      type: inlineArrowDirection === 'right' ? 'arrow-right' : 'arrow-down',\n      className: cx((_cx3 = {}, _cx3[prefix + 'menu-icon-arrow'] = true, _cx3[prefix + 'menu-icon-arrow-down'] = inlineArrowDirection === 'down', _cx3[prefix + 'menu-icon-arrow-right'] = inlineArrowDirection === 'right', _cx3[prefix + 'open'] = open, _cx3))\n    };\n    var selectable = !!selectMode && selectableFromProps;\n    var NewItem = selectable ? SelectabelItem : Item;\n\n    if (triggerType === 'hover') {\n      liProps.onMouseEnter = this.handleMouseEnter;\n      liProps.onMouseLeave = this.handleMouseLeave;\n    } else if (selectable) {\n      arrorProps.onClick = this.handleClick;\n    } else {\n      itemProps.onClick = this.handleClick;\n    }\n\n    var newSubMenuContentClassName = cx((_cx4 = {}, _cx4[prefix + 'menu-sub-menu'] = true, _cx4[subMenuContentClassName] = !!subMenuContentClassName, _cx4));\n    var roleMenu = 'menu',\n        roleItem = 'menuitem';\n\n    if ('selectMode' in root.props) {\n      roleMenu = 'listbox';\n      roleItem = 'option';\n    }\n\n    var subMenu = open ? React.createElement('ul', {\n      role: roleMenu,\n      dir: rtl ? 'rtl' : undefined,\n      className: newSubMenuContentClassName\n    }, this.passParentToChildren(children)) : null;\n    return React.createElement('li', _extends({\n      role: roleItem\n    }, others, liProps), React.createElement(NewItem, itemProps, React.createElement('span', {\n      className: prefix + 'menu-item-text'\n    }, label), noIcon ? null : React.createElement(Icon, arrorProps)), expandAnimation ? React.createElement(Expand, {\n      animationAppear: false,\n      afterLeave: this.afterLeave\n    }, subMenu) : subMenu);\n  };\n\n  SubMenu.prototype.renderPopup = function renderPopup() {\n    var _cx5;\n\n    var _props7 = this.props,\n        children = _props7.children,\n        subMenuContentClassName = _props7.subMenuContentClassName,\n        noIcon = _props7.noIcon,\n        others = _objectWithoutProperties(_props7, ['children', 'subMenuContentClassName', 'noIcon']);\n\n    var root = this.props.root;\n    var _root$props2 = root.props,\n        prefix = _root$props2.prefix,\n        popupClassName = _root$props2.popupClassName,\n        popupStyle = _root$props2.popupStyle,\n        rtl = _root$props2.rtl;\n    var newClassName = cx((_cx5 = {}, _cx5[prefix + 'menu'] = true, _cx5[prefix + 'ver'] = true, _cx5[popupClassName] = !!popupClassName, _cx5[subMenuContentClassName] = !!subMenuContentClassName, _cx5));\n    others.rtl = rtl;\n    return React.createElement(PopupItem, _extends({}, others, {\n      noIcon: noIcon,\n      hasSubMenu: true\n    }), React.createElement('ul', {\n      role: 'menu',\n      dir: rtl ? 'rtl' : undefined,\n      className: newClassName,\n      style: popupStyle\n    }, this.passParentToChildren(children)));\n  };\n\n  SubMenu.prototype.render = function render() {\n    var _props8 = this.props,\n        mode = _props8.mode,\n        root = _props8.root;\n    var newMode = mode || root.props.mode;\n    return newMode === 'popup' ? this.renderPopup() : this.renderInline();\n  };\n\n  return SubMenu;\n}(Component), _class.menuChildType = 'submenu', _class.propTypes = {\n  _key: PropTypes.string,\n  root: PropTypes.object,\n  level: PropTypes.number,\n  inlineLevel: PropTypes.number,\n  groupIndent: PropTypes.number,\n\n  /**\n   * 标签内容\n   */\n  label: PropTypes.node,\n\n  /**\n   * 是否可选，该属性仅在设置 Menu 组件 selectMode 属性后生效\n   */\n  selectable: PropTypes.bool,\n\n  /**\n   * 子菜单打开方式，如果设置会覆盖 Menu 上的同名属性\n   * @default Menu 的 mode 属性值\n   */\n  mode: PropTypes.oneOf(['inline', 'popup']),\n\n  /**\n   * 是否需要提示当前项可展开的 icon，默认是有的\n   */\n  noIcon: PropTypes.bool,\n\n  /**\n   * 菜单项或下一级子菜单\n   */\n  children: PropTypes.node,\n  onMouseEnter: PropTypes.func,\n  onMouseLeave: PropTypes.func,\n  subMenuContentClassName: PropTypes.string,\n  triggerType: PropTypes.oneOf(['click', 'hover']),\n  align: PropTypes.oneOf(['outside', 'follow']),\n  parentMode: PropTypes.oneOf(['inline', 'popup']),\n  parent: PropTypes.any\n}, _class.defaultProps = {\n  groupIndent: 0,\n  noIcon: false,\n  selectable: false\n}, _temp);\nSubMenu.displayName = 'SubMenu';\nexport { SubMenu as default };","map":{"version":3,"sources":["/Users/Chris/Project/lunch-order-backstage/node_modules/@alifd/next/es/menu/view/sub-menu.js"],"names":["_objectWithoutProperties","_extends","_typeof","_classCallCheck","_possibleConstructorReturn","_inherits","_class","_temp","React","Component","Children","cloneElement","findDOMNode","PropTypes","cx","Animate","Icon","func","obj","Item","SelectabelItem","PopupItem","getChildSelected","Expand","bindCtx","SubMenu","_Component","props","_this","call","prototype","componentDidMount","itemNode","afterLeave","_props","focused","root","focusable","focus","getOpen","_props2","_key","openKeys","state","indexOf","handleMouseEnter","e","handleOpen","onMouseEnter","handleMouseLeave","onMouseLeave","handleClick","_props3","selectable","selectMode","stopPropagation","open","triggerType","_props4","passParentToChildren","children","_this2","_props5","mode","map","child","parent","parentMode","renderInline","_cx","_cx2","_cx3","_cx4","_props6","level","inlineLevel","className","selectableFromProps","label","noIcon","subMenuContentClassName","propsTriggerType","_root$props","prefix","rootTriggerType","inlineArrowDirection","expandAnimation","rtl","_root$state","selectedKeys","_k2n","isChildSelected","others","pickOthers","Object","keys","propTypes","liProps","itemProps","role","type","component","title","arrorProps","NewItem","onClick","newSubMenuContentClassName","roleMenu","roleItem","subMenu","createElement","dir","undefined","animationAppear","renderPopup","_cx5","_props7","_root$props2","popupClassName","popupStyle","newClassName","hasSubMenu","style","render","_props8","newMode","menuChildType","string","object","number","groupIndent","node","bool","oneOf","align","any","defaultProps","displayName","default"],"mappings":"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","sourcesContent":["import _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _extends from 'babel-runtime/helpers/extends';\nimport _typeof from 'babel-runtime/helpers/typeof';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\n\nvar _class, _temp;\n\nimport React, { Component, Children, cloneElement } from 'react';\nimport { findDOMNode } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport Animate from '../../animate';\nimport Icon from '../../icon';\nimport { func, obj } from '../../util';\nimport Item from './item';\nimport SelectabelItem from './selectable-item';\nimport PopupItem from './popup-item';\nimport { getChildSelected } from './util';\n\nvar Expand = Animate.Expand;\nvar bindCtx = func.bindCtx;\n\n/**\n * Menu.SubMenu\n * @order 1\n */\n\nvar SubMenu = (_temp = _class = function (_Component) {\n    _inherits(SubMenu, _Component);\n\n    function SubMenu(props) {\n        _classCallCheck(this, SubMenu);\n\n        var _this = _possibleConstructorReturn(this, _Component.call(this, props));\n\n        bindCtx(_this, ['handleMouseEnter', 'handleMouseLeave', 'handleClick', 'handleOpen', 'afterLeave']);\n        return _this;\n    }\n\n    SubMenu.prototype.componentDidMount = function componentDidMount() {\n        this.itemNode = findDOMNode(this);\n    };\n\n    SubMenu.prototype.afterLeave = function afterLeave() {\n        var _props = this.props,\n            focused = _props.focused,\n            root = _props.root;\n        var focusable = root.props.focusable;\n\n        if (focusable && focused) {\n            this.itemNode.focus();\n        }\n    };\n\n    SubMenu.prototype.getOpen = function getOpen() {\n        var _props2 = this.props,\n            _key = _props2._key,\n            root = _props2.root;\n        var openKeys = root.state.openKeys;\n\n\n        return openKeys.indexOf(_key) > -1;\n    };\n\n    SubMenu.prototype.handleMouseEnter = function handleMouseEnter(e) {\n        this.handleOpen(true);\n\n        this.props.onMouseEnter && this.props.onMouseEnter(e);\n    };\n\n    SubMenu.prototype.handleMouseLeave = function handleMouseLeave(e) {\n        this.handleOpen(false);\n\n        this.props.onMouseLeave && this.props.onMouseLeave(e);\n    };\n\n    SubMenu.prototype.handleClick = function handleClick(e) {\n        var _props3 = this.props,\n            root = _props3.root,\n            selectable = _props3.selectable;\n        var selectMode = root.props.selectMode;\n\n        if (selectMode && selectable) {\n            e.stopPropagation();\n        }\n\n        var open = this.getOpen();\n        this.handleOpen(!open);\n    };\n\n    SubMenu.prototype.handleOpen = function handleOpen(open, triggerType, e) {\n        var _props4 = this.props,\n            _key = _props4._key,\n            root = _props4.root;\n\n        root.handleOpen(_key, open, triggerType, e);\n    };\n\n    SubMenu.prototype.passParentToChildren = function passParentToChildren(children) {\n        var _this2 = this;\n\n        var _props5 = this.props,\n            mode = _props5.mode,\n            root = _props5.root;\n\n\n        return Children.map(children, function (child) {\n            // to fix https://github.com/alibaba-fusion/next/issues/952\n            if (typeof child !== 'function' && (typeof child === 'undefined' ? 'undefined' : _typeof(child)) !== 'object') {\n                return child;\n            }\n\n            return cloneElement(child, {\n                parent: _this2,\n                parentMode: mode || root.props.mode\n            });\n        });\n    };\n\n    SubMenu.prototype.renderInline = function renderInline() {\n        var _cx, _cx2, _cx3, _cx4;\n\n        var _props6 = this.props,\n            _key = _props6._key,\n            level = _props6.level,\n            inlineLevel = _props6.inlineLevel,\n            root = _props6.root,\n            className = _props6.className,\n            selectableFromProps = _props6.selectable,\n            label = _props6.label,\n            children = _props6.children,\n            noIcon = _props6.noIcon,\n            subMenuContentClassName = _props6.subMenuContentClassName,\n            propsTriggerType = _props6.triggerType,\n            parentMode = _props6.parentMode;\n        var _root$props = root.props,\n            prefix = _root$props.prefix,\n            selectMode = _root$props.selectMode,\n            rootTriggerType = _root$props.triggerType,\n            inlineArrowDirection = _root$props.inlineArrowDirection,\n            expandAnimation = _root$props.expandAnimation,\n            rtl = _root$props.rtl;\n\n        var triggerType = propsTriggerType || rootTriggerType;\n        var open = this.getOpen();\n\n        var _root$state = root.state,\n            selectedKeys = _root$state.selectedKeys,\n            _k2n = _root$state._k2n;\n\n        var isChildSelected = getChildSelected({\n            _key: _key,\n            _k2n: _k2n,\n            selectMode: selectMode,\n            selectedKeys: selectedKeys\n        });\n\n        var others = obj.pickOthers(Object.keys(SubMenu.propTypes), this.props);\n\n        var liProps = {\n            className: cx((_cx = {}, _cx[prefix + 'menu-sub-menu-wrapper'] = true, _cx[className] = !!className, _cx))\n        };\n        var itemProps = {\n            'aria-expanded': open,\n            _key: _key,\n            level: level,\n            role: 'listitem',\n            inlineLevel: inlineLevel,\n            root: root,\n            type: 'submenu',\n            component: 'div',\n            parentMode: parentMode,\n            className: cx((_cx2 = {}, _cx2[prefix + 'opened'] = open, _cx2[prefix + 'child-selected'] = isChildSelected, _cx2))\n        };\n\n        if (typeof label === 'string') {\n            itemProps.title = label;\n        }\n\n        var arrorProps = {\n            type: inlineArrowDirection === 'right' ? 'arrow-right' : 'arrow-down',\n            className: cx((_cx3 = {}, _cx3[prefix + 'menu-icon-arrow'] = true, _cx3[prefix + 'menu-icon-arrow-down'] = inlineArrowDirection === 'down', _cx3[prefix + 'menu-icon-arrow-right'] = inlineArrowDirection === 'right', _cx3[prefix + 'open'] = open, _cx3))\n        };\n\n        var selectable = !!selectMode && selectableFromProps;\n        var NewItem = selectable ? SelectabelItem : Item;\n\n        if (triggerType === 'hover') {\n            liProps.onMouseEnter = this.handleMouseEnter;\n            liProps.onMouseLeave = this.handleMouseLeave;\n        } else if (selectable) {\n            arrorProps.onClick = this.handleClick;\n        } else {\n            itemProps.onClick = this.handleClick;\n        }\n\n        var newSubMenuContentClassName = cx((_cx4 = {}, _cx4[prefix + 'menu-sub-menu'] = true, _cx4[subMenuContentClassName] = !!subMenuContentClassName, _cx4));\n\n        var roleMenu = 'menu',\n            roleItem = 'menuitem';\n        if ('selectMode' in root.props) {\n            roleMenu = 'listbox';\n            roleItem = 'option';\n        }\n\n        var subMenu = open ? React.createElement(\n            'ul',\n            { role: roleMenu, dir: rtl ? 'rtl' : undefined, className: newSubMenuContentClassName },\n            this.passParentToChildren(children)\n        ) : null;\n\n        return React.createElement(\n            'li',\n            _extends({ role: roleItem }, others, liProps),\n            React.createElement(\n                NewItem,\n                itemProps,\n                React.createElement(\n                    'span',\n                    { className: prefix + 'menu-item-text' },\n                    label\n                ),\n                noIcon ? null : React.createElement(Icon, arrorProps)\n            ),\n            expandAnimation ? React.createElement(\n                Expand,\n                { animationAppear: false, afterLeave: this.afterLeave },\n                subMenu\n            ) : subMenu\n        );\n    };\n\n    SubMenu.prototype.renderPopup = function renderPopup() {\n        var _cx5;\n\n        var _props7 = this.props,\n            children = _props7.children,\n            subMenuContentClassName = _props7.subMenuContentClassName,\n            noIcon = _props7.noIcon,\n            others = _objectWithoutProperties(_props7, ['children', 'subMenuContentClassName', 'noIcon']);\n\n        var root = this.props.root;\n        var _root$props2 = root.props,\n            prefix = _root$props2.prefix,\n            popupClassName = _root$props2.popupClassName,\n            popupStyle = _root$props2.popupStyle,\n            rtl = _root$props2.rtl;\n\n\n        var newClassName = cx((_cx5 = {}, _cx5[prefix + 'menu'] = true, _cx5[prefix + 'ver'] = true, _cx5[popupClassName] = !!popupClassName, _cx5[subMenuContentClassName] = !!subMenuContentClassName, _cx5));\n\n        others.rtl = rtl;\n\n        return React.createElement(\n            PopupItem,\n            _extends({}, others, { noIcon: noIcon, hasSubMenu: true }),\n            React.createElement(\n                'ul',\n                { role: 'menu', dir: rtl ? 'rtl' : undefined, className: newClassName, style: popupStyle },\n                this.passParentToChildren(children)\n            )\n        );\n    };\n\n    SubMenu.prototype.render = function render() {\n        var _props8 = this.props,\n            mode = _props8.mode,\n            root = _props8.root;\n\n        var newMode = mode || root.props.mode;\n\n        return newMode === 'popup' ? this.renderPopup() : this.renderInline();\n    };\n\n    return SubMenu;\n}(Component), _class.menuChildType = 'submenu', _class.propTypes = {\n    _key: PropTypes.string,\n    root: PropTypes.object,\n    level: PropTypes.number,\n    inlineLevel: PropTypes.number,\n    groupIndent: PropTypes.number,\n    /**\n     * 标签内容\n     */\n    label: PropTypes.node,\n    /**\n     * 是否可选，该属性仅在设置 Menu 组件 selectMode 属性后生效\n     */\n    selectable: PropTypes.bool,\n    /**\n     * 子菜单打开方式，如果设置会覆盖 Menu 上的同名属性\n     * @default Menu 的 mode 属性值\n     */\n    mode: PropTypes.oneOf(['inline', 'popup']),\n    /**\n     * 是否需要提示当前项可展开的 icon，默认是有的\n     */\n    noIcon: PropTypes.bool,\n    /**\n     * 菜单项或下一级子菜单\n     */\n    children: PropTypes.node,\n    onMouseEnter: PropTypes.func,\n    onMouseLeave: PropTypes.func,\n    subMenuContentClassName: PropTypes.string,\n    triggerType: PropTypes.oneOf(['click', 'hover']),\n    align: PropTypes.oneOf(['outside', 'follow']),\n    parentMode: PropTypes.oneOf(['inline', 'popup']),\n    parent: PropTypes.any\n}, _class.defaultProps = {\n    groupIndent: 0,\n    noIcon: false,\n    selectable: false\n}, _temp);\nSubMenu.displayName = 'SubMenu';\nexport { SubMenu as default };"]},"metadata":{},"sourceType":"module"}