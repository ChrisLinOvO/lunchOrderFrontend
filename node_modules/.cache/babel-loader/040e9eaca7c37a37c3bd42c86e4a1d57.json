{"ast":null,"code":"import _extends from 'babel-runtime/helpers/extends';\nimport _typeof from 'babel-runtime/helpers/typeof';\nimport _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React, { Children } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport ListHeader from './list-header';\nimport ListFooter from './list-footer';\nimport RowComponent from './list/row';\nimport BodyComponent from './list/body';\nimport HeaderComponent from './fixed/header';\nimport WrapperComponent from './fixed/wrapper';\nimport { statics } from './util';\nexport default function list(BaseComponent) {\n  var _class, _temp2;\n\n  var ListTable = (_temp2 = _class = function (_React$Component) {\n    _inherits(ListTable, _React$Component);\n\n    function ListTable() {\n      var _temp, _this, _ret;\n\n      _classCallCheck(this, ListTable);\n\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return _ret = (_temp = (_this = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _this.state = {}, _temp), _possibleConstructorReturn(_this, _ret);\n    }\n\n    ListTable.prototype.getChildContext = function getChildContext() {\n      return {\n        listHeader: this.listHeader,\n        listFooter: this.listFooter,\n        rowSelection: this.rowSelection\n      };\n    };\n\n    ListTable.prototype.normalizeDataSource = function normalizeDataSource(dataSource) {\n      var ret = [];\n\n      var loop = function loop(dataSource, level) {\n        dataSource.forEach(function (item) {\n          item.__level = level;\n          ret.push(item);\n\n          if (item.children) {\n            loop(item.children, level + 1);\n          }\n        });\n      };\n\n      loop(dataSource, 0);\n      this.ds = ret;\n      return ret;\n    };\n\n    ListTable.prototype.render = function render() {\n      var _this2 = this;\n      /* eslint-disable prefer-const */\n\n\n      var _props = this.props,\n          components = _props.components,\n          children = _props.children,\n          className = _props.className,\n          prefix = _props.prefix,\n          others = _objectWithoutProperties(_props, ['components', 'children', 'className', 'prefix']);\n\n      var isList = false,\n          ret = [];\n      Children.forEach(children, function (child) {\n        if (child) {\n          if (['function', 'object'].indexOf(_typeof(child.type)) > -1) {\n            if (child.type._typeMark === 'listHeader') {\n              _this2.listHeader = child.props;\n              isList = true;\n            } else if (child.type._typeMark === 'listFooter') {\n              _this2.listFooter = child.props;\n            } else {\n              ret.push(child);\n            }\n          } else {\n            ret.push(child);\n          }\n        }\n      });\n      this.rowSelection = this.props.rowSelection;\n\n      if (isList) {\n        var _classnames;\n\n        components = _extends({}, components);\n        components.Row = components.Row || RowComponent;\n        components.Body = components.Body || BodyComponent;\n        components.Header = components.Header || HeaderComponent;\n        components.Wrapper = components.Wrapper || WrapperComponent;\n        className = classnames((_classnames = {}, _classnames[prefix + 'table-group'] = true, _classnames[className] = className, _classnames));\n      }\n\n      return React.createElement(BaseComponent, _extends({}, others, {\n        components: components,\n        children: ret.length > 0 ? ret : undefined,\n        className: className,\n        prefix: prefix\n      }));\n    };\n\n    return ListTable;\n  }(React.Component), _class.ListHeader = ListHeader, _class.ListFooter = ListFooter, _class.ListRow = RowComponent, _class.ListBody = BodyComponent, _class.propTypes = _extends({}, BaseComponent.propTypes), _class.defaultProps = _extends({}, BaseComponent.defaultProps), _class.childContextTypes = {\n    listHeader: PropTypes.any,\n    listFooter: PropTypes.any,\n    rowSelection: PropTypes.object\n  }, _temp2);\n  ListTable.displayName = 'ListTable';\n  statics(ListTable, BaseComponent);\n  return ListTable;\n}","map":{"version":3,"sources":["/Users/Chris/Project/lunch-order-backstage/node_modules/@alifd/next/es/table/list.js"],"names":["_extends","_typeof","_objectWithoutProperties","_classCallCheck","_possibleConstructorReturn","_inherits","React","Children","PropTypes","classnames","ListHeader","ListFooter","RowComponent","BodyComponent","HeaderComponent","WrapperComponent","statics","list","BaseComponent","_class","_temp2","ListTable","_React$Component","_temp","_this","_ret","_len","arguments","length","args","Array","_key","call","apply","concat","state","prototype","getChildContext","listHeader","listFooter","rowSelection","normalizeDataSource","dataSource","ret","loop","level","forEach","item","__level","push","children","ds","render","_this2","_props","props","components","className","prefix","others","isList","child","indexOf","type","_typeMark","_classnames","Row","Body","Header","Wrapper","createElement","undefined","Component","ListRow","ListBody","propTypes","defaultProps","childContextTypes","any","object","displayName"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,+BAArB;AACA,OAAOC,OAAP,MAAoB,8BAApB;AACA,OAAOC,wBAAP,MAAqC,+CAArC;AACA,OAAOC,eAAP,MAA4B,sCAA5B;AACA,OAAOC,0BAAP,MAAuC,iDAAvC;AACA,OAAOC,SAAP,MAAsB,gCAAtB;AACA,OAAOC,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,OAAOC,UAAP,MAAuB,eAAvB;AACA,OAAOC,UAAP,MAAuB,eAAvB;AACA,OAAOC,YAAP,MAAyB,YAAzB;AACA,OAAOC,aAAP,MAA0B,aAA1B;AACA,OAAOC,eAAP,MAA4B,gBAA5B;AACA,OAAOC,gBAAP,MAA6B,iBAA7B;AACA,SAASC,OAAT,QAAwB,QAAxB;AAEA,eAAe,SAASC,IAAT,CAAcC,aAAd,EAA6B;AACxC,MAAIC,MAAJ,EAAYC,MAAZ;;AAEA,MAAIC,SAAS,IAAID,MAAM,GAAGD,MAAM,GAAG,UAAUG,gBAAV,EAA4B;AAC3DjB,IAAAA,SAAS,CAACgB,SAAD,EAAYC,gBAAZ,CAAT;;AAEA,aAASD,SAAT,GAAqB;AACjB,UAAIE,KAAJ,EAAWC,KAAX,EAAkBC,IAAlB;;AAEAtB,MAAAA,eAAe,CAAC,IAAD,EAAOkB,SAAP,CAAf;;AAEA,WAAK,IAAIK,IAAI,GAAGC,SAAS,CAACC,MAArB,EAA6BC,IAAI,GAAGC,KAAK,CAACJ,IAAD,CAAzC,EAAiDK,IAAI,GAAG,CAA7D,EAAgEA,IAAI,GAAGL,IAAvE,EAA6EK,IAAI,EAAjF,EAAqF;AACjFF,QAAAA,IAAI,CAACE,IAAD,CAAJ,GAAaJ,SAAS,CAACI,IAAD,CAAtB;AACH;;AAED,aAAON,IAAI,IAAIF,KAAK,IAAIC,KAAK,GAAGpB,0BAA0B,CAAC,IAAD,EAAOkB,gBAAgB,CAACU,IAAjB,CAAsBC,KAAtB,CAA4BX,gBAA5B,EAA8C,CAAC,IAAD,EAAOY,MAAP,CAAcL,IAAd,CAA9C,CAAP,CAAlC,EAA8GL,KAAlH,CAAL,EAA+HA,KAAK,CAACW,KAAN,GAAc,EAA7I,EAAiJZ,KAArJ,CAAJ,EAAiKnB,0BAA0B,CAACoB,KAAD,EAAQC,IAAR,CAAlM;AACH;;AAEDJ,IAAAA,SAAS,CAACe,SAAV,CAAoBC,eAApB,GAAsC,SAASA,eAAT,GAA2B;AAC7D,aAAO;AACHC,QAAAA,UAAU,EAAE,KAAKA,UADd;AAEHC,QAAAA,UAAU,EAAE,KAAKA,UAFd;AAGHC,QAAAA,YAAY,EAAE,KAAKA;AAHhB,OAAP;AAKH,KAND;;AAQAnB,IAAAA,SAAS,CAACe,SAAV,CAAoBK,mBAApB,GAA0C,SAASA,mBAAT,CAA6BC,UAA7B,EAAyC;AAC/E,UAAIC,GAAG,GAAG,EAAV;;AACA,UAAIC,IAAI,GAAG,SAASA,IAAT,CAAcF,UAAd,EAA0BG,KAA1B,EAAiC;AACxCH,QAAAA,UAAU,CAACI,OAAX,CAAmB,UAAUC,IAAV,EAAgB;AAC/BA,UAAAA,IAAI,CAACC,OAAL,GAAeH,KAAf;AACAF,UAAAA,GAAG,CAACM,IAAJ,CAASF,IAAT;;AACA,cAAIA,IAAI,CAACG,QAAT,EAAmB;AACfN,YAAAA,IAAI,CAACG,IAAI,CAACG,QAAN,EAAgBL,KAAK,GAAG,CAAxB,CAAJ;AACH;AACJ,SAND;AAOH,OARD;;AASAD,MAAAA,IAAI,CAACF,UAAD,EAAa,CAAb,CAAJ;AACA,WAAKS,EAAL,GAAUR,GAAV;AACA,aAAOA,GAAP;AACH,KAdD;;AAgBAtB,IAAAA,SAAS,CAACe,SAAV,CAAoBgB,MAApB,GAA6B,SAASA,MAAT,GAAkB;AAC3C,UAAIC,MAAM,GAAG,IAAb;AAEA;;;AACA,UAAIC,MAAM,GAAG,KAAKC,KAAlB;AAAA,UACIC,UAAU,GAAGF,MAAM,CAACE,UADxB;AAAA,UAEIN,QAAQ,GAAGI,MAAM,CAACJ,QAFtB;AAAA,UAGIO,SAAS,GAAGH,MAAM,CAACG,SAHvB;AAAA,UAIIC,MAAM,GAAGJ,MAAM,CAACI,MAJpB;AAAA,UAKIC,MAAM,GAAGzD,wBAAwB,CAACoD,MAAD,EAAS,CAAC,YAAD,EAAe,UAAf,EAA2B,WAA3B,EAAwC,QAAxC,CAAT,CALrC;;AAOA,UAAIM,MAAM,GAAG,KAAb;AAAA,UACIjB,GAAG,GAAG,EADV;AAEApC,MAAAA,QAAQ,CAACuC,OAAT,CAAiBI,QAAjB,EAA2B,UAAUW,KAAV,EAAiB;AACxC,YAAIA,KAAJ,EAAW;AACP,cAAI,CAAC,UAAD,EAAa,QAAb,EAAuBC,OAAvB,CAA+B7D,OAAO,CAAC4D,KAAK,CAACE,IAAP,CAAtC,IAAsD,CAAC,CAA3D,EAA8D;AAC1D,gBAAIF,KAAK,CAACE,IAAN,CAAWC,SAAX,KAAyB,YAA7B,EAA2C;AACvCX,cAAAA,MAAM,CAACf,UAAP,GAAoBuB,KAAK,CAACN,KAA1B;AACAK,cAAAA,MAAM,GAAG,IAAT;AACH,aAHD,MAGO,IAAIC,KAAK,CAACE,IAAN,CAAWC,SAAX,KAAyB,YAA7B,EAA2C;AAC9CX,cAAAA,MAAM,CAACd,UAAP,GAAoBsB,KAAK,CAACN,KAA1B;AACH,aAFM,MAEA;AACHZ,cAAAA,GAAG,CAACM,IAAJ,CAASY,KAAT;AACH;AACJ,WATD,MASO;AACHlB,YAAAA,GAAG,CAACM,IAAJ,CAASY,KAAT;AACH;AACJ;AACJ,OAfD;AAgBA,WAAKrB,YAAL,GAAoB,KAAKe,KAAL,CAAWf,YAA/B;;AACA,UAAIoB,MAAJ,EAAY;AACR,YAAIK,WAAJ;;AAEAT,QAAAA,UAAU,GAAGxD,QAAQ,CAAC,EAAD,EAAKwD,UAAL,CAArB;AACAA,QAAAA,UAAU,CAACU,GAAX,GAAiBV,UAAU,CAACU,GAAX,IAAkBtD,YAAnC;AACA4C,QAAAA,UAAU,CAACW,IAAX,GAAkBX,UAAU,CAACW,IAAX,IAAmBtD,aAArC;AACA2C,QAAAA,UAAU,CAACY,MAAX,GAAoBZ,UAAU,CAACY,MAAX,IAAqBtD,eAAzC;AACA0C,QAAAA,UAAU,CAACa,OAAX,GAAqBb,UAAU,CAACa,OAAX,IAAsBtD,gBAA3C;AACA0C,QAAAA,SAAS,GAAGhD,UAAU,EAAEwD,WAAW,GAAG,EAAd,EAAkBA,WAAW,CAACP,MAAM,GAAG,aAAV,CAAX,GAAsC,IAAxD,EAA8DO,WAAW,CAACR,SAAD,CAAX,GAAyBA,SAAvF,EAAkGQ,WAApG,EAAtB;AACH;;AACD,aAAO3D,KAAK,CAACgE,aAAN,CAAoBpD,aAApB,EAAmClB,QAAQ,CAAC,EAAD,EAAK2D,MAAL,EAAa;AAC3DH,QAAAA,UAAU,EAAEA,UAD+C;AAE3DN,QAAAA,QAAQ,EAAEP,GAAG,CAACf,MAAJ,GAAa,CAAb,GAAiBe,GAAjB,GAAuB4B,SAF0B;AAG3Dd,QAAAA,SAAS,EAAEA,SAHgD;AAI3DC,QAAAA,MAAM,EAAEA;AAJmD,OAAb,CAA3C,CAAP;AAMH,KA9CD;;AAgDA,WAAOrC,SAAP;AACH,GAxFkC,CAwFjCf,KAAK,CAACkE,SAxF2B,CAAlB,EAwFGrD,MAAM,CAACT,UAAP,GAAoBA,UAxFvB,EAwFmCS,MAAM,CAACR,UAAP,GAAoBA,UAxFvD,EAwFmEQ,MAAM,CAACsD,OAAP,GAAiB7D,YAxFpF,EAwFkGO,MAAM,CAACuD,QAAP,GAAkB7D,aAxFpH,EAwFmIM,MAAM,CAACwD,SAAP,GAAmB3E,QAAQ,CAAC,EAAD,EAAKkB,aAAa,CAACyD,SAAnB,CAxF9J,EAwF6LxD,MAAM,CAACyD,YAAP,GAAsB5E,QAAQ,CAAC,EAAD,EAAKkB,aAAa,CAAC0D,YAAnB,CAxF3N,EAwF6PzD,MAAM,CAAC0D,iBAAP,GAA2B;AACrSvC,IAAAA,UAAU,EAAE9B,SAAS,CAACsE,GAD+Q;AAErSvC,IAAAA,UAAU,EAAE/B,SAAS,CAACsE,GAF+Q;AAGrStC,IAAAA,YAAY,EAAEhC,SAAS,CAACuE;AAH6Q,GAxFxR,EA4Fd3D,MA5FU,CAAb;AA6FAC,EAAAA,SAAS,CAAC2D,WAAV,GAAwB,WAAxB;AAEAhE,EAAAA,OAAO,CAACK,SAAD,EAAYH,aAAZ,CAAP;AACA,SAAOG,SAAP;AACH","sourcesContent":["import _extends from 'babel-runtime/helpers/extends';\nimport _typeof from 'babel-runtime/helpers/typeof';\nimport _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React, { Children } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport ListHeader from './list-header';\nimport ListFooter from './list-footer';\nimport RowComponent from './list/row';\nimport BodyComponent from './list/body';\nimport HeaderComponent from './fixed/header';\nimport WrapperComponent from './fixed/wrapper';\nimport { statics } from './util';\n\nexport default function list(BaseComponent) {\n    var _class, _temp2;\n\n    var ListTable = (_temp2 = _class = function (_React$Component) {\n        _inherits(ListTable, _React$Component);\n\n        function ListTable() {\n            var _temp, _this, _ret;\n\n            _classCallCheck(this, ListTable);\n\n            for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n                args[_key] = arguments[_key];\n            }\n\n            return _ret = (_temp = (_this = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _this.state = {}, _temp), _possibleConstructorReturn(_this, _ret);\n        }\n\n        ListTable.prototype.getChildContext = function getChildContext() {\n            return {\n                listHeader: this.listHeader,\n                listFooter: this.listFooter,\n                rowSelection: this.rowSelection\n            };\n        };\n\n        ListTable.prototype.normalizeDataSource = function normalizeDataSource(dataSource) {\n            var ret = [];\n            var loop = function loop(dataSource, level) {\n                dataSource.forEach(function (item) {\n                    item.__level = level;\n                    ret.push(item);\n                    if (item.children) {\n                        loop(item.children, level + 1);\n                    }\n                });\n            };\n            loop(dataSource, 0);\n            this.ds = ret;\n            return ret;\n        };\n\n        ListTable.prototype.render = function render() {\n            var _this2 = this;\n\n            /* eslint-disable prefer-const */\n            var _props = this.props,\n                components = _props.components,\n                children = _props.children,\n                className = _props.className,\n                prefix = _props.prefix,\n                others = _objectWithoutProperties(_props, ['components', 'children', 'className', 'prefix']);\n\n            var isList = false,\n                ret = [];\n            Children.forEach(children, function (child) {\n                if (child) {\n                    if (['function', 'object'].indexOf(_typeof(child.type)) > -1) {\n                        if (child.type._typeMark === 'listHeader') {\n                            _this2.listHeader = child.props;\n                            isList = true;\n                        } else if (child.type._typeMark === 'listFooter') {\n                            _this2.listFooter = child.props;\n                        } else {\n                            ret.push(child);\n                        }\n                    } else {\n                        ret.push(child);\n                    }\n                }\n            });\n            this.rowSelection = this.props.rowSelection;\n            if (isList) {\n                var _classnames;\n\n                components = _extends({}, components);\n                components.Row = components.Row || RowComponent;\n                components.Body = components.Body || BodyComponent;\n                components.Header = components.Header || HeaderComponent;\n                components.Wrapper = components.Wrapper || WrapperComponent;\n                className = classnames((_classnames = {}, _classnames[prefix + 'table-group'] = true, _classnames[className] = className, _classnames));\n            }\n            return React.createElement(BaseComponent, _extends({}, others, {\n                components: components,\n                children: ret.length > 0 ? ret : undefined,\n                className: className,\n                prefix: prefix\n            }));\n        };\n\n        return ListTable;\n    }(React.Component), _class.ListHeader = ListHeader, _class.ListFooter = ListFooter, _class.ListRow = RowComponent, _class.ListBody = BodyComponent, _class.propTypes = _extends({}, BaseComponent.propTypes), _class.defaultProps = _extends({}, BaseComponent.defaultProps), _class.childContextTypes = {\n        listHeader: PropTypes.any,\n        listFooter: PropTypes.any,\n        rowSelection: PropTypes.object\n    }, _temp2);\n    ListTable.displayName = 'ListTable';\n\n    statics(ListTable, BaseComponent);\n    return ListTable;\n}"]},"metadata":{},"sourceType":"module"}