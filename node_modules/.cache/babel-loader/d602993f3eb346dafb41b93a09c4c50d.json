{"ast":null,"code":"import _extends from 'babel-runtime/helpers/extends';\nimport _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\n\nvar _class, _temp;\n\nimport React, { Component } from 'react';\nimport { render, unmountComponentAtNode } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport Overlay from '../../overlay';\nimport { func } from '../../util';\nimport ConfigProvider from '../../config-provider';\nimport menu from './menu';\nvar bindCtx = func.bindCtx;\nvar getContextProps = ConfigProvider.getContextProps;\nvar Menu = ConfigProvider.config(menu);\nvar menuInstance = void 0;\nvar ContextMenu = (_temp = _class = function (_Component) {\n  _inherits(ContextMenu, _Component);\n\n  function ContextMenu(props) {\n    _classCallCheck(this, ContextMenu);\n\n    var _this = _possibleConstructorReturn(this, _Component.call(this, props));\n\n    _this.state = {\n      visible: true\n    };\n    bindCtx(_this, ['handleOverlayClose', 'handleOverlayOpen', 'handleItemClick', 'getOverlay']);\n    return _this;\n  }\n\n  ContextMenu.prototype.getOverlay = function getOverlay(ref) {\n    this.overlay = ref;\n  };\n\n  ContextMenu.prototype.close = function close() {\n    this.setState({\n      visible: false\n    });\n    menuInstance = null;\n  };\n\n  ContextMenu.prototype.handleOverlayClose = function handleOverlayClose(triggerType, e) {\n    var clickedPopupMenu = triggerType === 'docClick' && this.popupNodes.some(function (node) {\n      return node.contains(e.target);\n    });\n\n    if (!clickedPopupMenu) {\n      this.close();\n      var overlayProps = this.props.overlayProps;\n\n      if (overlayProps && overlayProps.onRequestClose) {\n        for (var _len = arguments.length, others = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n          others[_key - 2] = arguments[_key];\n        }\n\n        overlayProps.onRequestClose.apply(overlayProps, [triggerType, e].concat(others));\n      }\n    }\n  };\n\n  ContextMenu.prototype.handleOverlayOpen = function handleOverlayOpen() {\n    this.popupNodes = this.overlay.getInstance().getContent().getInstance().popupNodes;\n    var overlayProps = this.props.overlayProps;\n\n    if (overlayProps && overlayProps.onOpen) {\n      overlayProps.onOpen();\n    }\n  };\n\n  ContextMenu.prototype.handleItemClick = function handleItemClick() {\n    var _props;\n\n    this.close();\n    this.props.onItemClick && (_props = this.props).onItemClick.apply(_props, arguments);\n  };\n\n  ContextMenu.prototype.render = function render() {\n    var _cx, _cx2;\n\n    var _props2 = this.props,\n        className = _props2.className,\n        popupClassName = _props2.popupClassName,\n        target = _props2.target,\n        align = _props2.align,\n        offset = _props2.offset,\n        afterClose = _props2.afterClose,\n        _props2$overlayProps = _props2.overlayProps,\n        overlayProps = _props2$overlayProps === undefined ? {} : _props2$overlayProps,\n        others = _objectWithoutProperties(_props2, ['className', 'popupClassName', 'target', 'align', 'offset', 'afterClose', 'overlayProps']);\n\n    var contextProps = getContextProps(this.props);\n    var prefix = contextProps.prefix;\n    var visible = this.state.visible;\n\n    var newOverlayProps = _extends({}, contextProps, overlayProps, {\n      target: target,\n      align: align,\n      offset: offset,\n      afterClose: afterClose,\n      visible: visible,\n      onRequestClose: this.handleOverlayClose,\n      onOpen: this.handleOverlayOpen,\n      ref: this.getOverlay\n    });\n\n    var menuProps = _extends({}, contextProps, {\n      triggerType: 'hover'\n    }, others, {\n      className: cx((_cx = {}, _cx[prefix + 'context'] = true, _cx[className] = !!className, _cx)),\n      popupClassName: cx((_cx2 = {}, _cx2[prefix + 'context'] = true, _cx2[popupClassName] = !!popupClassName, _cx2)),\n      onItemClick: this.handleItemClick\n    });\n\n    newOverlayProps.rtl = false;\n    return React.createElement(Overlay, newOverlayProps, React.createElement(Menu, menuProps));\n  };\n\n  return ContextMenu;\n}(Component), _class.propTypes = {\n  className: PropTypes.string,\n  popupClassName: PropTypes.string,\n  target: PropTypes.any,\n  align: PropTypes.string,\n  offset: PropTypes.array,\n  overlayProps: PropTypes.object,\n  afterClose: PropTypes.func,\n  mode: PropTypes.oneOf(['inline', 'popup']),\n  onOpen: PropTypes.func,\n  onItemClick: PropTypes.func\n}, _class.defaultProps = {\n  prefix: 'next-',\n  align: 'tl tl',\n  mode: 'popup'\n}, _temp);\n/**\n * 创建上下文菜单\n * @exportName create\n * @param {Object} props 属性对象\n */\n\nContextMenu.displayName = 'ContextMenu';\nexport default function create(props) {\n  if (menuInstance) {\n    menuInstance.destroy();\n  }\n  /* eslint-disable no-unused-vars */\n\n\n  var afterClose = props.afterClose,\n      others = _objectWithoutProperties(props, ['afterClose']);\n  /* eslint-enable no-unused-vars */\n\n\n  var div = document.createElement('div');\n  document.body.appendChild(div);\n\n  var closeChain = function closeChain() {\n    unmountComponentAtNode(div);\n    document.body.removeChild(div);\n    afterClose && afterClose();\n  };\n\n  var newContext = ConfigProvider.getContext();\n  var menu = void 0;\n  render(React.createElement(ConfigProvider, newContext, React.createElement(ContextMenu, _extends({\n    ref: function ref(_ref) {\n      menu = _ref;\n    },\n    afterClose: closeChain\n  }, others))), div);\n  menuInstance = {\n    destroy: function destroy() {\n      if (menu) {\n        menu.close();\n      }\n    }\n  };\n  return menuInstance;\n}","map":{"version":3,"sources":["/Users/Chris/Project/lunch-order-backstage/node_modules/@alifd/next/es/menu/view/create.js"],"names":["_extends","_objectWithoutProperties","_classCallCheck","_possibleConstructorReturn","_inherits","_class","_temp","React","Component","render","unmountComponentAtNode","PropTypes","cx","Overlay","func","ConfigProvider","menu","bindCtx","getContextProps","Menu","config","menuInstance","ContextMenu","_Component","props","_this","call","state","visible","prototype","getOverlay","ref","overlay","close","setState","handleOverlayClose","triggerType","e","clickedPopupMenu","popupNodes","some","node","contains","target","overlayProps","onRequestClose","_len","arguments","length","others","Array","_key","apply","concat","handleOverlayOpen","getInstance","getContent","onOpen","handleItemClick","_props","onItemClick","_cx","_cx2","_props2","className","popupClassName","align","offset","afterClose","_props2$overlayProps","undefined","contextProps","prefix","newOverlayProps","menuProps","rtl","createElement","propTypes","string","any","array","object","mode","oneOf","defaultProps","displayName","create","destroy","div","document","body","appendChild","closeChain","removeChild","newContext","getContext","_ref"],"mappings":"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","sourcesContent":["import _extends from 'babel-runtime/helpers/extends';\nimport _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\n\nvar _class, _temp;\n\nimport React, { Component } from 'react';\nimport { render, unmountComponentAtNode } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport Overlay from '../../overlay';\nimport { func } from '../../util';\nimport ConfigProvider from '../../config-provider';\nimport menu from './menu';\n\nvar bindCtx = func.bindCtx;\nvar getContextProps = ConfigProvider.getContextProps;\n\nvar Menu = ConfigProvider.config(menu);\n\nvar menuInstance = void 0;\n\nvar ContextMenu = (_temp = _class = function (_Component) {\n    _inherits(ContextMenu, _Component);\n\n    function ContextMenu(props) {\n        _classCallCheck(this, ContextMenu);\n\n        var _this = _possibleConstructorReturn(this, _Component.call(this, props));\n\n        _this.state = {\n            visible: true\n        };\n\n        bindCtx(_this, ['handleOverlayClose', 'handleOverlayOpen', 'handleItemClick', 'getOverlay']);\n        return _this;\n    }\n\n    ContextMenu.prototype.getOverlay = function getOverlay(ref) {\n        this.overlay = ref;\n    };\n\n    ContextMenu.prototype.close = function close() {\n        this.setState({\n            visible: false\n        });\n        menuInstance = null;\n    };\n\n    ContextMenu.prototype.handleOverlayClose = function handleOverlayClose(triggerType, e) {\n        var clickedPopupMenu = triggerType === 'docClick' && this.popupNodes.some(function (node) {\n            return node.contains(e.target);\n        });\n        if (!clickedPopupMenu) {\n            this.close();\n            var overlayProps = this.props.overlayProps;\n\n            if (overlayProps && overlayProps.onRequestClose) {\n                for (var _len = arguments.length, others = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n                    others[_key - 2] = arguments[_key];\n                }\n\n                overlayProps.onRequestClose.apply(overlayProps, [triggerType, e].concat(others));\n            }\n        }\n    };\n\n    ContextMenu.prototype.handleOverlayOpen = function handleOverlayOpen() {\n        this.popupNodes = this.overlay.getInstance().getContent().getInstance().popupNodes;\n        var overlayProps = this.props.overlayProps;\n\n        if (overlayProps && overlayProps.onOpen) {\n            overlayProps.onOpen();\n        }\n    };\n\n    ContextMenu.prototype.handleItemClick = function handleItemClick() {\n        var _props;\n\n        this.close();\n\n        this.props.onItemClick && (_props = this.props).onItemClick.apply(_props, arguments);\n    };\n\n    ContextMenu.prototype.render = function render() {\n        var _cx, _cx2;\n\n        var _props2 = this.props,\n            className = _props2.className,\n            popupClassName = _props2.popupClassName,\n            target = _props2.target,\n            align = _props2.align,\n            offset = _props2.offset,\n            afterClose = _props2.afterClose,\n            _props2$overlayProps = _props2.overlayProps,\n            overlayProps = _props2$overlayProps === undefined ? {} : _props2$overlayProps,\n            others = _objectWithoutProperties(_props2, ['className', 'popupClassName', 'target', 'align', 'offset', 'afterClose', 'overlayProps']);\n\n        var contextProps = getContextProps(this.props);\n        var prefix = contextProps.prefix;\n        var visible = this.state.visible;\n\n\n        var newOverlayProps = _extends({}, contextProps, overlayProps, {\n            target: target,\n            align: align,\n            offset: offset,\n            afterClose: afterClose,\n            visible: visible,\n            onRequestClose: this.handleOverlayClose,\n            onOpen: this.handleOverlayOpen,\n            ref: this.getOverlay\n        });\n        var menuProps = _extends({}, contextProps, {\n            triggerType: 'hover'\n        }, others, {\n            className: cx((_cx = {}, _cx[prefix + 'context'] = true, _cx[className] = !!className, _cx)),\n            popupClassName: cx((_cx2 = {}, _cx2[prefix + 'context'] = true, _cx2[popupClassName] = !!popupClassName, _cx2)),\n            onItemClick: this.handleItemClick\n        });\n\n        newOverlayProps.rtl = false;\n\n        return React.createElement(\n            Overlay,\n            newOverlayProps,\n            React.createElement(Menu, menuProps)\n        );\n    };\n\n    return ContextMenu;\n}(Component), _class.propTypes = {\n    className: PropTypes.string,\n    popupClassName: PropTypes.string,\n    target: PropTypes.any,\n    align: PropTypes.string,\n    offset: PropTypes.array,\n    overlayProps: PropTypes.object,\n    afterClose: PropTypes.func,\n    mode: PropTypes.oneOf(['inline', 'popup']),\n    onOpen: PropTypes.func,\n    onItemClick: PropTypes.func\n}, _class.defaultProps = {\n    prefix: 'next-',\n    align: 'tl tl',\n    mode: 'popup'\n}, _temp);\n\n/**\n * 创建上下文菜单\n * @exportName create\n * @param {Object} props 属性对象\n */\n\nContextMenu.displayName = 'ContextMenu';\nexport default function create(props) {\n    if (menuInstance) {\n        menuInstance.destroy();\n    }\n\n    /* eslint-disable no-unused-vars */\n\n    var afterClose = props.afterClose,\n        others = _objectWithoutProperties(props, ['afterClose']);\n    /* eslint-enable no-unused-vars */\n\n    var div = document.createElement('div');\n    document.body.appendChild(div);\n\n    var closeChain = function closeChain() {\n        unmountComponentAtNode(div);\n        document.body.removeChild(div);\n\n        afterClose && afterClose();\n    };\n\n    var newContext = ConfigProvider.getContext();\n\n    var menu = void 0;\n    render(React.createElement(\n        ConfigProvider,\n        newContext,\n        React.createElement(ContextMenu, _extends({\n            ref: function ref(_ref) {\n                menu = _ref;\n            },\n            afterClose: closeChain\n        }, others))\n    ), div);\n\n    menuInstance = {\n        destroy: function destroy() {\n            if (menu) {\n                menu.close();\n            }\n        }\n    };\n\n    return menuInstance;\n}"]},"metadata":{},"sourceType":"module"}