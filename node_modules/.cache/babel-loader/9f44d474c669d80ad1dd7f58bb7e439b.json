{"ast":null,"code":"import _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\n\nvar _class, _temp;\n\nimport React, { Component, Children, isValidElement } from 'react';\nimport { findDOMNode } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport { func, obj, KEYCODE } from '../../util';\nvar bindCtx = func.bindCtx;\nvar pickOthers = obj.pickOthers;\nvar Item = (_temp = _class = function (_Component) {\n  _inherits(Item, _Component);\n\n  function Item(props) {\n    _classCallCheck(this, Item);\n\n    var _this = _possibleConstructorReturn(this, _Component.call(this, props));\n\n    bindCtx(_this, ['handleClick', 'handleKeyDown']);\n    return _this;\n  }\n\n  Item.prototype.componentDidMount = function componentDidMount() {\n    this.itemNode = findDOMNode(this);\n    var _props = this.props,\n        parentMode = _props.parentMode,\n        root = _props.root,\n        menu = _props.menu;\n\n    if (menu) {\n      this.menuNode = findDOMNode(menu);\n    } else if (parentMode === 'popup') {\n      this.menuNode = this.itemNode.parentNode;\n    } else {\n      this.menuNode = findDOMNode(root);\n      var _root$props = root.props,\n          prefix = _root$props.prefix,\n          header = _root$props.header,\n          footer = _root$props.footer;\n\n      if (header || footer) {\n        this.menuNode = this.menuNode.querySelector('.' + prefix + 'menu-content');\n      }\n    }\n\n    this.setFocus();\n  };\n\n  Item.prototype.componentDidUpdate = function componentDidUpdate() {\n    if (this.props.root.props.focusable) {\n      this.setFocus();\n    }\n  };\n\n  Item.prototype.focusable = function focusable() {\n    var _props2 = this.props,\n        root = _props2.root,\n        type = _props2.type,\n        disabled = _props2.disabled;\n    var focusable = root.props.focusable;\n    return focusable && (type === 'submenu' || !disabled);\n  };\n\n  Item.prototype.getFocused = function getFocused() {\n    var _props3 = this.props,\n        _key = _props3._key,\n        root = _props3.root;\n    var focusedKey = root.state.focusedKey;\n    return focusedKey === _key;\n  };\n\n  Item.prototype.setFocus = function setFocus() {\n    var focused = this.getFocused();\n\n    if (focused) {\n      if (this.focusable()) {\n        this.itemNode.focus({\n          preventScroll: true\n        });\n      }\n\n      if (this.menuNode && this.menuNode.scrollHeight > this.menuNode.clientHeight) {\n        var scrollBottom = this.menuNode.clientHeight + this.menuNode.scrollTop;\n        var itemBottom = this.itemNode.offsetTop + this.itemNode.offsetHeight;\n\n        if (itemBottom > scrollBottom) {\n          this.menuNode.scrollTop = itemBottom - this.menuNode.clientHeight;\n        } else if (this.itemNode.offsetTop < this.menuNode.scrollTop) {\n          this.menuNode.scrollTop = this.itemNode.offsetTop;\n        }\n      }\n    }\n  };\n\n  Item.prototype.handleClick = function handleClick(e) {\n    e.stopPropagation();\n    var _props4 = this.props,\n        _key = _props4._key,\n        root = _props4.root,\n        disabled = _props4.disabled;\n\n    if (!disabled) {\n      root.handleItemClick(_key, this, e);\n      this.props.onClick && this.props.onClick(e);\n    } else {\n      e.preventDefault();\n    }\n  };\n\n  Item.prototype.handleKeyDown = function handleKeyDown(e) {\n    var _props5 = this.props,\n        _key = _props5._key,\n        root = _props5.root,\n        type = _props5.type;\n\n    if (this.focusable()) {\n      root.handleItemKeyDown(_key, type, this, e);\n\n      switch (e.keyCode) {\n        case KEYCODE.ENTER:\n          {\n            if (!(type === 'submenu')) {\n              this.handleClick(e);\n            }\n\n            break;\n          }\n      }\n    }\n\n    this.props.onKeyDown && this.props.onKeyDown(e);\n  };\n\n  Item.prototype.getTitle = function getTitle(children) {\n    if (typeof children === 'string') {\n      return children;\n    }\n\n    return;\n  };\n\n  Item.prototype.render = function render() {\n    var _cx;\n\n    var _props6 = this.props,\n        inlineLevel = _props6.inlineLevel,\n        root = _props6.root,\n        replaceClassName = _props6.replaceClassName,\n        groupIndent = _props6.groupIndent,\n        component = _props6.component,\n        disabled = _props6.disabled,\n        className = _props6.className,\n        children = _props6.children,\n        needIndent = _props6.needIndent,\n        parentMode = _props6.parentMode,\n        _key = _props6._key;\n    var others = pickOthers(Object.keys(Item.propTypes), this.props);\n    var _root$props2 = root.props,\n        prefix = _root$props2.prefix,\n        focusable = _root$props2.focusable,\n        inlineIndent = _root$props2.inlineIndent,\n        itemClassName = _root$props2.itemClassName,\n        rtl = _root$props2.rtl;\n    var focused = this.getFocused();\n    var newClassName = replaceClassName ? className : cx((_cx = {}, _cx[prefix + 'menu-item'] = true, _cx[prefix + 'disabled'] = disabled, _cx[prefix + 'focused'] = !focusable && focused, _cx[itemClassName] = !!itemClassName, _cx[className] = !!className, _cx));\n\n    if (disabled) {\n      others['aria-disabled'] = true;\n      others['aria-hidden'] = true;\n    }\n\n    others.tabIndex = root.state.tabbableKey === _key ? '0' : '-1';\n\n    if (parentMode === 'inline' && inlineLevel > 1 && inlineIndent > 0 && needIndent) {\n      var _extends2;\n\n      var paddingProp = rtl ? 'paddingRight' : 'paddingLeft';\n      others.style = _extends({}, others.style || {}, (_extends2 = {}, _extends2[paddingProp] = inlineLevel * inlineIndent - (groupIndent || 0) * 0.4 * inlineIndent + 'px', _extends2));\n    }\n\n    var TagName = component;\n    var role = 'menuitem';\n\n    if ('selectMode' in root.props) {\n      role = 'option';\n    }\n\n    return React.createElement(TagName, _extends({\n      role: role,\n      title: this.getTitle(children)\n    }, others, {\n      className: newClassName,\n      onClick: this.handleClick,\n      onKeyDown: this.handleKeyDown\n    }), React.createElement('div', {\n      className: prefix + 'menu-item-inner'\n    }, children));\n  };\n\n  return Item;\n}(Component), _class.propTypes = {\n  _key: PropTypes.string,\n  level: PropTypes.number,\n  inlineLevel: PropTypes.number,\n  groupIndent: PropTypes.number,\n  root: PropTypes.object,\n  menu: PropTypes.any,\n  parent: PropTypes.object,\n  parentMode: PropTypes.oneOf(['inline', 'popup']),\n  type: PropTypes.oneOf(['submenu', 'item']),\n  component: PropTypes.string,\n  disabled: PropTypes.bool,\n  className: PropTypes.string,\n  onClick: PropTypes.func,\n  onKeyDown: PropTypes.func,\n  needIndent: PropTypes.bool,\n  replaceClassName: PropTypes.bool\n}, _class.defaultProps = {\n  component: 'li',\n  groupIndent: 0,\n  replaceClassName: false,\n  needIndent: true\n}, _temp);\nItem.displayName = 'Item';\nexport { Item as default };","map":{"version":3,"sources":["/Users/Chris/Project/lunch-order-backstage/node_modules/@alifd/next/es/menu/view/item.js"],"names":["_extends","_classCallCheck","_possibleConstructorReturn","_inherits","_class","_temp","React","Component","Children","isValidElement","findDOMNode","PropTypes","cx","func","obj","KEYCODE","bindCtx","pickOthers","Item","_Component","props","_this","call","prototype","componentDidMount","itemNode","_props","parentMode","root","menu","menuNode","parentNode","_root$props","prefix","header","footer","querySelector","setFocus","componentDidUpdate","focusable","_props2","type","disabled","getFocused","_props3","_key","focusedKey","state","focused","focus","preventScroll","scrollHeight","clientHeight","scrollBottom","scrollTop","itemBottom","offsetTop","offsetHeight","handleClick","e","stopPropagation","_props4","handleItemClick","onClick","preventDefault","handleKeyDown","_props5","handleItemKeyDown","keyCode","ENTER","onKeyDown","getTitle","children","render","_cx","_props6","inlineLevel","replaceClassName","groupIndent","component","className","needIndent","others","Object","keys","propTypes","_root$props2","inlineIndent","itemClassName","rtl","newClassName","tabIndex","tabbableKey","_extends2","paddingProp","style","TagName","role","createElement","title","string","level","number","object","any","parent","oneOf","bool","defaultProps","displayName","default"],"mappings":"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","sourcesContent":["import _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\n\nvar _class, _temp;\n\nimport React, { Component, Children, isValidElement } from 'react';\nimport { findDOMNode } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport { func, obj, KEYCODE } from '../../util';\n\nvar bindCtx = func.bindCtx;\nvar pickOthers = obj.pickOthers;\nvar Item = (_temp = _class = function (_Component) {\n    _inherits(Item, _Component);\n\n    function Item(props) {\n        _classCallCheck(this, Item);\n\n        var _this = _possibleConstructorReturn(this, _Component.call(this, props));\n\n        bindCtx(_this, ['handleClick', 'handleKeyDown']);\n        return _this;\n    }\n\n    Item.prototype.componentDidMount = function componentDidMount() {\n        this.itemNode = findDOMNode(this);\n\n        var _props = this.props,\n            parentMode = _props.parentMode,\n            root = _props.root,\n            menu = _props.menu;\n\n        if (menu) {\n            this.menuNode = findDOMNode(menu);\n        } else if (parentMode === 'popup') {\n            this.menuNode = this.itemNode.parentNode;\n        } else {\n            this.menuNode = findDOMNode(root);\n            var _root$props = root.props,\n                prefix = _root$props.prefix,\n                header = _root$props.header,\n                footer = _root$props.footer;\n\n            if (header || footer) {\n                this.menuNode = this.menuNode.querySelector('.' + prefix + 'menu-content');\n            }\n        }\n\n        this.setFocus();\n    };\n\n    Item.prototype.componentDidUpdate = function componentDidUpdate() {\n        if (this.props.root.props.focusable) {\n            this.setFocus();\n        }\n    };\n\n    Item.prototype.focusable = function focusable() {\n        var _props2 = this.props,\n            root = _props2.root,\n            type = _props2.type,\n            disabled = _props2.disabled;\n        var focusable = root.props.focusable;\n\n        return focusable && (type === 'submenu' || !disabled);\n    };\n\n    Item.prototype.getFocused = function getFocused() {\n        var _props3 = this.props,\n            _key = _props3._key,\n            root = _props3.root;\n        var focusedKey = root.state.focusedKey;\n\n        return focusedKey === _key;\n    };\n\n    Item.prototype.setFocus = function setFocus() {\n        var focused = this.getFocused();\n        if (focused) {\n            if (this.focusable()) {\n                this.itemNode.focus({ preventScroll: true });\n            }\n            if (this.menuNode && this.menuNode.scrollHeight > this.menuNode.clientHeight) {\n                var scrollBottom = this.menuNode.clientHeight + this.menuNode.scrollTop;\n                var itemBottom = this.itemNode.offsetTop + this.itemNode.offsetHeight;\n                if (itemBottom > scrollBottom) {\n                    this.menuNode.scrollTop = itemBottom - this.menuNode.clientHeight;\n                } else if (this.itemNode.offsetTop < this.menuNode.scrollTop) {\n                    this.menuNode.scrollTop = this.itemNode.offsetTop;\n                }\n            }\n        }\n    };\n\n    Item.prototype.handleClick = function handleClick(e) {\n        e.stopPropagation();\n\n        var _props4 = this.props,\n            _key = _props4._key,\n            root = _props4.root,\n            disabled = _props4.disabled;\n\n\n        if (!disabled) {\n            root.handleItemClick(_key, this, e);\n\n            this.props.onClick && this.props.onClick(e);\n        } else {\n            e.preventDefault();\n        }\n    };\n\n    Item.prototype.handleKeyDown = function handleKeyDown(e) {\n        var _props5 = this.props,\n            _key = _props5._key,\n            root = _props5.root,\n            type = _props5.type;\n\n\n        if (this.focusable()) {\n            root.handleItemKeyDown(_key, type, this, e);\n\n            switch (e.keyCode) {\n                case KEYCODE.ENTER:\n                    {\n                        if (!(type === 'submenu')) {\n                            this.handleClick(e);\n                        }\n                        break;\n                    }\n            }\n        }\n\n        this.props.onKeyDown && this.props.onKeyDown(e);\n    };\n\n    Item.prototype.getTitle = function getTitle(children) {\n        if (typeof children === 'string') {\n            return children;\n        }\n        return;\n    };\n\n    Item.prototype.render = function render() {\n        var _cx;\n\n        var _props6 = this.props,\n            inlineLevel = _props6.inlineLevel,\n            root = _props6.root,\n            replaceClassName = _props6.replaceClassName,\n            groupIndent = _props6.groupIndent,\n            component = _props6.component,\n            disabled = _props6.disabled,\n            className = _props6.className,\n            children = _props6.children,\n            needIndent = _props6.needIndent,\n            parentMode = _props6.parentMode,\n            _key = _props6._key;\n\n        var others = pickOthers(Object.keys(Item.propTypes), this.props);\n\n        var _root$props2 = root.props,\n            prefix = _root$props2.prefix,\n            focusable = _root$props2.focusable,\n            inlineIndent = _root$props2.inlineIndent,\n            itemClassName = _root$props2.itemClassName,\n            rtl = _root$props2.rtl;\n\n        var focused = this.getFocused();\n\n        var newClassName = replaceClassName ? className : cx((_cx = {}, _cx[prefix + 'menu-item'] = true, _cx[prefix + 'disabled'] = disabled, _cx[prefix + 'focused'] = !focusable && focused, _cx[itemClassName] = !!itemClassName, _cx[className] = !!className, _cx));\n        if (disabled) {\n            others['aria-disabled'] = true;\n            others['aria-hidden'] = true;\n        }\n\n        others.tabIndex = root.state.tabbableKey === _key ? '0' : '-1';\n\n        if (parentMode === 'inline' && inlineLevel > 1 && inlineIndent > 0 && needIndent) {\n            var _extends2;\n\n            var paddingProp = rtl ? 'paddingRight' : 'paddingLeft';\n            others.style = _extends({}, others.style || {}, (_extends2 = {}, _extends2[paddingProp] = inlineLevel * inlineIndent - (groupIndent || 0) * 0.4 * inlineIndent + 'px', _extends2));\n        }\n        var TagName = component;\n\n        var role = 'menuitem';\n        if ('selectMode' in root.props) {\n            role = 'option';\n        }\n\n        return React.createElement(\n            TagName,\n            _extends({\n                role: role,\n                title: this.getTitle(children)\n            }, others, {\n                className: newClassName,\n                onClick: this.handleClick,\n                onKeyDown: this.handleKeyDown\n            }),\n            React.createElement(\n                'div',\n                { className: prefix + 'menu-item-inner' },\n                children\n            )\n        );\n    };\n\n    return Item;\n}(Component), _class.propTypes = {\n    _key: PropTypes.string,\n    level: PropTypes.number,\n    inlineLevel: PropTypes.number,\n    groupIndent: PropTypes.number,\n    root: PropTypes.object,\n    menu: PropTypes.any,\n    parent: PropTypes.object,\n    parentMode: PropTypes.oneOf(['inline', 'popup']),\n    type: PropTypes.oneOf(['submenu', 'item']),\n    component: PropTypes.string,\n    disabled: PropTypes.bool,\n    className: PropTypes.string,\n    onClick: PropTypes.func,\n    onKeyDown: PropTypes.func,\n    needIndent: PropTypes.bool,\n    replaceClassName: PropTypes.bool\n}, _class.defaultProps = {\n    component: 'li',\n    groupIndent: 0,\n    replaceClassName: false,\n    needIndent: true\n}, _temp);\nItem.displayName = 'Item';\nexport { Item as default };"]},"metadata":{},"sourceType":"module"}