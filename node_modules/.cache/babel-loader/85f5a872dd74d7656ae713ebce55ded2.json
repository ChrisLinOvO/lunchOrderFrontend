{"ast":null,"code":"import _extends from 'babel-runtime/helpers/extends';\nimport _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\n\nvar _class, _temp2;\n/* istanbul ignore file */\n\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { findDOMNode } from 'react-dom';\nimport Menu from '../../menu';\nvar SelectMenu = (_temp2 = _class = function (_Component) {\n  _inherits(SelectMenu, _Component);\n\n  function SelectMenu() {\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, SelectMenu);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.saveRef = function (ref) {\n      _this.menuEl = ref;\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  SelectMenu.prototype.componentDidMount = function componentDidMount() {\n    this.scrollToSelectedItem();\n  };\n\n  SelectMenu.prototype.scrollToSelectedItem = function scrollToSelectedItem() {\n    var _props = this.props,\n        prefix = _props.prefix,\n        dataSource = _props.dataSource,\n        value = _props.value;\n    var selectedIndex = dataSource.findIndex(function (item) {\n      return item.value === value;\n    });\n\n    if (selectedIndex === -1) {\n      return;\n    }\n\n    var itemSelector = '.' + prefix + 'menu-item';\n    var menu = findDOMNode(this.menuEl);\n    var targetItem = menu.querySelectorAll(itemSelector)[selectedIndex];\n\n    if (targetItem) {\n      menu.scrollTop = targetItem.offsetTop - Math.floor((menu.clientHeight / targetItem.clientHeight - 1) / 2) * targetItem.clientHeight;\n    }\n  };\n\n  SelectMenu.prototype.render = function render() {\n    var _props2 = this.props,\n        prefix = _props2.prefix,\n        dataSource = _props2.dataSource,\n        onChange = _props2.onChange,\n        value = _props2.value,\n        className = _props2.className,\n        others = _objectWithoutProperties(_props2, ['prefix', 'dataSource', 'onChange', 'value', 'className']);\n\n    return React.createElement(Menu, _extends({}, others, {\n      ref: this.saveRef,\n      selectMode: 'single',\n      selectedKeys: [String(value)],\n      onSelect: function onSelect(selectKeys) {\n        return onChange(Number(selectKeys[0]));\n      },\n      role: 'listbox',\n      className: prefix + 'calendar-panel-menu ' + className\n    }), dataSource.map(function (_ref) {\n      var label = _ref.label,\n          value = _ref.value;\n      return React.createElement(Menu.Item, {\n        key: value\n      }, label);\n    }));\n  };\n\n  return SelectMenu;\n}(Component), _class.isNextMenu = true, _class.propTypes = {\n  dataSource: PropTypes.arrayOf(PropTypes.object),\n  value: PropTypes.number,\n  prefix: PropTypes.string,\n  onChange: PropTypes.func,\n  children: PropTypes.node\n}, _temp2);\nSelectMenu.displayName = 'SelectMenu';\nexport { SelectMenu as default };","map":{"version":3,"sources":["/Users/Chris/Project/lunch-order-backstage/node_modules/@alifd/next/es/calendar/head/menu.js"],"names":["_extends","_objectWithoutProperties","_classCallCheck","_possibleConstructorReturn","_inherits","_class","_temp2","React","Component","PropTypes","findDOMNode","Menu","SelectMenu","_Component","_temp","_this","_ret","_len","arguments","length","args","Array","_key","call","apply","concat","saveRef","ref","menuEl","prototype","componentDidMount","scrollToSelectedItem","_props","props","prefix","dataSource","value","selectedIndex","findIndex","item","itemSelector","menu","targetItem","querySelectorAll","scrollTop","offsetTop","Math","floor","clientHeight","render","_props2","onChange","className","others","createElement","selectMode","selectedKeys","String","onSelect","selectKeys","Number","role","map","_ref","label","Item","key","isNextMenu","propTypes","arrayOf","object","number","string","func","children","node","displayName","default"],"mappings":"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","sourcesContent":["import _extends from 'babel-runtime/helpers/extends';\nimport _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\n\nvar _class, _temp2;\n\n/* istanbul ignore file */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { findDOMNode } from 'react-dom';\nimport Menu from '../../menu';\n\nvar SelectMenu = (_temp2 = _class = function (_Component) {\n    _inherits(SelectMenu, _Component);\n\n    function SelectMenu() {\n        var _temp, _this, _ret;\n\n        _classCallCheck(this, SelectMenu);\n\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        return _ret = (_temp = (_this = _possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.saveRef = function (ref) {\n            _this.menuEl = ref;\n        }, _temp), _possibleConstructorReturn(_this, _ret);\n    }\n\n    SelectMenu.prototype.componentDidMount = function componentDidMount() {\n        this.scrollToSelectedItem();\n    };\n\n    SelectMenu.prototype.scrollToSelectedItem = function scrollToSelectedItem() {\n        var _props = this.props,\n            prefix = _props.prefix,\n            dataSource = _props.dataSource,\n            value = _props.value;\n\n\n        var selectedIndex = dataSource.findIndex(function (item) {\n            return item.value === value;\n        });\n\n        if (selectedIndex === -1) {\n            return;\n        }\n\n        var itemSelector = '.' + prefix + 'menu-item';\n        var menu = findDOMNode(this.menuEl);\n        var targetItem = menu.querySelectorAll(itemSelector)[selectedIndex];\n        if (targetItem) {\n            menu.scrollTop = targetItem.offsetTop - Math.floor((menu.clientHeight / targetItem.clientHeight - 1) / 2) * targetItem.clientHeight;\n        }\n    };\n\n    SelectMenu.prototype.render = function render() {\n        var _props2 = this.props,\n            prefix = _props2.prefix,\n            dataSource = _props2.dataSource,\n            onChange = _props2.onChange,\n            value = _props2.value,\n            className = _props2.className,\n            others = _objectWithoutProperties(_props2, ['prefix', 'dataSource', 'onChange', 'value', 'className']);\n\n        return React.createElement(\n            Menu,\n            _extends({}, others, {\n                ref: this.saveRef,\n                selectMode: 'single',\n                selectedKeys: [String(value)],\n                onSelect: function onSelect(selectKeys) {\n                    return onChange(Number(selectKeys[0]));\n                },\n                role: 'listbox',\n                className: prefix + 'calendar-panel-menu ' + className\n            }),\n            dataSource.map(function (_ref) {\n                var label = _ref.label,\n                    value = _ref.value;\n                return React.createElement(\n                    Menu.Item,\n                    { key: value },\n                    label\n                );\n            })\n        );\n    };\n\n    return SelectMenu;\n}(Component), _class.isNextMenu = true, _class.propTypes = {\n    dataSource: PropTypes.arrayOf(PropTypes.object),\n    value: PropTypes.number,\n    prefix: PropTypes.string,\n    onChange: PropTypes.func,\n    children: PropTypes.node\n}, _temp2);\nSelectMenu.displayName = 'SelectMenu';\nexport { SelectMenu as default };"]},"metadata":{},"sourceType":"module"}