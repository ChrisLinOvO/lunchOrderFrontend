{"ast":null,"code":"import _typeof from 'babel-runtime/helpers/typeof';\nimport { camelcase, hyphenate } from './string';\nimport { each } from './object';\n/**\n * 是否能使用 DOM 方法\n * @type {Boolean}\n */\n\nexport var hasDOM = typeof window !== 'undefined' && !!window.document && !!document.createElement;\n/**\n * 节点是否包含指定 className\n * @param  {Element}  node\n * @param  {String}  className\n * @return {Boolean}\n *\n * @example\n * dom.hasClass(document.body, 'foo');\n */\n\nexport function hasClass(node, className) {\n  /* istanbul ignore if */\n  if (!hasDOM || !node) {\n    return false;\n  }\n\n  if (node.classList) {\n    return node.classList.contains(className);\n  } else {\n    return node.className.indexOf(className) > -1;\n  }\n}\n/**\n * 添加 className\n * @param {Element} node\n * @param {String} className\n *\n * @example\n * dom.addClass(document.body, 'foo');\n */\n\nexport function addClass(node, className, _force) {\n  /* istanbul ignore if */\n  if (!hasDOM || !node) {\n    return;\n  }\n\n  if (node.classList) {\n    node.classList.add(className);\n  } else if (_force === true || !hasClass(node, className)) {\n    node.className += ' ' + className;\n  }\n}\n/**\n * 移除 className\n * @param  {Element} node\n * @param  {String} className\n *\n * @example\n * dom.removeClass(document.body, 'foo');\n */\n\nexport function removeClass(node, className, _force) {\n  /* istanbul ignore if */\n  if (!hasDOM || !node) {\n    return;\n  }\n\n  if (node.classList) {\n    node.classList.remove(className);\n  } else if (_force === true || hasClass(node, className)) {\n    node.className = node.className.replace(className, '').replace(/\\s+/g, ' ').trim();\n  }\n}\n/**\n * 切换 className\n * @param  {Element} node\n * @param  {String} className\n * @return {Boolean}           执行后节点上是否还有此 className\n *\n * @example\n * dom.toggleClass(document.body, 'foo');\n */\n\nexport function toggleClass(node, className) {\n  /* istanbul ignore if */\n  if (!hasDOM || !node) {\n    return false;\n  }\n\n  if (node.classList) {\n    return node.classList.toggle(className);\n  } else {\n    var flag = hasClass(node, className);\n    flag ? removeClass(node, className, true) : addClass(node, className, true);\n    return !flag;\n  }\n}\n/**\n * 元素是否匹配 CSS 选择器\n * @param  {Element} node       DOM 节点\n * @param  {String}  selector   CSS 选择器\n * @return {Boolean}\n *\n * @example\n * dom.matches(mountNode, '.container'); // boolean\n */\n\nexport var matches = function () {\n  var matchesFn = null;\n  /* istanbul ignore else */\n\n  if (hasDOM) {\n    var _body = document.body || document.head;\n\n    matchesFn = _body.matches ? 'matches' : _body.webkitMatchesSelector ? 'webkitMatchesSelector' : _body.msMatchesSelector ? 'msMatchesSelector' : _body.mozMatchesSelector ? 'mozMatchesSelector' : null;\n  }\n\n  return function (node, selector) {\n    if (!hasDOM || !node) {\n      return false;\n    }\n\n    return matchesFn ? node[matchesFn](selector) : false;\n  };\n}();\n/**\n * 获取元素计算后的样式\n * @private\n * @param  {Element} node\n * @return {Object}\n */\n\nfunction _getComputedStyle(node) {\n  return node && node.nodeType === 1 ? window.getComputedStyle(node, null) : {};\n}\n\nvar PIXEL_PATTERN = /margin|padding|width|height|max|min|offset|size|top/i;\nvar removePixel = {\n  left: 1,\n  top: 1,\n  right: 1,\n  bottom: 1\n};\n/**\n * 校验并修正元素的样式属性值\n * @private\n * @param  {Element} node\n * @param  {String} type\n * @param  {Number} value\n */\n\nfunction _getStyleValue(node, type, value) {\n  type = type.toLowerCase();\n\n  if (value === 'auto') {\n    if (type === 'height') {\n      return node.offsetHeight || 0;\n    }\n\n    if (type === 'width') {\n      return node.offsetWidth || 0;\n    }\n  }\n\n  if (!(type in removePixel)) {\n    // 属性值是否需要去掉 px 单位，这里假定此类的属性值都是 px 为单位的\n    removePixel[type] = PIXEL_PATTERN.test(type);\n  }\n\n  return removePixel[type] ? parseFloat(value) || 0 : value;\n}\n\nvar floatMap = {\n  cssFloat: 1,\n  styleFloat: 1,\n  float: 1\n};\n/**\n * 获取元素计算后的样式\n * @param  {Element} node DOM 节点\n * @param  {String} name 属性名\n * @return {Number|Object}\n */\n\nexport function getStyle(node, name) {\n  /* istanbul ignore if */\n  if (!hasDOM || !node) {\n    return null;\n  }\n\n  var style = _getComputedStyle(node); // 如果不指定属性名，则返回全部值\n\n\n  if (arguments.length === 1) {\n    return style;\n  }\n\n  name = floatMap[name] ? 'cssFloat' in node.style ? 'cssFloat' : 'styleFloat' : name;\n  return _getStyleValue(node, name, style.getPropertyValue(hyphenate(name)) || node.style[camelcase(name)]);\n}\n/**\n * 设置元素的样式\n * @param {Element} node  DOM 节点\n * @param {Object|String} name  属性名，或者是一个对象，包含多个属性\n * @param {Number|String} value 属性值\n *\n * @example\n * // 设置单个属性值\n * dom.setStyle(mountNode, 'width', 100);\n * // 设置多条属性值\n * dom.setStyle(mountNode, {\n *     width: 100,\n *     height: 200\n * });\n */\n\nexport function setStyle(node, name, value) {\n  /* istanbul ignore if */\n  if (!hasDOM || !node) {\n    return false;\n  } // 批量设置多个值\n\n\n  if ((typeof name === 'undefined' ? 'undefined' : _typeof(name)) === 'object' && arguments.length === 2) {\n    each(name, function (val, key) {\n      return setStyle(node, key, val);\n    });\n  } else {\n    name = floatMap[name] ? 'cssFloat' in node.style ? 'cssFloat' : 'styleFloat' : name;\n\n    if (typeof value === 'number' && PIXEL_PATTERN.test(name)) {\n      value = value + 'px';\n    }\n\n    node.style[camelcase(name)] = value; // IE8 support\n  }\n}\n/**\n * 获取默认的滚动条大小\n * @return {Object} width, height\n */\n\nexport function scrollbar() {\n  var scrollDiv = document.createElement('div');\n  scrollDiv.className += 'just-to-get-scrollbar-size';\n  setStyle(scrollDiv, {\n    position: 'absolute',\n    width: '100px',\n    height: '100px',\n    overflow: 'scroll',\n    top: '-9999px'\n  });\n  document.body && document.body.appendChild(scrollDiv);\n  var scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth;\n  var scrollbarHeight = scrollDiv.offsetHeight - scrollDiv.clientHeight;\n  document.body.removeChild(scrollDiv);\n  return {\n    width: scrollbarWidth,\n    height: scrollbarHeight\n  };\n}\n/**\n * 获取元素距离视口顶部和左边的偏移距离\n * @return {Object} top, left\n */\n\nexport function getOffset(node) {\n  var rect = node.getBoundingClientRect();\n  var win = node.ownerDocument.defaultView;\n  return {\n    top: rect.top + win.pageYOffset,\n    left: rect.left + win.pageXOffset\n  };\n}\n/**\n * 获取不同单位转为 number 的长度\n * @param {string|number} len 传入的长度\n * @return {number} pixels\n */\n\nexport function getPixels(len) {\n  var win = document.defaultView;\n\n  if (typeof +len === 'number' && !isNaN(+len)) {\n    return +len;\n  }\n\n  if (typeof len === 'string') {\n    var PX_REG = /(\\d+)px/;\n    var VH_REG = /(\\d+)vh/;\n\n    if (Array.isArray(len.match(PX_REG))) {\n      return +len.match(PX_REG)[1] || 0;\n    }\n\n    if (Array.isArray(len.match(VH_REG))) {\n      var _1vh = win.innerHeight / 100;\n\n      return +(len.match(VH_REG)[1] * _1vh) || 0;\n    }\n  }\n\n  return 0;\n}\n/**\n * 匹配特定选择器且离当前元素最近的祖先元素（也可以是当前元素本身），如果匹配不到，则返回 null\n * @param {element} dom 待匹配的元素\n * @param {string} selecotr 选择器\n * @return {element} parent\n */\n\nexport function getClosest(dom, selector) {\n  /* istanbul ignore if */\n  if (!hasDOM || !dom) {\n    return null;\n  } // ie9\n\n  /* istanbul ignore if */\n\n\n  if (!Element.prototype.closest) {\n    if (!document.documentElement.contains(dom)) return null;\n\n    do {\n      if (getMatches(dom, selector)) return dom;\n      dom = dom.parentElement;\n    } while (dom !== null);\n  } else {\n    return dom.closest(selector);\n  }\n\n  return null;\n}\n/**\n * 如果元素被指定的选择器字符串选择，getMatches()  方法返回true; 否则返回false\n * @param {element} dom 待匹配的元素\n * @param {string} selecotr 选择器\n * @return {element} parent\n */\n\nexport function getMatches(dom, selector) {\n  /* istanbul ignore if */\n  if (!hasDOM || !dom) {\n    return null;\n  }\n  /* istanbul ignore if */\n\n\n  if (Element.prototype.matches) {\n    return dom.matches(selector);\n  } else if (Element.prototype.msMatchesSelector) {\n    return dom.msMatchesSelector(selector);\n  } else if (Element.prototype.webkitMatchesSelector) {\n    return dom.webkitMatchesSelector(selector);\n  }\n\n  return null;\n}","map":{"version":3,"sources":["/Users/Chris/Project/lunch-order-backstage/node_modules/@alifd/next/es/util/dom.js"],"names":["_typeof","camelcase","hyphenate","each","hasDOM","window","document","createElement","hasClass","node","className","classList","contains","indexOf","addClass","_force","add","removeClass","remove","replace","trim","toggleClass","toggle","flag","matches","matchesFn","_body","body","head","webkitMatchesSelector","msMatchesSelector","mozMatchesSelector","selector","_getComputedStyle","nodeType","getComputedStyle","PIXEL_PATTERN","removePixel","left","top","right","bottom","_getStyleValue","type","value","toLowerCase","offsetHeight","offsetWidth","test","parseFloat","floatMap","cssFloat","styleFloat","float","getStyle","name","style","arguments","length","getPropertyValue","setStyle","val","key","scrollbar","scrollDiv","position","width","height","overflow","appendChild","scrollbarWidth","clientWidth","scrollbarHeight","clientHeight","removeChild","getOffset","rect","getBoundingClientRect","win","ownerDocument","defaultView","pageYOffset","pageXOffset","getPixels","len","isNaN","PX_REG","VH_REG","Array","isArray","match","_1vh","innerHeight","getClosest","dom","Element","prototype","closest","documentElement","getMatches","parentElement"],"mappings":"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","sourcesContent":["import _typeof from 'babel-runtime/helpers/typeof';\nimport { camelcase, hyphenate } from './string';\nimport { each } from './object';\n\n/**\n * 是否能使用 DOM 方法\n * @type {Boolean}\n */\nexport var hasDOM = typeof window !== 'undefined' && !!window.document && !!document.createElement;\n\n/**\n * 节点是否包含指定 className\n * @param  {Element}  node\n * @param  {String}  className\n * @return {Boolean}\n *\n * @example\n * dom.hasClass(document.body, 'foo');\n */\nexport function hasClass(node, className) {\n    /* istanbul ignore if */\n    if (!hasDOM || !node) {\n        return false;\n    }\n\n    if (node.classList) {\n        return node.classList.contains(className);\n    } else {\n        return node.className.indexOf(className) > -1;\n    }\n}\n\n/**\n * 添加 className\n * @param {Element} node\n * @param {String} className\n *\n * @example\n * dom.addClass(document.body, 'foo');\n */\nexport function addClass(node, className, _force) {\n    /* istanbul ignore if */\n    if (!hasDOM || !node) {\n        return;\n    }\n\n    if (node.classList) {\n        node.classList.add(className);\n    } else if (_force === true || !hasClass(node, className)) {\n        node.className += ' ' + className;\n    }\n}\n\n/**\n * 移除 className\n * @param  {Element} node\n * @param  {String} className\n *\n * @example\n * dom.removeClass(document.body, 'foo');\n */\nexport function removeClass(node, className, _force) {\n    /* istanbul ignore if */\n    if (!hasDOM || !node) {\n        return;\n    }\n\n    if (node.classList) {\n        node.classList.remove(className);\n    } else if (_force === true || hasClass(node, className)) {\n        node.className = node.className.replace(className, '').replace(/\\s+/g, ' ').trim();\n    }\n}\n\n/**\n * 切换 className\n * @param  {Element} node\n * @param  {String} className\n * @return {Boolean}           执行后节点上是否还有此 className\n *\n * @example\n * dom.toggleClass(document.body, 'foo');\n */\nexport function toggleClass(node, className) {\n    /* istanbul ignore if */\n    if (!hasDOM || !node) {\n        return false;\n    }\n\n    if (node.classList) {\n        return node.classList.toggle(className);\n    } else {\n        var flag = hasClass(node, className);\n        flag ? removeClass(node, className, true) : addClass(node, className, true);\n\n        return !flag;\n    }\n}\n\n/**\n * 元素是否匹配 CSS 选择器\n * @param  {Element} node       DOM 节点\n * @param  {String}  selector   CSS 选择器\n * @return {Boolean}\n *\n * @example\n * dom.matches(mountNode, '.container'); // boolean\n */\nexport var matches = function () {\n    var matchesFn = null;\n    /* istanbul ignore else */\n    if (hasDOM) {\n        var _body = document.body || document.head;\n        matchesFn = _body.matches ? 'matches' : _body.webkitMatchesSelector ? 'webkitMatchesSelector' : _body.msMatchesSelector ? 'msMatchesSelector' : _body.mozMatchesSelector ? 'mozMatchesSelector' : null;\n    }\n\n    return function (node, selector) {\n        if (!hasDOM || !node) {\n            return false;\n        }\n\n        return matchesFn ? node[matchesFn](selector) : false;\n    };\n}();\n\n/**\n * 获取元素计算后的样式\n * @private\n * @param  {Element} node\n * @return {Object}\n */\nfunction _getComputedStyle(node) {\n    return node && node.nodeType === 1 ? window.getComputedStyle(node, null) : {};\n}\n\nvar PIXEL_PATTERN = /margin|padding|width|height|max|min|offset|size|top/i;\nvar removePixel = { left: 1, top: 1, right: 1, bottom: 1 };\n\n/**\n * 校验并修正元素的样式属性值\n * @private\n * @param  {Element} node\n * @param  {String} type\n * @param  {Number} value\n */\nfunction _getStyleValue(node, type, value) {\n    type = type.toLowerCase();\n\n    if (value === 'auto') {\n        if (type === 'height') {\n            return node.offsetHeight || 0;\n        }\n        if (type === 'width') {\n            return node.offsetWidth || 0;\n        }\n    }\n\n    if (!(type in removePixel)) {\n        // 属性值是否需要去掉 px 单位，这里假定此类的属性值都是 px 为单位的\n        removePixel[type] = PIXEL_PATTERN.test(type);\n    }\n\n    return removePixel[type] ? parseFloat(value) || 0 : value;\n}\n\nvar floatMap = { cssFloat: 1, styleFloat: 1, float: 1 };\n\n/**\n * 获取元素计算后的样式\n * @param  {Element} node DOM 节点\n * @param  {String} name 属性名\n * @return {Number|Object}\n */\nexport function getStyle(node, name) {\n    /* istanbul ignore if */\n    if (!hasDOM || !node) {\n        return null;\n    }\n\n    var style = _getComputedStyle(node);\n\n    // 如果不指定属性名，则返回全部值\n    if (arguments.length === 1) {\n        return style;\n    }\n\n    name = floatMap[name] ? 'cssFloat' in node.style ? 'cssFloat' : 'styleFloat' : name;\n\n    return _getStyleValue(node, name, style.getPropertyValue(hyphenate(name)) || node.style[camelcase(name)]);\n}\n\n/**\n * 设置元素的样式\n * @param {Element} node  DOM 节点\n * @param {Object|String} name  属性名，或者是一个对象，包含多个属性\n * @param {Number|String} value 属性值\n *\n * @example\n * // 设置单个属性值\n * dom.setStyle(mountNode, 'width', 100);\n * // 设置多条属性值\n * dom.setStyle(mountNode, {\n *     width: 100,\n *     height: 200\n * });\n */\nexport function setStyle(node, name, value) {\n    /* istanbul ignore if */\n    if (!hasDOM || !node) {\n        return false;\n    }\n\n    // 批量设置多个值\n    if ((typeof name === 'undefined' ? 'undefined' : _typeof(name)) === 'object' && arguments.length === 2) {\n        each(name, function (val, key) {\n            return setStyle(node, key, val);\n        });\n    } else {\n        name = floatMap[name] ? 'cssFloat' in node.style ? 'cssFloat' : 'styleFloat' : name;\n        if (typeof value === 'number' && PIXEL_PATTERN.test(name)) {\n            value = value + 'px';\n        }\n        node.style[camelcase(name)] = value; // IE8 support\n    }\n}\n\n/**\n * 获取默认的滚动条大小\n * @return {Object} width, height\n */\nexport function scrollbar() {\n    var scrollDiv = document.createElement('div');\n    scrollDiv.className += 'just-to-get-scrollbar-size';\n\n    setStyle(scrollDiv, {\n        position: 'absolute',\n        width: '100px',\n        height: '100px',\n        overflow: 'scroll',\n        top: '-9999px'\n    });\n    document.body && document.body.appendChild(scrollDiv);\n    var scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth;\n    var scrollbarHeight = scrollDiv.offsetHeight - scrollDiv.clientHeight;\n    document.body.removeChild(scrollDiv);\n\n    return {\n        width: scrollbarWidth,\n        height: scrollbarHeight\n    };\n}\n\n/**\n * 获取元素距离视口顶部和左边的偏移距离\n * @return {Object} top, left\n */\nexport function getOffset(node) {\n    var rect = node.getBoundingClientRect();\n    var win = node.ownerDocument.defaultView;\n    return {\n        top: rect.top + win.pageYOffset,\n        left: rect.left + win.pageXOffset\n    };\n}\n\n/**\n * 获取不同单位转为 number 的长度\n * @param {string|number} len 传入的长度\n * @return {number} pixels\n */\nexport function getPixels(len) {\n    var win = document.defaultView;\n    if (typeof +len === 'number' && !isNaN(+len)) {\n        return +len;\n    }\n\n    if (typeof len === 'string') {\n        var PX_REG = /(\\d+)px/;\n        var VH_REG = /(\\d+)vh/;\n        if (Array.isArray(len.match(PX_REG))) {\n            return +len.match(PX_REG)[1] || 0;\n        }\n\n        if (Array.isArray(len.match(VH_REG))) {\n            var _1vh = win.innerHeight / 100;\n            return +(len.match(VH_REG)[1] * _1vh) || 0;\n        }\n    }\n\n    return 0;\n}\n\n/**\n * 匹配特定选择器且离当前元素最近的祖先元素（也可以是当前元素本身），如果匹配不到，则返回 null\n * @param {element} dom 待匹配的元素\n * @param {string} selecotr 选择器\n * @return {element} parent\n */\nexport function getClosest(dom, selector) {\n    /* istanbul ignore if */\n    if (!hasDOM || !dom) {\n        return null;\n    }\n\n    // ie9\n    /* istanbul ignore if */\n    if (!Element.prototype.closest) {\n        if (!document.documentElement.contains(dom)) return null;\n        do {\n            if (getMatches(dom, selector)) return dom;\n            dom = dom.parentElement;\n        } while (dom !== null);\n    } else {\n        return dom.closest(selector);\n    }\n    return null;\n}\n\n/**\n * 如果元素被指定的选择器字符串选择，getMatches()  方法返回true; 否则返回false\n * @param {element} dom 待匹配的元素\n * @param {string} selecotr 选择器\n * @return {element} parent\n */\nexport function getMatches(dom, selector) {\n    /* istanbul ignore if */\n    if (!hasDOM || !dom) {\n        return null;\n    }\n\n    /* istanbul ignore if */\n    if (Element.prototype.matches) {\n        return dom.matches(selector);\n    } else if (Element.prototype.msMatchesSelector) {\n        return dom.msMatchesSelector(selector);\n    } else if (Element.prototype.webkitMatchesSelector) {\n        return dom.webkitMatchesSelector(selector);\n    }\n\n    return null;\n}"]},"metadata":{},"sourceType":"module"}