{"ast":null,"code":"import { hasDOM } from './dom';\nimport { each } from './object';\nvar animationEndEventNames = {\n  WebkitAnimation: 'webkitAnimationEnd',\n  OAnimation: 'oAnimationEnd',\n  animation: 'animationend'\n};\nvar transitionEventNames = {\n  WebkitTransition: 'webkitTransitionEnd',\n  OTransition: 'oTransitionEnd',\n  transition: 'transitionend'\n};\n/**\n * 是否支持某些动效事件，如果支持，返回相应的end事件名\n * @private\n * @param  {Object<String>} names\n * @return {Object|false}\n */\n\nfunction _supportEnd(names) {\n  /* istanbul ignore if */\n  if (!hasDOM) {\n    return false;\n  }\n\n  var el = document.createElement('div');\n  var ret = false;\n  each(names, function (val, key) {\n    /* istanbul ignore else */\n    if (el.style[key] !== undefined) {\n      ret = {\n        end: val\n      };\n      return false;\n    }\n  });\n  return ret;\n}\n/**\n * 是否支持某些CSS属性\n * @private\n * @param  {Object<Array<String>>} names\n * @return {Boolean}       is support\n */\n\n\nfunction _supportCSS(names) {\n  /* istanbul ignore if */\n  if (!hasDOM) {\n    return false;\n  }\n\n  var el = document.createElement('div');\n  var ret = false;\n  each(names, function (val, key) {\n    each(val, function (item) {\n      try {\n        el.style[key] = item;\n        ret = ret || el.style[key] === item;\n      } catch (e) {// It will be throw error when set unknown property under IE8\n      }\n\n      return !ret; // 如果有一个支持就返回false，后面不需要再判断\n    });\n    return !ret;\n  });\n  return ret;\n}\n/**\n * 是否支持animation以及动画结束事件名\n * @type {Object|false}\n * @property {String} end 动画结束事件名\n */\n\n\nexport var animation = _supportEnd(animationEndEventNames);\n/**\n * 是否支持transition以及过滤效果结束事件名\n * @type {Object|false}\n * @property {String} end 过渡效果结束事件名\n */\n\nexport var transition = _supportEnd(transitionEventNames);\n/**\n * 是否支持flex属性\n * @type {Boolean}\n */\n\nexport var flex = _supportCSS({\n  display: ['flex', '-webkit-flex', '-moz-flex', '-ms-flexbox']\n});","map":{"version":3,"sources":["/Users/Chris/Project/lunch-order-backstage/node_modules/@alifd/next/es/util/support.js"],"names":["hasDOM","each","animationEndEventNames","WebkitAnimation","OAnimation","animation","transitionEventNames","WebkitTransition","OTransition","transition","_supportEnd","names","el","document","createElement","ret","val","key","style","undefined","end","_supportCSS","item","e","flex","display"],"mappings":"AAAA,SAASA,MAAT,QAAuB,OAAvB;AACA,SAASC,IAAT,QAAqB,UAArB;AAEA,IAAIC,sBAAsB,GAAG;AACzBC,EAAAA,eAAe,EAAE,oBADQ;AAEzBC,EAAAA,UAAU,EAAE,eAFa;AAGzBC,EAAAA,SAAS,EAAE;AAHc,CAA7B;AAMA,IAAIC,oBAAoB,GAAG;AACvBC,EAAAA,gBAAgB,EAAE,qBADK;AAEvBC,EAAAA,WAAW,EAAE,gBAFU;AAGvBC,EAAAA,UAAU,EAAE;AAHW,CAA3B;AAMA;AACA;AACA;AACA;AACA;AACA;;AACA,SAASC,WAAT,CAAqBC,KAArB,EAA4B;AACxB;AACA,MAAI,CAACX,MAAL,EAAa;AACT,WAAO,KAAP;AACH;;AAED,MAAIY,EAAE,GAAGC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAT;AACA,MAAIC,GAAG,GAAG,KAAV;AAEAd,EAAAA,IAAI,CAACU,KAAD,EAAQ,UAAUK,GAAV,EAAeC,GAAf,EAAoB;AAC5B;AACA,QAAIL,EAAE,CAACM,KAAH,CAASD,GAAT,MAAkBE,SAAtB,EAAiC;AAC7BJ,MAAAA,GAAG,GAAG;AAAEK,QAAAA,GAAG,EAAEJ;AAAP,OAAN;AACA,aAAO,KAAP;AACH;AACJ,GANG,CAAJ;AAQA,SAAOD,GAAP;AACH;AAED;AACA;AACA;AACA;AACA;AACA;;;AACA,SAASM,WAAT,CAAqBV,KAArB,EAA4B;AACxB;AACA,MAAI,CAACX,MAAL,EAAa;AACT,WAAO,KAAP;AACH;;AAED,MAAIY,EAAE,GAAGC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAT;AACA,MAAIC,GAAG,GAAG,KAAV;AAEAd,EAAAA,IAAI,CAACU,KAAD,EAAQ,UAAUK,GAAV,EAAeC,GAAf,EAAoB;AAC5BhB,IAAAA,IAAI,CAACe,GAAD,EAAM,UAAUM,IAAV,EAAgB;AACtB,UAAI;AACAV,QAAAA,EAAE,CAACM,KAAH,CAASD,GAAT,IAAgBK,IAAhB;AACAP,QAAAA,GAAG,GAAGA,GAAG,IAAIH,EAAE,CAACM,KAAH,CAASD,GAAT,MAAkBK,IAA/B;AACH,OAHD,CAGE,OAAOC,CAAP,EAAU,CACR;AACH;;AACD,aAAO,CAACR,GAAR,CAPsB,CAOT;AAChB,KARG,CAAJ;AAUA,WAAO,CAACA,GAAR;AACH,GAZG,CAAJ;AAcA,SAAOA,GAAP;AACH;AAED;AACA;AACA;AACA;AACA;;;AACA,OAAO,IAAIV,SAAS,GAAGK,WAAW,CAACR,sBAAD,CAA3B;AAEP;AACA;AACA;AACA;AACA;;AACA,OAAO,IAAIO,UAAU,GAAGC,WAAW,CAACJ,oBAAD,CAA5B;AAEP;AACA;AACA;AACA;;AACA,OAAO,IAAIkB,IAAI,GAAGH,WAAW,CAAC;AAC1BI,EAAAA,OAAO,EAAE,CAAC,MAAD,EAAS,cAAT,EAAyB,WAAzB,EAAsC,aAAtC;AADiB,CAAD,CAAtB","sourcesContent":["import { hasDOM } from './dom';\nimport { each } from './object';\n\nvar animationEndEventNames = {\n    WebkitAnimation: 'webkitAnimationEnd',\n    OAnimation: 'oAnimationEnd',\n    animation: 'animationend'\n};\n\nvar transitionEventNames = {\n    WebkitTransition: 'webkitTransitionEnd',\n    OTransition: 'oTransitionEnd',\n    transition: 'transitionend'\n};\n\n/**\n * 是否支持某些动效事件，如果支持，返回相应的end事件名\n * @private\n * @param  {Object<String>} names\n * @return {Object|false}\n */\nfunction _supportEnd(names) {\n    /* istanbul ignore if */\n    if (!hasDOM) {\n        return false;\n    }\n\n    var el = document.createElement('div');\n    var ret = false;\n\n    each(names, function (val, key) {\n        /* istanbul ignore else */\n        if (el.style[key] !== undefined) {\n            ret = { end: val };\n            return false;\n        }\n    });\n\n    return ret;\n}\n\n/**\n * 是否支持某些CSS属性\n * @private\n * @param  {Object<Array<String>>} names\n * @return {Boolean}       is support\n */\nfunction _supportCSS(names) {\n    /* istanbul ignore if */\n    if (!hasDOM) {\n        return false;\n    }\n\n    var el = document.createElement('div');\n    var ret = false;\n\n    each(names, function (val, key) {\n        each(val, function (item) {\n            try {\n                el.style[key] = item;\n                ret = ret || el.style[key] === item;\n            } catch (e) {\n                // It will be throw error when set unknown property under IE8\n            }\n            return !ret; // 如果有一个支持就返回false，后面不需要再判断\n        });\n\n        return !ret;\n    });\n\n    return ret;\n}\n\n/**\n * 是否支持animation以及动画结束事件名\n * @type {Object|false}\n * @property {String} end 动画结束事件名\n */\nexport var animation = _supportEnd(animationEndEventNames);\n\n/**\n * 是否支持transition以及过滤效果结束事件名\n * @type {Object|false}\n * @property {String} end 过渡效果结束事件名\n */\nexport var transition = _supportEnd(transitionEventNames);\n\n/**\n * 是否支持flex属性\n * @type {Boolean}\n */\nexport var flex = _supportCSS({\n    display: ['flex', '-webkit-flex', '-moz-flex', '-ms-flexbox']\n});"]},"metadata":{},"sourceType":"module"}