{"ast":null,"code":"import _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\n\nvar _class, _temp2;\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { polyfill } from 'react-lifecycles-compat';\nimport ConfigProvider from '../config-provider';\nimport { func } from '../util';\nimport zhCN from '../locale/zh-cn';\nvar Base = (_temp2 = _class = function (_React$Component) {\n  _inherits(Base, _React$Component);\n\n  function Base() {\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Base);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _this.handleCompositionStart = function (e) {\n      _this.setState({\n        composition: true\n      });\n\n      _this.props.onCompositionStart(e);\n    }, _this.handleCompositionEnd = function (e) {\n      _this.setState({\n        composition: false\n      });\n\n      _this.props.onCompositionEnd(e);\n\n      var value = e.target.value;\n\n      _this.props.onChange(value, e);\n    }, _this.saveRef = function (input) {\n      _this.inputRef = input;\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  Base.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {\n    if ('value' in nextProps && nextProps.value !== prevState.value && !prevState.composition) {\n      var value = nextProps.value;\n      return {\n        value: value === undefined || value === null ? '' : value\n      };\n    }\n\n    return null;\n  };\n\n  Base.prototype.ieHack = function ieHack(value) {\n    return value;\n  };\n\n  Base.prototype.onChange = function onChange(e) {\n    if ('stopPropagation' in e) {\n      e.stopPropagation();\n    } else if ('cancelBubble' in e) {\n      e.cancelBubble();\n    }\n\n    var value = e.target.value;\n\n    if (this.props.trim) {\n      value = value.trim();\n    }\n\n    value = this.ieHack(value); // not controlled\n\n    if (!('value' in this.props) || this.state.composition) {\n      this.setState({\n        value: value\n      });\n    }\n\n    if (this.state.composition) {\n      return;\n    } // Number('') = 0\n\n\n    if (value && this.props.htmlType === 'number') {\n      value = Number(value);\n    }\n\n    this.props.onChange(value, e);\n  };\n\n  Base.prototype.onKeyDown = function onKeyDown(e) {\n    var value = e.target.value;\n    var maxLength = this.props.maxLength;\n    var len = maxLength > 0 && value ? this.getValueLength(value) : 0;\n    var opts = {}; // has enable trim and has input whitespace\n\n    if (this.props.trim && e.keyCode === 32) {\n      opts.beTrimed = true;\n    } // has defined maxLength and has over max length and has not input backspace and delete\n\n\n    if (maxLength > 0 && (len > maxLength + 1 || (len === maxLength || len === maxLength + 1) && e.keyCode !== 8 && e.keyCode !== 46)) {\n      opts.overMaxLength = true;\n    }\n\n    this.props.onKeyDown(e, opts);\n  };\n\n  Base.prototype.onFocus = function onFocus(e) {\n    this.setState({\n      focus: true\n    });\n    this.props.onFocus(e);\n  };\n\n  Base.prototype.onBlur = function onBlur(e) {\n    this.setState({\n      focus: false\n    });\n    this.props.onBlur(e);\n  };\n\n  Base.prototype.renderLength = function renderLength() {\n    var _classNames;\n\n    var _props = this.props,\n        maxLength = _props.maxLength,\n        showLimitHint = _props.showLimitHint,\n        prefix = _props.prefix,\n        rtl = _props.rtl;\n    var len = maxLength > 0 && this.state.value ? this.getValueLength(this.state.value) : 0;\n    var classesLenWrap = classNames((_classNames = {}, _classNames[prefix + 'input-len'] = true, _classNames[prefix + 'error'] = len > maxLength, _classNames));\n    var content = rtl ? maxLength + '/' + len : len + '/' + maxLength;\n    return maxLength && showLimitHint ? React.createElement('span', {\n      className: classesLenWrap\n    }, content) : null;\n  };\n\n  Base.prototype.renderControl = function renderControl() {\n    var lenWrap = this.renderLength();\n    return lenWrap ? React.createElement('span', {\n      className: this.props.prefix + 'input-control'\n    }, lenWrap) : null;\n  };\n\n  Base.prototype.getClass = function getClass() {\n    var _classNames2;\n\n    var _props2 = this.props,\n        disabled = _props2.disabled,\n        state = _props2.state,\n        prefix = _props2.prefix;\n    return classNames((_classNames2 = {}, _classNames2[prefix + 'input'] = true, _classNames2[prefix + 'disabled'] = !!disabled, _classNames2[prefix + 'error'] = state === 'error', _classNames2[prefix + 'warning'] = state === 'warning', _classNames2[prefix + 'focus'] = this.state.focus, _classNames2));\n  };\n\n  Base.prototype.getProps = function getProps() {\n    var _props3 = this.props,\n        placeholder = _props3.placeholder,\n        inputStyle = _props3.inputStyle,\n        disabled = _props3.disabled,\n        readOnly = _props3.readOnly,\n        cutString = _props3.cutString,\n        maxLength = _props3.maxLength,\n        name = _props3.name,\n        onCompositionStart = _props3.onCompositionStart,\n        onCompositionEnd = _props3.onCompositionEnd;\n    var props = {\n      style: inputStyle,\n      placeholder: placeholder,\n      disabled: disabled,\n      readOnly: readOnly,\n      name: name,\n      maxLength: cutString ? maxLength : undefined,\n      value: this.state.value,\n      onChange: this.onChange.bind(this),\n      onBlur: this.onBlur.bind(this),\n      onFocus: this.onFocus.bind(this),\n      onCompositionStart: onCompositionStart,\n      onCompositionEnd: onCompositionEnd\n    }; // fix accessibility：auto process status of aria disabled\n\n    if (disabled) {\n      props['aria-disabled'] = disabled;\n    }\n\n    return props;\n  };\n\n  Base.prototype.getInputNode = function getInputNode() {\n    return this.inputRef;\n  };\n\n  Base.prototype.focus = function focus(start, end) {\n    this.inputRef.focus();\n\n    if (typeof start === 'number') {\n      this.inputRef.selectionStart = start;\n    }\n\n    if (typeof end === 'number') {\n      this.inputRef.selectionEnd = end;\n    }\n  };\n\n  return Base;\n}(React.Component), _class.propTypes = _extends({}, ConfigProvider.propTypes, {\n  /**\n   * 当前值\n   */\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n\n  /**\n   * 初始化值\n   */\n  defaultValue: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n\n  /**\n   * 发生改变的时候触发的回调\n   * @param {String} value 数据\n   * @param {Event} e DOM事件对象\n   */\n  onChange: PropTypes.func,\n\n  /**\n   * 键盘按下的时候触发的回调\n   * @param {Event} e DOM事件对象\n   * @param {Object} opts 可扩展的附加信息：<br> - opts.overMaxLength: {Boolean} 已超出最大长度<br> - opts.beTrimed: {Boolean} 输入的空格被清理\n   */\n  onKeyDown: PropTypes.func,\n\n  /**\n   * 禁用状态\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * 最大长度\n   */\n  maxLength: PropTypes.number,\n\n  /**\n   * 是否展现最大长度样式（旧版本为 hasLimitHint，目前仍兼容旧用法，将在2.x直接废弃）\n   */\n  showLimitHint: PropTypes.bool,\n\n  /**\n   * 当设置了maxLength时，是否截断超出字符串\n   */\n  cutString: PropTypes.bool,\n\n  /**\n   * 只读\n   */\n  readOnly: PropTypes.bool,\n\n  /**\n   * onChange返回会自动去除头尾空字符\n   */\n  trim: PropTypes.bool,\n\n  /**\n   * 输入提示\n   */\n  placeholder: PropTypes.string,\n\n  /**\n   * 获取焦点时候触发的回调\n   * @param {Event} e DOM事件对象\n   */\n  onFocus: PropTypes.func,\n\n  /**\n   * 失去焦点时候触发的回调\n   * @param {Event} e DOM事件对象\n   */\n  onBlur: PropTypes.func,\n\n  /**\n   * 自定义字符串计算长度方式\n   * @param {String} value 数据\n   * @returns {Number} 自定义长度\n   */\n  getValueLength: PropTypes.func,\n  inputStyle: PropTypes.object,\n\n  /**\n   * 自定义class\n   */\n  className: PropTypes.string,\n\n  /**\n   * 自定义内联样式\n   */\n  style: PropTypes.object,\n\n  /**\n   * 原生type\n   */\n  htmlType: PropTypes.string,\n\n  /**\n   * name\n   */\n  name: PropTypes.string,\n  rtl: PropTypes.bool,\n  state: PropTypes.oneOf(['error', 'loading', 'success', 'warning']),\n  locale: PropTypes.object,\n\n  /**\n   * 是否为预览态\n   */\n  isPreview: PropTypes.bool,\n\n  /**\n   * 预览态模式下渲染的内容\n   * @param {number} value 评分值\n   */\n  renderPreview: PropTypes.func,\n\n  /**\n   * 尺寸\n   * @enumdesc 小, 中, 大\n   */\n  size: PropTypes.oneOf(['small', 'medium', 'large']),\n\n  /**\n   * 开启后会过滤输入法中间字母状态，文字输入完成后才会触发 onChange\n   * @version 1.23\n   */\n  composition: PropTypes.bool,\n  onCompositionStart: PropTypes.func,\n  onCompositionEnd: PropTypes.func\n}), _class.defaultProps = {\n  disabled: false,\n  prefix: 'next-',\n  size: 'medium',\n  maxLength: null,\n  showLimitHint: false,\n  cutString: true,\n  readOnly: false,\n  isPreview: false,\n  trim: false,\n  composition: false,\n  onFocus: func.noop,\n  onBlur: func.noop,\n  onChange: func.noop,\n  onKeyDown: func.noop,\n  getValueLength: func.noop,\n  onCompositionStart: func.noop,\n  onCompositionEnd: func.noop,\n  locale: zhCN.Input\n}, _temp2);\nBase.displayName = 'Base';\nexport default polyfill(Base);","map":{"version":3,"sources":["/Users/Chris/Project/lunch-order-backstage/node_modules/@alifd/next/es/input/base.js"],"names":["_extends","_classCallCheck","_possibleConstructorReturn","_inherits","_class","_temp2","React","PropTypes","classNames","polyfill","ConfigProvider","func","zhCN","Base","_React$Component","_temp","_this","_ret","_len","arguments","length","args","Array","_key","call","apply","concat","handleCompositionStart","e","setState","composition","props","onCompositionStart","handleCompositionEnd","onCompositionEnd","value","target","onChange","saveRef","input","inputRef","getDerivedStateFromProps","nextProps","prevState","undefined","prototype","ieHack","stopPropagation","cancelBubble","trim","state","htmlType","Number","onKeyDown","maxLength","len","getValueLength","opts","keyCode","beTrimed","overMaxLength","onFocus","focus","onBlur","renderLength","_classNames","_props","showLimitHint","prefix","rtl","classesLenWrap","content","createElement","className","renderControl","lenWrap","getClass","_classNames2","_props2","disabled","getProps","_props3","placeholder","inputStyle","readOnly","cutString","name","style","bind","getInputNode","start","end","selectionStart","selectionEnd","Component","propTypes","oneOfType","string","number","defaultValue","bool","object","oneOf","locale","isPreview","renderPreview","size","defaultProps","noop","Input","displayName"],"mappings":"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","sourcesContent":["import _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\n\nvar _class, _temp2;\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { polyfill } from 'react-lifecycles-compat';\n\nimport ConfigProvider from '../config-provider';\nimport { func } from '../util';\nimport zhCN from '../locale/zh-cn';\n\nvar Base = (_temp2 = _class = function (_React$Component) {\n    _inherits(Base, _React$Component);\n\n    function Base() {\n        var _temp, _this, _ret;\n\n        _classCallCheck(this, Base);\n\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        return _ret = (_temp = (_this = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _this.handleCompositionStart = function (e) {\n            _this.setState({\n                composition: true\n            });\n            _this.props.onCompositionStart(e);\n        }, _this.handleCompositionEnd = function (e) {\n            _this.setState({\n                composition: false\n            });\n            _this.props.onCompositionEnd(e);\n\n            var value = e.target.value;\n            _this.props.onChange(value, e);\n        }, _this.saveRef = function (input) {\n            _this.inputRef = input;\n        }, _temp), _possibleConstructorReturn(_this, _ret);\n    }\n\n    Base.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {\n        if ('value' in nextProps && nextProps.value !== prevState.value && !prevState.composition) {\n            var value = nextProps.value;\n            return {\n                value: value === undefined || value === null ? '' : value\n            };\n        }\n\n        return null;\n    };\n\n    Base.prototype.ieHack = function ieHack(value) {\n        return value;\n    };\n\n    Base.prototype.onChange = function onChange(e) {\n        if ('stopPropagation' in e) {\n            e.stopPropagation();\n        } else if ('cancelBubble' in e) {\n            e.cancelBubble();\n        }\n\n        var value = e.target.value;\n\n        if (this.props.trim) {\n            value = value.trim();\n        }\n\n        value = this.ieHack(value);\n\n        // not controlled\n        if (!('value' in this.props) || this.state.composition) {\n            this.setState({\n                value: value\n            });\n        }\n\n        if (this.state.composition) {\n            return;\n        }\n\n        // Number('') = 0\n        if (value && this.props.htmlType === 'number') {\n            value = Number(value);\n        }\n\n        this.props.onChange(value, e);\n    };\n\n    Base.prototype.onKeyDown = function onKeyDown(e) {\n        var value = e.target.value;\n        var maxLength = this.props.maxLength;\n\n        var len = maxLength > 0 && value ? this.getValueLength(value) : 0;\n        var opts = {};\n\n        // has enable trim and has input whitespace\n        if (this.props.trim && e.keyCode === 32) {\n            opts.beTrimed = true;\n        }\n\n        // has defined maxLength and has over max length and has not input backspace and delete\n        if (maxLength > 0 && (len > maxLength + 1 || (len === maxLength || len === maxLength + 1) && e.keyCode !== 8 && e.keyCode !== 46)) {\n            opts.overMaxLength = true;\n        }\n\n        this.props.onKeyDown(e, opts);\n    };\n\n    Base.prototype.onFocus = function onFocus(e) {\n        this.setState({\n            focus: true\n        });\n        this.props.onFocus(e);\n    };\n\n    Base.prototype.onBlur = function onBlur(e) {\n        this.setState({\n            focus: false\n        });\n        this.props.onBlur(e);\n    };\n\n    Base.prototype.renderLength = function renderLength() {\n        var _classNames;\n\n        var _props = this.props,\n            maxLength = _props.maxLength,\n            showLimitHint = _props.showLimitHint,\n            prefix = _props.prefix,\n            rtl = _props.rtl;\n\n        var len = maxLength > 0 && this.state.value ? this.getValueLength(this.state.value) : 0;\n\n        var classesLenWrap = classNames((_classNames = {}, _classNames[prefix + 'input-len'] = true, _classNames[prefix + 'error'] = len > maxLength, _classNames));\n\n        var content = rtl ? maxLength + '/' + len : len + '/' + maxLength;\n\n        return maxLength && showLimitHint ? React.createElement(\n            'span',\n            { className: classesLenWrap },\n            content\n        ) : null;\n    };\n\n    Base.prototype.renderControl = function renderControl() {\n        var lenWrap = this.renderLength();\n\n        return lenWrap ? React.createElement(\n            'span',\n            { className: this.props.prefix + 'input-control' },\n            lenWrap\n        ) : null;\n    };\n\n    Base.prototype.getClass = function getClass() {\n        var _classNames2;\n\n        var _props2 = this.props,\n            disabled = _props2.disabled,\n            state = _props2.state,\n            prefix = _props2.prefix;\n\n\n        return classNames((_classNames2 = {}, _classNames2[prefix + 'input'] = true, _classNames2[prefix + 'disabled'] = !!disabled, _classNames2[prefix + 'error'] = state === 'error', _classNames2[prefix + 'warning'] = state === 'warning', _classNames2[prefix + 'focus'] = this.state.focus, _classNames2));\n    };\n\n    Base.prototype.getProps = function getProps() {\n        var _props3 = this.props,\n            placeholder = _props3.placeholder,\n            inputStyle = _props3.inputStyle,\n            disabled = _props3.disabled,\n            readOnly = _props3.readOnly,\n            cutString = _props3.cutString,\n            maxLength = _props3.maxLength,\n            name = _props3.name,\n            onCompositionStart = _props3.onCompositionStart,\n            onCompositionEnd = _props3.onCompositionEnd;\n\n        var props = {\n            style: inputStyle,\n            placeholder: placeholder,\n            disabled: disabled,\n            readOnly: readOnly,\n            name: name,\n            maxLength: cutString ? maxLength : undefined,\n            value: this.state.value,\n            onChange: this.onChange.bind(this),\n            onBlur: this.onBlur.bind(this),\n            onFocus: this.onFocus.bind(this),\n            onCompositionStart: onCompositionStart,\n            onCompositionEnd: onCompositionEnd\n        };\n\n        // fix accessibility：auto process status of aria disabled\n        if (disabled) {\n            props['aria-disabled'] = disabled;\n        }\n\n        return props;\n    };\n\n    Base.prototype.getInputNode = function getInputNode() {\n        return this.inputRef;\n    };\n\n    Base.prototype.focus = function focus(start, end) {\n        this.inputRef.focus();\n        if (typeof start === 'number') {\n            this.inputRef.selectionStart = start;\n        }\n        if (typeof end === 'number') {\n            this.inputRef.selectionEnd = end;\n        }\n    };\n\n    return Base;\n}(React.Component), _class.propTypes = _extends({}, ConfigProvider.propTypes, {\n    /**\n     * 当前值\n     */\n    value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    /**\n     * 初始化值\n     */\n    defaultValue: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    /**\n     * 发生改变的时候触发的回调\n     * @param {String} value 数据\n     * @param {Event} e DOM事件对象\n     */\n    onChange: PropTypes.func,\n    /**\n     * 键盘按下的时候触发的回调\n     * @param {Event} e DOM事件对象\n     * @param {Object} opts 可扩展的附加信息：<br> - opts.overMaxLength: {Boolean} 已超出最大长度<br> - opts.beTrimed: {Boolean} 输入的空格被清理\n     */\n    onKeyDown: PropTypes.func,\n    /**\n     * 禁用状态\n     */\n    disabled: PropTypes.bool,\n    /**\n     * 最大长度\n     */\n    maxLength: PropTypes.number,\n    /**\n     * 是否展现最大长度样式（旧版本为 hasLimitHint，目前仍兼容旧用法，将在2.x直接废弃）\n     */\n    showLimitHint: PropTypes.bool,\n    /**\n     * 当设置了maxLength时，是否截断超出字符串\n     */\n    cutString: PropTypes.bool,\n    /**\n     * 只读\n     */\n    readOnly: PropTypes.bool,\n    /**\n     * onChange返回会自动去除头尾空字符\n     */\n    trim: PropTypes.bool,\n    /**\n     * 输入提示\n     */\n    placeholder: PropTypes.string,\n    /**\n     * 获取焦点时候触发的回调\n     * @param {Event} e DOM事件对象\n     */\n    onFocus: PropTypes.func,\n    /**\n     * 失去焦点时候触发的回调\n     * @param {Event} e DOM事件对象\n     */\n    onBlur: PropTypes.func,\n    /**\n     * 自定义字符串计算长度方式\n     * @param {String} value 数据\n     * @returns {Number} 自定义长度\n     */\n    getValueLength: PropTypes.func,\n    inputStyle: PropTypes.object,\n    /**\n     * 自定义class\n     */\n    className: PropTypes.string,\n    /**\n     * 自定义内联样式\n     */\n    style: PropTypes.object,\n    /**\n     * 原生type\n     */\n    htmlType: PropTypes.string,\n    /**\n     * name\n     */\n    name: PropTypes.string,\n    rtl: PropTypes.bool,\n    state: PropTypes.oneOf(['error', 'loading', 'success', 'warning']),\n    locale: PropTypes.object,\n    /**\n     * 是否为预览态\n     */\n    isPreview: PropTypes.bool,\n    /**\n     * 预览态模式下渲染的内容\n     * @param {number} value 评分值\n     */\n    renderPreview: PropTypes.func,\n    /**\n     * 尺寸\n     * @enumdesc 小, 中, 大\n     */\n    size: PropTypes.oneOf(['small', 'medium', 'large']),\n    /**\n     * 开启后会过滤输入法中间字母状态，文字输入完成后才会触发 onChange\n     * @version 1.23\n     */\n    composition: PropTypes.bool,\n    onCompositionStart: PropTypes.func,\n    onCompositionEnd: PropTypes.func\n}), _class.defaultProps = {\n    disabled: false,\n    prefix: 'next-',\n    size: 'medium',\n    maxLength: null,\n    showLimitHint: false,\n    cutString: true,\n    readOnly: false,\n    isPreview: false,\n    trim: false,\n    composition: false,\n    onFocus: func.noop,\n    onBlur: func.noop,\n    onChange: func.noop,\n    onKeyDown: func.noop,\n    getValueLength: func.noop,\n    onCompositionStart: func.noop,\n    onCompositionEnd: func.noop,\n    locale: zhCN.Input\n}, _temp2);\nBase.displayName = 'Base';\n\n\nexport default polyfill(Base);"]},"metadata":{},"sourceType":"module"}