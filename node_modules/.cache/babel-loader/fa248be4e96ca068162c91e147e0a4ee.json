{"ast":null,"code":"import _extends from 'babel-runtime/helpers/extends';\nimport _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\n\nvar _class, _temp2;\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport ConfigProvider from '../config-provider';\n/**\n * Form.Error\n * @description 自定义错误展示\n * @order 4\n */\n\nvar Error = (_temp2 = _class = function (_React$Component) {\n  _inherits(Error, _React$Component);\n\n  function Error() {\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Error);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _this.itemRender = function (errors) {\n      return errors.length ? errors : null;\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  Error.prototype.render = function render() {\n    var _classNames;\n\n    var _props = this.props,\n        children = _props.children,\n        name = _props.name,\n        prefix = _props.prefix,\n        style = _props.style,\n        className = _props.className,\n        _field = _props.field,\n        others = _objectWithoutProperties(_props, ['children', 'name', 'prefix', 'style', 'className', 'field']);\n\n    if (children && typeof children !== 'function') {\n      return React.createElement('div', {\n        className: prefix + 'form-item-help'\n      }, children);\n    }\n\n    var field = this.context._formField || _field;\n\n    if (!field || !name) {\n      return null;\n    }\n\n    var isSingle = typeof name === 'string';\n    var names = isSingle ? [name] : name;\n    var errorArr = [];\n\n    if (names.length) {\n      var errors = field.getErrors(names);\n      Object.keys(errors).forEach(function (key) {\n        if (errors[key]) {\n          errorArr.push(errors[key]);\n        }\n      });\n    }\n\n    var result = null;\n\n    if (typeof children === 'function') {\n      result = children(errorArr, isSingle ? field.getState(name) : undefined);\n    } else {\n      result = this.itemRender(errorArr);\n    }\n\n    if (!result) {\n      return null;\n    }\n\n    var cls = classNames((_classNames = {}, _classNames[prefix + 'form-item-help'] = true, _classNames[className] = className, _classNames));\n    return React.createElement('div', _extends({}, others, {\n      className: cls,\n      style: style\n    }), result);\n  };\n\n  return Error;\n}(React.Component), _class.propTypes = {\n  /**\n   * 表单名\n   */\n  name: PropTypes.oneOfType([PropTypes.string, PropTypes.array]),\n\n  /**\n   * 自定义 field (在 Form 内不需要设置)\n   */\n  field: PropTypes.object,\n  style: PropTypes.object,\n  className: PropTypes.string,\n\n  /**\n   * 自定义错误渲染, 可以是 node 或者 function(errors, state)\n   */\n  children: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n  prefix: PropTypes.string\n}, _class.defaultProps = {\n  prefix: 'next-'\n}, _class.contextTypes = {\n  _formField: PropTypes.object\n}, _class._typeMark = 'form_error', _temp2);\nError.displayName = 'Error';\nexport default ConfigProvider.config(Error);","map":{"version":3,"sources":["/Users/Chris/Project/lunch-order-backstage/node_modules/@alifd/next/es/form/error.js"],"names":["_extends","_objectWithoutProperties","_classCallCheck","_possibleConstructorReturn","_inherits","_class","_temp2","React","PropTypes","classNames","ConfigProvider","Error","_React$Component","_temp","_this","_ret","_len","arguments","length","args","Array","_key","call","apply","concat","itemRender","errors","prototype","render","_classNames","_props","props","children","name","prefix","style","className","_field","field","others","createElement","context","_formField","isSingle","names","errorArr","getErrors","Object","keys","forEach","key","push","result","getState","undefined","cls","Component","propTypes","oneOfType","string","array","object","node","func","defaultProps","contextTypes","_typeMark","displayName","config"],"mappings":"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","sourcesContent":["import _extends from 'babel-runtime/helpers/extends';\nimport _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\n\nvar _class, _temp2;\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport ConfigProvider from '../config-provider';\n\n/**\n * Form.Error\n * @description 自定义错误展示\n * @order 4\n */\nvar Error = (_temp2 = _class = function (_React$Component) {\n    _inherits(Error, _React$Component);\n\n    function Error() {\n        var _temp, _this, _ret;\n\n        _classCallCheck(this, Error);\n\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        return _ret = (_temp = (_this = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _this.itemRender = function (errors) {\n            return errors.length ? errors : null;\n        }, _temp), _possibleConstructorReturn(_this, _ret);\n    }\n\n    Error.prototype.render = function render() {\n        var _classNames;\n\n        var _props = this.props,\n            children = _props.children,\n            name = _props.name,\n            prefix = _props.prefix,\n            style = _props.style,\n            className = _props.className,\n            _field = _props.field,\n            others = _objectWithoutProperties(_props, ['children', 'name', 'prefix', 'style', 'className', 'field']);\n\n        if (children && typeof children !== 'function') {\n            return React.createElement(\n                'div',\n                { className: prefix + 'form-item-help' },\n                children\n            );\n        }\n\n        var field = this.context._formField || _field;\n\n        if (!field || !name) {\n            return null;\n        }\n\n        var isSingle = typeof name === 'string';\n\n        var names = isSingle ? [name] : name;\n        var errorArr = [];\n\n        if (names.length) {\n            var errors = field.getErrors(names);\n            Object.keys(errors).forEach(function (key) {\n                if (errors[key]) {\n                    errorArr.push(errors[key]);\n                }\n            });\n        }\n\n        var result = null;\n        if (typeof children === 'function') {\n            result = children(errorArr, isSingle ? field.getState(name) : undefined);\n        } else {\n            result = this.itemRender(errorArr);\n        }\n\n        if (!result) {\n            return null;\n        }\n\n        var cls = classNames((_classNames = {}, _classNames[prefix + 'form-item-help'] = true, _classNames[className] = className, _classNames));\n\n        return React.createElement(\n            'div',\n            _extends({}, others, { className: cls, style: style }),\n            result\n        );\n    };\n\n    return Error;\n}(React.Component), _class.propTypes = {\n    /**\n     * 表单名\n     */\n    name: PropTypes.oneOfType([PropTypes.string, PropTypes.array]),\n    /**\n     * 自定义 field (在 Form 内不需要设置)\n     */\n    field: PropTypes.object,\n    style: PropTypes.object,\n    className: PropTypes.string,\n    /**\n     * 自定义错误渲染, 可以是 node 或者 function(errors, state)\n     */\n    children: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n    prefix: PropTypes.string\n}, _class.defaultProps = {\n    prefix: 'next-'\n}, _class.contextTypes = {\n    _formField: PropTypes.object\n}, _class._typeMark = 'form_error', _temp2);\nError.displayName = 'Error';\n\n\nexport default ConfigProvider.config(Error);"]},"metadata":{},"sourceType":"module"}