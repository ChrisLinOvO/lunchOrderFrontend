{"ast":null,"code":"import _extends from 'babel-runtime/helpers/extends';\nimport _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\n\nvar _class, _temp2;\n\nimport React from 'react';\nimport { findDOMNode } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport BodyComponent from '../base/body';\n/* eslint-disable react/prefer-stateless-function */\n\nvar VirtualBody = (_temp2 = _class = function (_React$Component) {\n  _inherits(VirtualBody, _React$Component);\n\n  function VirtualBody() {\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, VirtualBody);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _this.tableRef = function (table) {\n      _this.tableNode = table;\n    }, _this.virtualScrollRef = function (virtualScroll) {\n      _this.virtualScrollNode = virtualScroll;\n    }, _this.onScroll = function (current) {\n      // for fixed\n      _this.context.onFixedScrollSync(current); // for lock\n\n\n      _this.context.onLockBodyScroll(current); // for virtual\n\n\n      _this.context.onVirtualScroll();\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  VirtualBody.prototype.componentDidMount = function componentDidMount() {\n    var bodyNode = findDOMNode(this); // // for fixed\n\n    this.context.getNode('body', bodyNode); // for virtual\n\n    this.context.getBodyNode(bodyNode, this.context.lockType); // for lock\n\n    this.context.getLockNode('body', bodyNode, this.context.lockType);\n  };\n\n  VirtualBody.prototype.render = function render() {\n    var _props = this.props,\n        prefix = _props.prefix,\n        className = _props.className,\n        colGroup = _props.colGroup,\n        tableWidth = _props.tableWidth,\n        others = _objectWithoutProperties(_props, ['prefix', 'className', 'colGroup', 'tableWidth']);\n\n    var _context = this.context,\n        maxBodyHeight = _context.maxBodyHeight,\n        bodyHeight = _context.bodyHeight,\n        innerTop = _context.innerTop;\n    var style = {\n      width: tableWidth\n    };\n    var wrapperStyle = {\n      position: 'relative'\n    }; // todo 2.0 ，这里最好自己画滚动条\n\n    if (bodyHeight > maxBodyHeight) {\n      wrapperStyle.height = bodyHeight;\n    }\n\n    return React.createElement('div', {\n      style: {\n        maxHeight: maxBodyHeight\n      },\n      className: className,\n      onScroll: this.onScroll\n    }, React.createElement('div', {\n      style: wrapperStyle,\n      ref: this.virtualScrollRef\n    }, React.createElement('div', {\n      style: {\n        position: 'relative',\n        transform: 'translateY(' + innerTop + 'px)',\n        willChange: 'transform'\n      }\n    }, React.createElement('table', {\n      ref: this.tableRef,\n      style: style\n    }, colGroup, React.createElement(BodyComponent, _extends({}, others, {\n      prefix: prefix\n    }))))));\n  };\n\n  return VirtualBody;\n}(React.Component), _class.propTypes = {\n  children: PropTypes.any,\n  prefix: PropTypes.string,\n  className: PropTypes.string,\n  colGroup: PropTypes.any,\n  tableWidth: PropTypes.number\n}, _class.contextTypes = {\n  maxBodyHeight: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  onBodyScroll: PropTypes.func,\n  onFixedScrollSync: PropTypes.func,\n  onVirtualScroll: PropTypes.func,\n  onLockBodyScroll: PropTypes.func,\n  bodyHeight: PropTypes.number,\n  innerTop: PropTypes.number,\n  getNode: PropTypes.func,\n  getBodyNode: PropTypes.func,\n  getLockNode: PropTypes.func,\n  lockType: PropTypes.oneOf(['left', 'right'])\n}, _temp2);\nVirtualBody.displayName = 'VirtualBody';\nexport { VirtualBody as default };","map":{"version":3,"sources":["/Users/Chris/Project/lunch-order-backstage/node_modules/@alifd/next/es/table/virtual/body.js"],"names":["_extends","_objectWithoutProperties","_classCallCheck","_possibleConstructorReturn","_inherits","_class","_temp2","React","findDOMNode","PropTypes","BodyComponent","VirtualBody","_React$Component","_temp","_this","_ret","_len","arguments","length","args","Array","_key","call","apply","concat","tableRef","table","tableNode","virtualScrollRef","virtualScroll","virtualScrollNode","onScroll","current","context","onFixedScrollSync","onLockBodyScroll","onVirtualScroll","prototype","componentDidMount","bodyNode","getNode","getBodyNode","lockType","getLockNode","render","_props","props","prefix","className","colGroup","tableWidth","others","_context","maxBodyHeight","bodyHeight","innerTop","style","width","wrapperStyle","position","height","createElement","maxHeight","ref","transform","willChange","Component","propTypes","children","any","string","number","contextTypes","oneOfType","onBodyScroll","func","oneOf","displayName","default"],"mappings":"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","sourcesContent":["import _extends from 'babel-runtime/helpers/extends';\nimport _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\n\nvar _class, _temp2;\n\nimport React from 'react';\nimport { findDOMNode } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport BodyComponent from '../base/body';\n\n/* eslint-disable react/prefer-stateless-function */\nvar VirtualBody = (_temp2 = _class = function (_React$Component) {\n    _inherits(VirtualBody, _React$Component);\n\n    function VirtualBody() {\n        var _temp, _this, _ret;\n\n        _classCallCheck(this, VirtualBody);\n\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        return _ret = (_temp = (_this = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _this.tableRef = function (table) {\n            _this.tableNode = table;\n        }, _this.virtualScrollRef = function (virtualScroll) {\n            _this.virtualScrollNode = virtualScroll;\n        }, _this.onScroll = function (current) {\n            // for fixed\n            _this.context.onFixedScrollSync(current);\n            // for lock\n            _this.context.onLockBodyScroll(current);\n            // for virtual\n            _this.context.onVirtualScroll();\n        }, _temp), _possibleConstructorReturn(_this, _ret);\n    }\n\n    VirtualBody.prototype.componentDidMount = function componentDidMount() {\n        var bodyNode = findDOMNode(this);\n        // // for fixed\n        this.context.getNode('body', bodyNode);\n        // for virtual\n        this.context.getBodyNode(bodyNode, this.context.lockType);\n        // for lock\n        this.context.getLockNode('body', bodyNode, this.context.lockType);\n    };\n\n    VirtualBody.prototype.render = function render() {\n        var _props = this.props,\n            prefix = _props.prefix,\n            className = _props.className,\n            colGroup = _props.colGroup,\n            tableWidth = _props.tableWidth,\n            others = _objectWithoutProperties(_props, ['prefix', 'className', 'colGroup', 'tableWidth']);\n\n        var _context = this.context,\n            maxBodyHeight = _context.maxBodyHeight,\n            bodyHeight = _context.bodyHeight,\n            innerTop = _context.innerTop;\n\n        var style = {\n            width: tableWidth\n        };\n        var wrapperStyle = {\n            position: 'relative'\n        };\n        // todo 2.0 ，这里最好自己画滚动条\n        if (bodyHeight > maxBodyHeight) {\n            wrapperStyle.height = bodyHeight;\n        }\n        return React.createElement(\n            'div',\n            { style: { maxHeight: maxBodyHeight }, className: className, onScroll: this.onScroll },\n            React.createElement(\n                'div',\n                { style: wrapperStyle, ref: this.virtualScrollRef },\n                React.createElement(\n                    'div',\n                    {\n                        style: {\n                            position: 'relative',\n                            transform: 'translateY(' + innerTop + 'px)',\n                            willChange: 'transform'\n                        }\n                    },\n                    React.createElement(\n                        'table',\n                        { ref: this.tableRef, style: style },\n                        colGroup,\n                        React.createElement(BodyComponent, _extends({}, others, { prefix: prefix }))\n                    )\n                )\n            )\n        );\n    };\n\n    return VirtualBody;\n}(React.Component), _class.propTypes = {\n    children: PropTypes.any,\n    prefix: PropTypes.string,\n    className: PropTypes.string,\n    colGroup: PropTypes.any,\n    tableWidth: PropTypes.number\n}, _class.contextTypes = {\n    maxBodyHeight: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    onBodyScroll: PropTypes.func,\n    onFixedScrollSync: PropTypes.func,\n    onVirtualScroll: PropTypes.func,\n    onLockBodyScroll: PropTypes.func,\n    bodyHeight: PropTypes.number,\n    innerTop: PropTypes.number,\n    getNode: PropTypes.func,\n    getBodyNode: PropTypes.func,\n    getLockNode: PropTypes.func,\n    lockType: PropTypes.oneOf(['left', 'right'])\n}, _temp2);\nVirtualBody.displayName = 'VirtualBody';\nexport { VirtualBody as default };"]},"metadata":{},"sourceType":"module"}