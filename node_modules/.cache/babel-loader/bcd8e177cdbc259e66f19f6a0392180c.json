{"ast":null,"code":"export var getWidth = function getWidth(elem) {\n  var width = elem && typeof elem.getBoundingClientRect === 'function' && elem.getBoundingClientRect().width;\n\n  if (width) {\n    width = +width.toFixed(6);\n  }\n\n  return width || 0;\n};\nexport var normalizeToArray = function normalizeToArray(items) {\n  if (items) {\n    if (Array.isArray(items)) {\n      return items;\n    }\n\n    return [items];\n  }\n\n  return [];\n};\nexport var isSibling = function isSibling(currentPos, targetPos) {\n  var currentNums = currentPos.split('-').slice(0, -1);\n  var targetNums = targetPos.split('-').slice(0, -1);\n  return currentNums.length === targetNums.length && currentNums.every(function (num, index) {\n    return num === targetNums[index];\n  });\n};\nexport var isAncestor = function isAncestor(currentPos, targetPos) {\n  var currentNums = currentPos.split('-');\n  var targetNums = targetPos.split('-');\n  return currentNums.length > targetNums.length && targetNums.every(function (num, index) {\n    return num === currentNums[index];\n  });\n};\nexport var isAvailablePos = function isAvailablePos(refPos, targetPos, _p2n) {\n  var _p2n$targetPos = _p2n[targetPos],\n      type = _p2n$targetPos.type,\n      disabled = _p2n$targetPos.disabled;\n  return isSibling(refPos, targetPos) && (type === 'item' && !disabled || type === 'submenu');\n};\nexport var getFirstAvaliablelChildKey = function getFirstAvaliablelChildKey(parentPos, _p2n) {\n  var pos = Object.keys(_p2n).find(function (p) {\n    return isAvailablePos(parentPos + '-0', p, _p2n);\n  });\n  return pos ? _p2n[pos].key : null;\n};\n/**\n * 如果 key 在 SelectedKeys 的选中链上（例如 SelectedKeys 是['0-1-2'],  key是 0-1 ），那么返回true\n *\n * selectMode?: string; 当前的选择模式，一般为 multiple single\n * selectedKeys?: string[]; 选中的key值\n * k2n?: object[] mapping;\n * _key?: string; 待测试的key值\n *\n * @return bool 当前元素是否有孩子被选中\n */\n\nexport var getChildSelected = function getChildSelected(_ref) {\n  var selectMode = _ref.selectMode,\n      selectedKeys = _ref.selectedKeys,\n      _k2n = _ref._k2n,\n      _key = _ref._key;\n\n  if (!_k2n) {\n    return false;\n  }\n\n  var _keyPos = (_k2n[_key] && _k2n[_key].pos) + '-';\n\n  return !!selectMode && selectedKeys.some(function (key) {\n    return _k2n[key] && _k2n[key].pos.indexOf(_keyPos) === 0;\n  });\n};","map":{"version":3,"sources":["/Users/Chris/Project/lunch-order-backstage/node_modules/@alifd/next/es/menu/view/util.js"],"names":["getWidth","elem","width","getBoundingClientRect","toFixed","normalizeToArray","items","Array","isArray","isSibling","currentPos","targetPos","currentNums","split","slice","targetNums","length","every","num","index","isAncestor","isAvailablePos","refPos","_p2n","_p2n$targetPos","type","disabled","getFirstAvaliablelChildKey","parentPos","pos","Object","keys","find","p","key","getChildSelected","_ref","selectMode","selectedKeys","_k2n","_key","_keyPos","some","indexOf"],"mappings":"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","sourcesContent":["export var getWidth = function getWidth(elem) {\n    var width = elem && typeof elem.getBoundingClientRect === 'function' && elem.getBoundingClientRect().width;\n    if (width) {\n        width = +width.toFixed(6);\n    }\n    return width || 0;\n};\n\nexport var normalizeToArray = function normalizeToArray(items) {\n    if (items) {\n        if (Array.isArray(items)) {\n            return items;\n        }\n        return [items];\n    }\n\n    return [];\n};\n\nexport var isSibling = function isSibling(currentPos, targetPos) {\n    var currentNums = currentPos.split('-').slice(0, -1);\n    var targetNums = targetPos.split('-').slice(0, -1);\n\n    return currentNums.length === targetNums.length && currentNums.every(function (num, index) {\n        return num === targetNums[index];\n    });\n};\n\nexport var isAncestor = function isAncestor(currentPos, targetPos) {\n    var currentNums = currentPos.split('-');\n    var targetNums = targetPos.split('-');\n\n    return currentNums.length > targetNums.length && targetNums.every(function (num, index) {\n        return num === currentNums[index];\n    });\n};\n\nexport var isAvailablePos = function isAvailablePos(refPos, targetPos, _p2n) {\n    var _p2n$targetPos = _p2n[targetPos],\n        type = _p2n$targetPos.type,\n        disabled = _p2n$targetPos.disabled;\n\n\n    return isSibling(refPos, targetPos) && (type === 'item' && !disabled || type === 'submenu');\n};\n\nexport var getFirstAvaliablelChildKey = function getFirstAvaliablelChildKey(parentPos, _p2n) {\n    var pos = Object.keys(_p2n).find(function (p) {\n        return isAvailablePos(parentPos + '-0', p, _p2n);\n    });\n    return pos ? _p2n[pos].key : null;\n};\n\n/**\n * 如果 key 在 SelectedKeys 的选中链上（例如 SelectedKeys 是['0-1-2'],  key是 0-1 ），那么返回true\n *\n * selectMode?: string; 当前的选择模式，一般为 multiple single\n * selectedKeys?: string[]; 选中的key值\n * k2n?: object[] mapping;\n * _key?: string; 待测试的key值\n *\n * @return bool 当前元素是否有孩子被选中\n */\nexport var getChildSelected = function getChildSelected(_ref) {\n    var selectMode = _ref.selectMode,\n        selectedKeys = _ref.selectedKeys,\n        _k2n = _ref._k2n,\n        _key = _ref._key;\n\n    if (!_k2n) {\n        return false;\n    }\n\n    var _keyPos = (_k2n[_key] && _k2n[_key].pos) + '-';\n\n    return !!selectMode && selectedKeys.some(function (key) {\n        return _k2n[key] && _k2n[key].pos.indexOf(_keyPos) === 0;\n    });\n};"]},"metadata":{},"sourceType":"module"}