{"ast":null,"code":"import _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\n\nvar _class, _temp;\n\nimport { Component, Children } from 'react';\nimport PropTypes from 'prop-types';\nimport { polyfill } from 'react-lifecycles-compat';\nimport getContextProps from './get-context-props';\nimport { config, initLocales, setLanguage, setLocale, setDirection, getLocale, getLanguage, getDirection } from './config';\nimport Consumer from './consumer';\nimport ErrorBoundary from './error-boundary';\nimport Cache from './cache';\nimport datejs from '../util/date';\nvar childContextCache = new Cache();\n\nvar setMomentLocale = function setMomentLocale(locale) {\n  var moment = void 0;\n\n  try {\n    moment = require('moment');\n    if (moment && moment.default && moment.default.isMoment) moment = moment.default;\n  } catch (e) {// ignore\n  }\n\n  if (moment && locale) {\n    moment.locale(locale.momentLocale);\n  }\n};\n\nvar setDateLocale = function setDateLocale(locale) {\n  if (locale) {\n    datejs.locale(locale.dateLocale || locale.momentLocale);\n  }\n};\n/**\n * ConfigProvider\n * @propsExtends false\n */\n\n\nvar ConfigProvider = (_temp = _class = function (_Component) {\n  _inherits(ConfigProvider, _Component);\n  /**\n   * 传入组件的 props 和 displayName，得到和 childContext 计算过的包含有 preifx/locale/pure 的对象，一般用于通过静态方法生成脱离组件树的组件\n   * @param {Object} props 组件的 props\n   * @param {String} displayName 组件的 displayName\n   * @returns {Object} 新的 context props\n   */\n\n\n  function ConfigProvider() {\n    _classCallCheck(this, ConfigProvider);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var _this = _possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args)));\n\n    childContextCache.add(_this, _extends({}, childContextCache.get(_this, {}), _this.getChildContext()));\n    setMomentLocale(_this.props.locale);\n    setDateLocale(_this.props.locale);\n    _this.state = {\n      locale: _this.props.locale\n    };\n    return _this;\n  }\n  /**\n   * 传入组件，生成受 ConfigProvider 控制的 HOC 组件\n   * @param {Component} Component 组件类\n   * @param {Object} options 可选项\n   * @returns {Component} HOC\n   */\n\n\n  ConfigProvider.prototype.getChildContext = function getChildContext() {\n    var _props = this.props,\n        prefix = _props.prefix,\n        locale = _props.locale,\n        defaultPropsConfig = _props.defaultPropsConfig,\n        pure = _props.pure,\n        warning = _props.warning,\n        rtl = _props.rtl,\n        device = _props.device,\n        popupContainer = _props.popupContainer,\n        errorBoundary = _props.errorBoundary;\n    var _context = this.context,\n        nextPrefix = _context.nextPrefix,\n        nextDefaultPropsConfig = _context.nextDefaultPropsConfig,\n        nextLocale = _context.nextLocale,\n        nextPure = _context.nextPure,\n        nextRtl = _context.nextRtl,\n        nextWarning = _context.nextWarning,\n        nextDevice = _context.nextDevice,\n        nextPopupContainer = _context.nextPopupContainer,\n        nextErrorBoundary = _context.nextErrorBoundary;\n    return {\n      nextPrefix: prefix || nextPrefix,\n      nextDefaultPropsConfig: defaultPropsConfig || nextDefaultPropsConfig,\n      nextLocale: locale || nextLocale,\n      nextPure: typeof pure === 'boolean' ? pure : nextPure,\n      nextRtl: typeof rtl === 'boolean' ? rtl : nextRtl,\n      nextWarning: typeof warning === 'boolean' ? warning : nextWarning,\n      nextDevice: device || nextDevice,\n      nextPopupContainer: popupContainer || nextPopupContainer,\n      nextErrorBoundary: errorBoundary || nextErrorBoundary\n    };\n  };\n\n  ConfigProvider.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {\n    if (nextProps.locale !== prevState.locale) {\n      setMomentLocale(nextProps.locale);\n      setDateLocale(nextProps.locale);\n      return {\n        locale: nextProps.locale\n      };\n    }\n\n    return null;\n  };\n\n  ConfigProvider.prototype.componentDidUpdate = function componentDidUpdate() {\n    childContextCache.add(this, _extends({}, childContextCache.get(this, {}), this.getChildContext()));\n  };\n\n  ConfigProvider.prototype.componentWillUnmount = function componentWillUnmount() {\n    childContextCache.remove(this);\n  };\n\n  ConfigProvider.prototype.render = function render() {\n    return Children.only(this.props.children);\n  };\n\n  return ConfigProvider;\n}(Component), _class.propTypes = {\n  /**\n   * 样式类名的品牌前缀\n   */\n  prefix: PropTypes.string,\n\n  /**\n   * 国际化文案对象，属性为组件的 displayName\n   */\n  locale: PropTypes.object,\n\n  /**\n   * 组件 API 的默认配置\n   */\n  defaultPropsConfig: PropTypes.object,\n\n  /**\n   * 是否开启错误捕捉 errorBoundary\n   * 如需自定义参数，请传入对象 对象接受参数列表如下：\n   *\n   * fallbackUI `Function(error?: {}, errorInfo?: {}) => Element` 捕获错误后的展示\n   * afterCatch `Function(error?: {}, errorInfo?: {})` 捕获错误后的行为, 比如埋点上传\n   */\n  errorBoundary: PropTypes.oneOfType([PropTypes.bool, PropTypes.object]),\n\n  /**\n   * 是否开启 Pure Render 模式，会提高性能，但是也会带来副作用\n   */\n  pure: PropTypes.bool,\n\n  /**\n   * 是否在开发模式下显示组件属性被废弃的 warning 提示\n   */\n  warning: PropTypes.bool,\n\n  /**\n   * 是否开启 rtl 模式\n   */\n  rtl: PropTypes.bool,\n\n  /**\n   * 设备类型，针对不同的设备类型组件做出对应的响应式变化\n   */\n  device: PropTypes.oneOf(['tablet', 'desktop', 'phone']),\n\n  /**\n   * 组件树\n   */\n  children: PropTypes.any,\n\n  /**\n   * 指定浮层渲染的父节点, 可以为节点id的字符串，也可以返回节点的函数\n   */\n  popupContainer: PropTypes.any\n}, _class.defaultProps = {\n  warning: true,\n  errorBoundary: false\n}, _class.contextTypes = {\n  nextPrefix: PropTypes.string,\n  nextLocale: PropTypes.object,\n  nextDefaultPropsConfig: PropTypes.object,\n  nextPure: PropTypes.bool,\n  nextRtl: PropTypes.bool,\n  nextWarning: PropTypes.bool,\n  nextDevice: PropTypes.oneOf(['tablet', 'desktop', 'phone']),\n  nextPopupContainer: PropTypes.any,\n  nextErrorBoundary: PropTypes.oneOfType([PropTypes.bool, PropTypes.object])\n}, _class.childContextTypes = {\n  nextPrefix: PropTypes.string,\n  nextLocale: PropTypes.object,\n  nextDefaultPropsConfig: PropTypes.object,\n  nextPure: PropTypes.bool,\n  nextRtl: PropTypes.bool,\n  nextWarning: PropTypes.bool,\n  nextDevice: PropTypes.oneOf(['tablet', 'desktop', 'phone']),\n  nextPopupContainer: PropTypes.any,\n  nextErrorBoundary: PropTypes.oneOfType([PropTypes.bool, PropTypes.object])\n}, _class.config = function (Component, options) {\n  return config(Component, options);\n}, _class.getContextProps = function (props, displayName) {\n  return getContextProps(props, childContextCache.root() || {}, displayName);\n}, _class.clearCache = function () {\n  childContextCache.clear();\n}, _class.initLocales = initLocales, _class.setLanguage = setLanguage, _class.setLocale = setLocale, _class.setDirection = setDirection, _class.getLanguage = getLanguage, _class.getLocale = getLocale, _class.getDirection = getDirection, _class.Consumer = Consumer, _class.ErrorBoundary = ErrorBoundary, _class.getContext = function () {\n  var _ref = childContextCache.root() || {},\n      nextPrefix = _ref.nextPrefix,\n      nextLocale = _ref.nextLocale,\n      nextDefaultPropsConfig = _ref.nextDefaultPropsConfig,\n      nextPure = _ref.nextPure,\n      nextRtl = _ref.nextRtl,\n      nextWarning = _ref.nextWarning,\n      nextDevice = _ref.nextDevice,\n      nextPopupContainer = _ref.nextPopupContainer,\n      nextErrorBoundary = _ref.nextErrorBoundary;\n\n  return {\n    prefix: nextPrefix,\n    locale: nextLocale,\n    defaultPropsConfig: nextDefaultPropsConfig,\n    pure: nextPure,\n    rtl: nextRtl,\n    warning: nextWarning,\n    device: nextDevice,\n    popupContainer: nextPopupContainer,\n    errorBoundary: nextErrorBoundary\n  };\n}, _temp);\nConfigProvider.displayName = 'ConfigProvider';\nexport default polyfill(ConfigProvider);","map":{"version":3,"sources":["/Users/Chris/Project/lunch-order-backstage/node_modules/@alifd/next/es/config-provider/index.js"],"names":["_extends","_classCallCheck","_possibleConstructorReturn","_inherits","_class","_temp","Component","Children","PropTypes","polyfill","getContextProps","config","initLocales","setLanguage","setLocale","setDirection","getLocale","getLanguage","getDirection","Consumer","ErrorBoundary","Cache","datejs","childContextCache","setMomentLocale","locale","moment","require","default","isMoment","e","momentLocale","setDateLocale","dateLocale","ConfigProvider","_Component","_len","arguments","length","args","Array","_key","_this","call","apply","concat","add","get","getChildContext","props","state","prototype","_props","prefix","defaultPropsConfig","pure","warning","rtl","device","popupContainer","errorBoundary","_context","context","nextPrefix","nextDefaultPropsConfig","nextLocale","nextPure","nextRtl","nextWarning","nextDevice","nextPopupContainer","nextErrorBoundary","getDerivedStateFromProps","nextProps","prevState","componentDidUpdate","componentWillUnmount","remove","render","only","children","propTypes","string","object","oneOfType","bool","oneOf","any","defaultProps","contextTypes","childContextTypes","options","displayName","root","clearCache","clear","getContext","_ref"],"mappings":"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","sourcesContent":["import _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\n\nvar _class, _temp;\n\nimport { Component, Children } from 'react';\nimport PropTypes from 'prop-types';\nimport { polyfill } from 'react-lifecycles-compat';\nimport getContextProps from './get-context-props';\nimport { config, initLocales, setLanguage, setLocale, setDirection, getLocale, getLanguage, getDirection } from './config';\nimport Consumer from './consumer';\nimport ErrorBoundary from './error-boundary';\nimport Cache from './cache';\nimport datejs from '../util/date';\n\nvar childContextCache = new Cache();\n\nvar setMomentLocale = function setMomentLocale(locale) {\n    var moment = void 0;\n    try {\n        moment = require('moment');\n        if (moment && moment.default && moment.default.isMoment) moment = moment.default;\n    } catch (e) {\n        // ignore\n    }\n\n    if (moment && locale) {\n        moment.locale(locale.momentLocale);\n    }\n};\n\nvar setDateLocale = function setDateLocale(locale) {\n    if (locale) {\n        datejs.locale(locale.dateLocale || locale.momentLocale);\n    }\n};\n\n/**\n * ConfigProvider\n * @propsExtends false\n */\nvar ConfigProvider = (_temp = _class = function (_Component) {\n    _inherits(ConfigProvider, _Component);\n\n    /**\n     * 传入组件的 props 和 displayName，得到和 childContext 计算过的包含有 preifx/locale/pure 的对象，一般用于通过静态方法生成脱离组件树的组件\n     * @param {Object} props 组件的 props\n     * @param {String} displayName 组件的 displayName\n     * @returns {Object} 新的 context props\n     */\n    function ConfigProvider() {\n        _classCallCheck(this, ConfigProvider);\n\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        var _this = _possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args)));\n\n        childContextCache.add(_this, _extends({}, childContextCache.get(_this, {}), _this.getChildContext()));\n\n        setMomentLocale(_this.props.locale);\n        setDateLocale(_this.props.locale);\n\n        _this.state = {\n            locale: _this.props.locale\n        };\n        return _this;\n    }\n\n    /**\n     * 传入组件，生成受 ConfigProvider 控制的 HOC 组件\n     * @param {Component} Component 组件类\n     * @param {Object} options 可选项\n     * @returns {Component} HOC\n     */\n\n\n    ConfigProvider.prototype.getChildContext = function getChildContext() {\n        var _props = this.props,\n            prefix = _props.prefix,\n            locale = _props.locale,\n            defaultPropsConfig = _props.defaultPropsConfig,\n            pure = _props.pure,\n            warning = _props.warning,\n            rtl = _props.rtl,\n            device = _props.device,\n            popupContainer = _props.popupContainer,\n            errorBoundary = _props.errorBoundary;\n        var _context = this.context,\n            nextPrefix = _context.nextPrefix,\n            nextDefaultPropsConfig = _context.nextDefaultPropsConfig,\n            nextLocale = _context.nextLocale,\n            nextPure = _context.nextPure,\n            nextRtl = _context.nextRtl,\n            nextWarning = _context.nextWarning,\n            nextDevice = _context.nextDevice,\n            nextPopupContainer = _context.nextPopupContainer,\n            nextErrorBoundary = _context.nextErrorBoundary;\n\n\n        return {\n            nextPrefix: prefix || nextPrefix,\n            nextDefaultPropsConfig: defaultPropsConfig || nextDefaultPropsConfig,\n            nextLocale: locale || nextLocale,\n            nextPure: typeof pure === 'boolean' ? pure : nextPure,\n            nextRtl: typeof rtl === 'boolean' ? rtl : nextRtl,\n            nextWarning: typeof warning === 'boolean' ? warning : nextWarning,\n            nextDevice: device || nextDevice,\n            nextPopupContainer: popupContainer || nextPopupContainer,\n            nextErrorBoundary: errorBoundary || nextErrorBoundary\n        };\n    };\n\n    ConfigProvider.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {\n        if (nextProps.locale !== prevState.locale) {\n            setMomentLocale(nextProps.locale);\n            setDateLocale(nextProps.locale);\n\n            return {\n                locale: nextProps.locale\n            };\n        }\n\n        return null;\n    };\n\n    ConfigProvider.prototype.componentDidUpdate = function componentDidUpdate() {\n        childContextCache.add(this, _extends({}, childContextCache.get(this, {}), this.getChildContext()));\n    };\n\n    ConfigProvider.prototype.componentWillUnmount = function componentWillUnmount() {\n        childContextCache.remove(this);\n    };\n\n    ConfigProvider.prototype.render = function render() {\n        return Children.only(this.props.children);\n    };\n\n    return ConfigProvider;\n}(Component), _class.propTypes = {\n    /**\n     * 样式类名的品牌前缀\n     */\n    prefix: PropTypes.string,\n    /**\n     * 国际化文案对象，属性为组件的 displayName\n     */\n    locale: PropTypes.object,\n    /**\n     * 组件 API 的默认配置\n     */\n    defaultPropsConfig: PropTypes.object,\n    /**\n     * 是否开启错误捕捉 errorBoundary\n     * 如需自定义参数，请传入对象 对象接受参数列表如下：\n     *\n     * fallbackUI `Function(error?: {}, errorInfo?: {}) => Element` 捕获错误后的展示\n     * afterCatch `Function(error?: {}, errorInfo?: {})` 捕获错误后的行为, 比如埋点上传\n     */\n    errorBoundary: PropTypes.oneOfType([PropTypes.bool, PropTypes.object]),\n    /**\n     * 是否开启 Pure Render 模式，会提高性能，但是也会带来副作用\n     */\n    pure: PropTypes.bool,\n    /**\n     * 是否在开发模式下显示组件属性被废弃的 warning 提示\n     */\n    warning: PropTypes.bool,\n    /**\n     * 是否开启 rtl 模式\n     */\n    rtl: PropTypes.bool,\n    /**\n     * 设备类型，针对不同的设备类型组件做出对应的响应式变化\n     */\n    device: PropTypes.oneOf(['tablet', 'desktop', 'phone']),\n    /**\n     * 组件树\n     */\n    children: PropTypes.any,\n    /**\n     * 指定浮层渲染的父节点, 可以为节点id的字符串，也可以返回节点的函数\n     */\n    popupContainer: PropTypes.any\n}, _class.defaultProps = {\n    warning: true,\n    errorBoundary: false\n}, _class.contextTypes = {\n    nextPrefix: PropTypes.string,\n    nextLocale: PropTypes.object,\n    nextDefaultPropsConfig: PropTypes.object,\n    nextPure: PropTypes.bool,\n    nextRtl: PropTypes.bool,\n    nextWarning: PropTypes.bool,\n    nextDevice: PropTypes.oneOf(['tablet', 'desktop', 'phone']),\n    nextPopupContainer: PropTypes.any,\n    nextErrorBoundary: PropTypes.oneOfType([PropTypes.bool, PropTypes.object])\n}, _class.childContextTypes = {\n    nextPrefix: PropTypes.string,\n    nextLocale: PropTypes.object,\n    nextDefaultPropsConfig: PropTypes.object,\n    nextPure: PropTypes.bool,\n    nextRtl: PropTypes.bool,\n    nextWarning: PropTypes.bool,\n    nextDevice: PropTypes.oneOf(['tablet', 'desktop', 'phone']),\n    nextPopupContainer: PropTypes.any,\n    nextErrorBoundary: PropTypes.oneOfType([PropTypes.bool, PropTypes.object])\n}, _class.config = function (Component, options) {\n    return config(Component, options);\n}, _class.getContextProps = function (props, displayName) {\n    return getContextProps(props, childContextCache.root() || {}, displayName);\n}, _class.clearCache = function () {\n    childContextCache.clear();\n}, _class.initLocales = initLocales, _class.setLanguage = setLanguage, _class.setLocale = setLocale, _class.setDirection = setDirection, _class.getLanguage = getLanguage, _class.getLocale = getLocale, _class.getDirection = getDirection, _class.Consumer = Consumer, _class.ErrorBoundary = ErrorBoundary, _class.getContext = function () {\n    var _ref = childContextCache.root() || {},\n        nextPrefix = _ref.nextPrefix,\n        nextLocale = _ref.nextLocale,\n        nextDefaultPropsConfig = _ref.nextDefaultPropsConfig,\n        nextPure = _ref.nextPure,\n        nextRtl = _ref.nextRtl,\n        nextWarning = _ref.nextWarning,\n        nextDevice = _ref.nextDevice,\n        nextPopupContainer = _ref.nextPopupContainer,\n        nextErrorBoundary = _ref.nextErrorBoundary;\n\n    return {\n        prefix: nextPrefix,\n        locale: nextLocale,\n        defaultPropsConfig: nextDefaultPropsConfig,\n        pure: nextPure,\n        rtl: nextRtl,\n        warning: nextWarning,\n        device: nextDevice,\n        popupContainer: nextPopupContainer,\n        errorBoundary: nextErrorBoundary\n    };\n}, _temp);\nConfigProvider.displayName = 'ConfigProvider';\n\n\nexport default polyfill(ConfigProvider);"]},"metadata":{},"sourceType":"module"}