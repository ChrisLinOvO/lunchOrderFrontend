{"ast":null,"code":"import _extends from 'babel-runtime/helpers/extends';\nimport _typeof from 'babel-runtime/helpers/typeof';\nimport _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\n\nvar _class, _temp2;\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport RowComponent from './row';\nimport CellComponent from './cell';\nimport { dom, events } from '../../util';\n\nvar noop = function noop() {};\n\nvar Body = (_temp2 = _class = function (_React$Component) {\n  _inherits(Body, _React$Component);\n\n  function Body() {\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Body);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _this.getRowRef = function (i, row) {\n      _this.props.rowRef(i, row);\n    }, _this.onRowClick = function (record, index, e) {\n      _this.props.onRowClick(record, index, e);\n    }, _this.onRowMouseEnter = function (record, index, e) {\n      _this.props.onRowMouseEnter(record, index, e);\n    }, _this.onRowMouseLeave = function (record, index, e) {\n      _this.props.onRowMouseLeave(record, index, e);\n    }, _this.onBodyMouseOver = function (e) {\n      _this.props.onBodyMouseOver(e);\n    }, _this.onBodyMouseOut = function (e) {\n      _this.props.onBodyMouseOut(e);\n    }, _this.getEmptyNode = function (ref) {\n      _this.emptyNode = ref;\n    }, _this.setEmptyDomStyle = function () {\n      var tableEl = _this.props.tableEl; // getboundingclientRect 获取的是除 margin 之外的内容区，可能带小数点，不四舍五入\n\n      var borderLeftWidth = dom.getStyle(tableEl, 'borderLeftWidth');\n      var tableWidth = tableEl && tableEl.getBoundingClientRect().width;\n      var totalWidth = tableWidth - borderLeftWidth - 1 || '100%';\n      dom.setStyle(_this.emptyNode, {\n        width: totalWidth\n      });\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  Body.prototype.componentDidMount = function componentDidMount() {\n    events.on(window, 'resize', this.setEmptyDomStyle);\n  };\n\n  Body.prototype.componentDidUpdate = function componentDidUpdate() {\n    this.setEmptyDomStyle();\n  };\n\n  Body.prototype.componentWillUnmount = function componentWillUnmount() {\n    events.off(window, 'resize', this.setEmptyDomStyle);\n  };\n\n  Body.prototype.render = function render() {\n    var _this2 = this;\n    /*eslint-disable no-unused-vars */\n\n\n    var _props = this.props,\n        prefix = _props.prefix,\n        className = _props.className,\n        children = _props.children,\n        Tag = _props.component,\n        colGroup = _props.colGroup,\n        loading = _props.loading,\n        emptyContent = _props.emptyContent,\n        components = _props.components,\n        getCellProps = _props.getCellProps,\n        primaryKey = _props.primaryKey,\n        getRowProps = _props.getRowProps,\n        dataSource = _props.dataSource,\n        cellRef = _props.cellRef,\n        columns = _props.columns,\n        rowRef = _props.rowRef,\n        onRowClick = _props.onRowClick,\n        onRowMouseEnter = _props.onRowMouseEnter,\n        onRowMouseLeave = _props.onRowMouseLeave,\n        onBodyMouseOver = _props.onBodyMouseOver,\n        onBodyMouseOut = _props.onBodyMouseOut,\n        locale = _props.locale,\n        pure = _props.pure,\n        expandedIndexSimulate = _props.expandedIndexSimulate,\n        tableEl = _props.tableEl,\n        rtl = _props.rtl,\n        crossline = _props.crossline,\n        tableWidth = _props.tableWidth,\n        others = _objectWithoutProperties(_props, ['prefix', 'className', 'children', 'component', 'colGroup', 'loading', 'emptyContent', 'components', 'getCellProps', 'primaryKey', 'getRowProps', 'dataSource', 'cellRef', 'columns', 'rowRef', 'onRowClick', 'onRowMouseEnter', 'onRowMouseLeave', 'onBodyMouseOver', 'onBodyMouseOut', 'locale', 'pure', 'expandedIndexSimulate', 'tableEl', 'rtl', 'crossline', 'tableWidth']);\n\n    var totalWidth = +(tableEl && tableEl.clientWidth) - 1 || '100%';\n    var _components$Row = components.Row,\n        Row = _components$Row === undefined ? RowComponent : _components$Row,\n        _components$Cell = components.Cell,\n        Cell = _components$Cell === undefined ? CellComponent : _components$Cell;\n    var empty = loading ? React.createElement('span', null, '\\xA0') : emptyContent || locale.empty;\n    var rows = React.createElement('tr', null, React.createElement('td', {\n      colSpan: columns.length\n    }, React.createElement('div', {\n      ref: this.getEmptyNode,\n      className: prefix + 'table-empty',\n      style: {\n        position: 'sticky',\n        left: 0,\n        overflow: 'hidden',\n        width: totalWidth\n      }\n    }, empty)));\n\n    if (Tag === 'div') {\n      rows = React.createElement('table', {\n        role: 'table'\n      }, React.createElement('tbody', null, rows));\n    }\n\n    if (dataSource.length) {\n      rows = dataSource.map(function (record, index) {\n        var _classnames;\n\n        var rowProps = {}; // record may be a string\n\n        var rowIndex = (typeof record === 'undefined' ? 'undefined' : _typeof(record)) === 'object' && '__rowIndex' in record ? record.__rowIndex : index;\n\n        if (expandedIndexSimulate) {\n          rowProps = record.__expanded ? {} : getRowProps(record, index / 2);\n        } else {\n          rowProps = getRowProps(record, rowIndex);\n        }\n\n        rowProps = rowProps || {};\n        var rowClass = rowProps.className;\n        var className = classnames((_classnames = {\n          first: index === 0,\n          last: index === dataSource.length - 1\n        }, _classnames[rowClass] = rowClass, _classnames));\n        var expanded = record.__expanded ? 'expanded' : '';\n        return React.createElement(Row, _extends({\n          key: '' + (record[primaryKey] || (record[primaryKey] === 0 ? 0 : rowIndex)) + expanded\n        }, rowProps, {\n          ref: _this2.getRowRef.bind(_this2, expanded ? rowIndex + '_expanded' : rowIndex),\n          colGroup: colGroup,\n          rtl: rtl,\n          columns: columns,\n          primaryKey: primaryKey,\n          record: record,\n          rowIndex: rowIndex,\n          __rowIndex: rowIndex,\n          prefix: prefix,\n          pure: pure,\n          cellRef: cellRef,\n          getCellProps: getCellProps,\n          className: className,\n          Cell: Cell,\n          tableEl: tableEl,\n          onClick: _this2.onRowClick,\n          locale: locale,\n          onMouseEnter: _this2.onRowMouseEnter,\n          onMouseLeave: _this2.onRowMouseLeave\n        }));\n      });\n    } else {\n      // 异步设置空数据时的宽度\n      this.setEmptyDomStyle();\n    }\n\n    var event = crossline ? {\n      onMouseOver: this.onBodyMouseOver,\n      onMouseOut: this.onBodyMouseOut\n    } : {};\n    return React.createElement(Tag, _extends({\n      className: className\n    }, others, event), rows, children);\n  };\n\n  return Body;\n}(React.Component), _class.propTypes = {\n  loading: PropTypes.bool,\n  emptyContent: PropTypes.any,\n  tableEl: PropTypes.any,\n  prefix: PropTypes.string,\n  pure: PropTypes.bool,\n  components: PropTypes.object,\n  getCellProps: PropTypes.func,\n  cellRef: PropTypes.func,\n  primaryKey: PropTypes.oneOfType([PropTypes.symbol, PropTypes.string]),\n  getRowProps: PropTypes.func,\n  rowRef: PropTypes.func,\n  dataSource: PropTypes.array,\n  children: PropTypes.any,\n  className: PropTypes.string,\n  component: PropTypes.string,\n  colGroup: PropTypes.object,\n  columns: PropTypes.array,\n  onRowClick: PropTypes.func,\n  onRowMouseEnter: PropTypes.func,\n  onRowMouseLeave: PropTypes.func,\n  onBodyMouseOver: PropTypes.func,\n  onBodyMouseOut: PropTypes.func,\n  locale: PropTypes.object,\n  crossline: PropTypes.bool,\n  tableWidth: PropTypes.number\n}, _class.defaultProps = {\n  loading: false,\n  prefix: 'next-',\n  components: {},\n  getCellProps: noop,\n  cellRef: noop,\n  primaryKey: 'id',\n  getRowProps: noop,\n  rowRef: noop,\n  dataSource: [],\n  component: 'tbody',\n  columns: []\n}, _temp2);\nBody.displayName = 'Body';\nexport { Body as default };","map":{"version":3,"sources":["/Users/Chris/Project/lunch-order-backstage/node_modules/@alifd/next/es/table/base/body.js"],"names":["_extends","_typeof","_objectWithoutProperties","_classCallCheck","_possibleConstructorReturn","_inherits","_class","_temp2","React","PropTypes","classnames","RowComponent","CellComponent","dom","events","noop","Body","_React$Component","_temp","_this","_ret","_len","arguments","length","args","Array","_key","call","apply","concat","getRowRef","i","row","props","rowRef","onRowClick","record","index","e","onRowMouseEnter","onRowMouseLeave","onBodyMouseOver","onBodyMouseOut","getEmptyNode","ref","emptyNode","setEmptyDomStyle","tableEl","borderLeftWidth","getStyle","tableWidth","getBoundingClientRect","width","totalWidth","setStyle","prototype","componentDidMount","on","window","componentDidUpdate","componentWillUnmount","off","render","_this2","_props","prefix","className","children","Tag","component","colGroup","loading","emptyContent","components","getCellProps","primaryKey","getRowProps","dataSource","cellRef","columns","locale","pure","expandedIndexSimulate","rtl","crossline","others","clientWidth","_components$Row","Row","undefined","_components$Cell","Cell","empty","createElement","rows","colSpan","style","position","left","overflow","role","map","_classnames","rowProps","rowIndex","__rowIndex","__expanded","rowClass","first","last","expanded","key","bind","onClick","onMouseEnter","onMouseLeave","event","onMouseOver","onMouseOut","Component","propTypes","bool","any","string","object","func","oneOfType","symbol","array","number","defaultProps","displayName","default"],"mappings":"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","sourcesContent":["import _extends from 'babel-runtime/helpers/extends';\nimport _typeof from 'babel-runtime/helpers/typeof';\nimport _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\n\nvar _class, _temp2;\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport RowComponent from './row';\nimport CellComponent from './cell';\nimport { dom, events } from '../../util';\n\nvar noop = function noop() {};\n\nvar Body = (_temp2 = _class = function (_React$Component) {\n    _inherits(Body, _React$Component);\n\n    function Body() {\n        var _temp, _this, _ret;\n\n        _classCallCheck(this, Body);\n\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        return _ret = (_temp = (_this = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _this.getRowRef = function (i, row) {\n            _this.props.rowRef(i, row);\n        }, _this.onRowClick = function (record, index, e) {\n            _this.props.onRowClick(record, index, e);\n        }, _this.onRowMouseEnter = function (record, index, e) {\n            _this.props.onRowMouseEnter(record, index, e);\n        }, _this.onRowMouseLeave = function (record, index, e) {\n            _this.props.onRowMouseLeave(record, index, e);\n        }, _this.onBodyMouseOver = function (e) {\n            _this.props.onBodyMouseOver(e);\n        }, _this.onBodyMouseOut = function (e) {\n            _this.props.onBodyMouseOut(e);\n        }, _this.getEmptyNode = function (ref) {\n            _this.emptyNode = ref;\n        }, _this.setEmptyDomStyle = function () {\n            var tableEl = _this.props.tableEl;\n            // getboundingclientRect 获取的是除 margin 之外的内容区，可能带小数点，不四舍五入\n\n            var borderLeftWidth = dom.getStyle(tableEl, 'borderLeftWidth');\n            var tableWidth = tableEl && tableEl.getBoundingClientRect().width;\n            var totalWidth = tableWidth - borderLeftWidth - 1 || '100%';\n\n            dom.setStyle(_this.emptyNode, { width: totalWidth });\n        }, _temp), _possibleConstructorReturn(_this, _ret);\n    }\n\n    Body.prototype.componentDidMount = function componentDidMount() {\n        events.on(window, 'resize', this.setEmptyDomStyle);\n    };\n\n    Body.prototype.componentDidUpdate = function componentDidUpdate() {\n        this.setEmptyDomStyle();\n    };\n\n    Body.prototype.componentWillUnmount = function componentWillUnmount() {\n        events.off(window, 'resize', this.setEmptyDomStyle);\n    };\n\n    Body.prototype.render = function render() {\n        var _this2 = this;\n\n        /*eslint-disable no-unused-vars */\n        var _props = this.props,\n            prefix = _props.prefix,\n            className = _props.className,\n            children = _props.children,\n            Tag = _props.component,\n            colGroup = _props.colGroup,\n            loading = _props.loading,\n            emptyContent = _props.emptyContent,\n            components = _props.components,\n            getCellProps = _props.getCellProps,\n            primaryKey = _props.primaryKey,\n            getRowProps = _props.getRowProps,\n            dataSource = _props.dataSource,\n            cellRef = _props.cellRef,\n            columns = _props.columns,\n            rowRef = _props.rowRef,\n            onRowClick = _props.onRowClick,\n            onRowMouseEnter = _props.onRowMouseEnter,\n            onRowMouseLeave = _props.onRowMouseLeave,\n            onBodyMouseOver = _props.onBodyMouseOver,\n            onBodyMouseOut = _props.onBodyMouseOut,\n            locale = _props.locale,\n            pure = _props.pure,\n            expandedIndexSimulate = _props.expandedIndexSimulate,\n            tableEl = _props.tableEl,\n            rtl = _props.rtl,\n            crossline = _props.crossline,\n            tableWidth = _props.tableWidth,\n            others = _objectWithoutProperties(_props, ['prefix', 'className', 'children', 'component', 'colGroup', 'loading', 'emptyContent', 'components', 'getCellProps', 'primaryKey', 'getRowProps', 'dataSource', 'cellRef', 'columns', 'rowRef', 'onRowClick', 'onRowMouseEnter', 'onRowMouseLeave', 'onBodyMouseOver', 'onBodyMouseOut', 'locale', 'pure', 'expandedIndexSimulate', 'tableEl', 'rtl', 'crossline', 'tableWidth']);\n\n        var totalWidth = +(tableEl && tableEl.clientWidth) - 1 || '100%';\n\n        var _components$Row = components.Row,\n            Row = _components$Row === undefined ? RowComponent : _components$Row,\n            _components$Cell = components.Cell,\n            Cell = _components$Cell === undefined ? CellComponent : _components$Cell;\n\n        var empty = loading ? React.createElement(\n            'span',\n            null,\n            '\\xA0'\n        ) : emptyContent || locale.empty;\n        var rows = React.createElement(\n            'tr',\n            null,\n            React.createElement(\n                'td',\n                { colSpan: columns.length },\n                React.createElement(\n                    'div',\n                    {\n                        ref: this.getEmptyNode,\n                        className: prefix + 'table-empty',\n                        style: { position: 'sticky', left: 0, overflow: 'hidden', width: totalWidth }\n                    },\n                    empty\n                )\n            )\n        );\n        if (Tag === 'div') {\n            rows = React.createElement(\n                'table',\n                { role: 'table' },\n                React.createElement(\n                    'tbody',\n                    null,\n                    rows\n                )\n            );\n        }\n        if (dataSource.length) {\n            rows = dataSource.map(function (record, index) {\n                var _classnames;\n\n                var rowProps = {};\n                // record may be a string\n                var rowIndex = (typeof record === 'undefined' ? 'undefined' : _typeof(record)) === 'object' && '__rowIndex' in record ? record.__rowIndex : index;\n\n                if (expandedIndexSimulate) {\n                    rowProps = record.__expanded ? {} : getRowProps(record, index / 2);\n                } else {\n                    rowProps = getRowProps(record, rowIndex);\n                }\n\n                rowProps = rowProps || {};\n\n                var rowClass = rowProps.className;\n                var className = classnames((_classnames = {\n                    first: index === 0,\n                    last: index === dataSource.length - 1\n                }, _classnames[rowClass] = rowClass, _classnames));\n                var expanded = record.__expanded ? 'expanded' : '';\n                return React.createElement(Row, _extends({\n                    key: '' + (record[primaryKey] || (record[primaryKey] === 0 ? 0 : rowIndex)) + expanded\n                }, rowProps, {\n                    ref: _this2.getRowRef.bind(_this2, expanded ? rowIndex + '_expanded' : rowIndex),\n                    colGroup: colGroup,\n                    rtl: rtl,\n                    columns: columns,\n                    primaryKey: primaryKey,\n                    record: record,\n                    rowIndex: rowIndex,\n                    __rowIndex: rowIndex,\n                    prefix: prefix,\n                    pure: pure,\n                    cellRef: cellRef,\n                    getCellProps: getCellProps,\n                    className: className,\n                    Cell: Cell,\n                    tableEl: tableEl,\n                    onClick: _this2.onRowClick,\n                    locale: locale,\n                    onMouseEnter: _this2.onRowMouseEnter,\n                    onMouseLeave: _this2.onRowMouseLeave\n                }));\n            });\n        } else {\n            // 异步设置空数据时的宽度\n            this.setEmptyDomStyle();\n        }\n        var event = crossline ? {\n            onMouseOver: this.onBodyMouseOver,\n            onMouseOut: this.onBodyMouseOut\n        } : {};\n        return React.createElement(\n            Tag,\n            _extends({ className: className }, others, event),\n            rows,\n            children\n        );\n    };\n\n    return Body;\n}(React.Component), _class.propTypes = {\n    loading: PropTypes.bool,\n    emptyContent: PropTypes.any,\n    tableEl: PropTypes.any,\n    prefix: PropTypes.string,\n    pure: PropTypes.bool,\n    components: PropTypes.object,\n    getCellProps: PropTypes.func,\n    cellRef: PropTypes.func,\n    primaryKey: PropTypes.oneOfType([PropTypes.symbol, PropTypes.string]),\n    getRowProps: PropTypes.func,\n    rowRef: PropTypes.func,\n    dataSource: PropTypes.array,\n    children: PropTypes.any,\n    className: PropTypes.string,\n    component: PropTypes.string,\n    colGroup: PropTypes.object,\n    columns: PropTypes.array,\n    onRowClick: PropTypes.func,\n    onRowMouseEnter: PropTypes.func,\n    onRowMouseLeave: PropTypes.func,\n    onBodyMouseOver: PropTypes.func,\n    onBodyMouseOut: PropTypes.func,\n    locale: PropTypes.object,\n    crossline: PropTypes.bool,\n    tableWidth: PropTypes.number\n}, _class.defaultProps = {\n    loading: false,\n    prefix: 'next-',\n    components: {},\n    getCellProps: noop,\n    cellRef: noop,\n    primaryKey: 'id',\n    getRowProps: noop,\n    rowRef: noop,\n    dataSource: [],\n    component: 'tbody',\n    columns: []\n}, _temp2);\nBody.displayName = 'Body';\nexport { Body as default };"]},"metadata":{},"sourceType":"module"}