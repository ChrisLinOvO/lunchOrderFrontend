{"ast":null,"code":"import { isValidElement, cloneElement } from 'react';\nimport ReactDOM from 'react-dom';\nexport function cloneAndAddKey(element) {\n  if (element && isValidElement(element)) {\n    var key = element.key || 'error';\n    return cloneElement(element, {\n      key: key\n    });\n  }\n\n  return element;\n}\nexport function scrollToFirstError(_ref) {\n  var errorsGroup = _ref.errorsGroup,\n      options = _ref.options,\n      instance = _ref.instance;\n\n  if (errorsGroup && options.scrollToFirstError) {\n    var firstNode = void 0;\n    var firstTop = void 0;\n\n    for (var i in errorsGroup) {\n      if (errorsGroup.hasOwnProperty(i)) {\n        var node = ReactDOM.findDOMNode(instance[i]);\n\n        if (!node) {\n          return;\n        }\n\n        var top = node.offsetTop;\n\n        if (firstTop === undefined || firstTop > top) {\n          firstTop = top;\n          firstNode = node;\n        }\n      }\n    }\n\n    if (firstNode) {\n      if (typeof options.scrollToFirstError === 'number' && window && typeof window.scrollTo === 'function') {\n        var offsetLeft = document && document.body && document.body.offsetLeft ? document.body.offsetLeft : 0;\n        window.scrollTo(offsetLeft, firstTop + options.scrollToFirstError);\n      } else if (firstNode.scrollIntoViewIfNeeded) {\n        firstNode.scrollIntoViewIfNeeded(true);\n      }\n    }\n  }\n}","map":{"version":3,"sources":["/Users/Chris/Project/lunch-order-backstage/node_modules/@alifd/next/es/field/utils.js"],"names":["isValidElement","cloneElement","ReactDOM","cloneAndAddKey","element","key","scrollToFirstError","_ref","errorsGroup","options","instance","firstNode","firstTop","i","hasOwnProperty","node","findDOMNode","top","offsetTop","undefined","window","scrollTo","offsetLeft","document","body","scrollIntoViewIfNeeded"],"mappings":"AAAA,SAASA,cAAT,EAAyBC,YAAzB,QAA6C,OAA7C;AACA,OAAOC,QAAP,MAAqB,WAArB;AAEA,OAAO,SAASC,cAAT,CAAwBC,OAAxB,EAAiC;AACpC,MAAIA,OAAO,IAAIJ,cAAc,CAACI,OAAD,CAA7B,EAAwC;AACpC,QAAIC,GAAG,GAAGD,OAAO,CAACC,GAAR,IAAe,OAAzB;AACA,WAAOJ,YAAY,CAACG,OAAD,EAAU;AAAEC,MAAAA,GAAG,EAAEA;AAAP,KAAV,CAAnB;AACH;;AACD,SAAOD,OAAP;AACH;AAED,OAAO,SAASE,kBAAT,CAA4BC,IAA5B,EAAkC;AACrC,MAAIC,WAAW,GAAGD,IAAI,CAACC,WAAvB;AAAA,MACIC,OAAO,GAAGF,IAAI,CAACE,OADnB;AAAA,MAEIC,QAAQ,GAAGH,IAAI,CAACG,QAFpB;;AAIA,MAAIF,WAAW,IAAIC,OAAO,CAACH,kBAA3B,EAA+C;AAC3C,QAAIK,SAAS,GAAG,KAAK,CAArB;AACA,QAAIC,QAAQ,GAAG,KAAK,CAApB;;AACA,SAAK,IAAIC,CAAT,IAAcL,WAAd,EAA2B;AACvB,UAAIA,WAAW,CAACM,cAAZ,CAA2BD,CAA3B,CAAJ,EAAmC;AAC/B,YAAIE,IAAI,GAAGb,QAAQ,CAACc,WAAT,CAAqBN,QAAQ,CAACG,CAAD,CAA7B,CAAX;;AACA,YAAI,CAACE,IAAL,EAAW;AACP;AACH;;AACD,YAAIE,GAAG,GAAGF,IAAI,CAACG,SAAf;;AACA,YAAIN,QAAQ,KAAKO,SAAb,IAA0BP,QAAQ,GAAGK,GAAzC,EAA8C;AAC1CL,UAAAA,QAAQ,GAAGK,GAAX;AACAN,UAAAA,SAAS,GAAGI,IAAZ;AACH;AACJ;AACJ;;AAED,QAAIJ,SAAJ,EAAe;AACX,UAAI,OAAOF,OAAO,CAACH,kBAAf,KAAsC,QAAtC,IAAkDc,MAAlD,IAA4D,OAAOA,MAAM,CAACC,QAAd,KAA2B,UAA3F,EAAuG;AACnG,YAAIC,UAAU,GAAGC,QAAQ,IAAIA,QAAQ,CAACC,IAArB,IAA6BD,QAAQ,CAACC,IAAT,CAAcF,UAA3C,GAAwDC,QAAQ,CAACC,IAAT,CAAcF,UAAtE,GAAmF,CAApG;AACAF,QAAAA,MAAM,CAACC,QAAP,CAAgBC,UAAhB,EAA4BV,QAAQ,GAAGH,OAAO,CAACH,kBAA/C;AACH,OAHD,MAGO,IAAIK,SAAS,CAACc,sBAAd,EAAsC;AACzCd,QAAAA,SAAS,CAACc,sBAAV,CAAiC,IAAjC;AACH;AACJ;AACJ;AACJ","sourcesContent":["import { isValidElement, cloneElement } from 'react';\nimport ReactDOM from 'react-dom';\n\nexport function cloneAndAddKey(element) {\n    if (element && isValidElement(element)) {\n        var key = element.key || 'error';\n        return cloneElement(element, { key: key });\n    }\n    return element;\n}\n\nexport function scrollToFirstError(_ref) {\n    var errorsGroup = _ref.errorsGroup,\n        options = _ref.options,\n        instance = _ref.instance;\n\n    if (errorsGroup && options.scrollToFirstError) {\n        var firstNode = void 0;\n        var firstTop = void 0;\n        for (var i in errorsGroup) {\n            if (errorsGroup.hasOwnProperty(i)) {\n                var node = ReactDOM.findDOMNode(instance[i]);\n                if (!node) {\n                    return;\n                }\n                var top = node.offsetTop;\n                if (firstTop === undefined || firstTop > top) {\n                    firstTop = top;\n                    firstNode = node;\n                }\n            }\n        }\n\n        if (firstNode) {\n            if (typeof options.scrollToFirstError === 'number' && window && typeof window.scrollTo === 'function') {\n                var offsetLeft = document && document.body && document.body.offsetLeft ? document.body.offsetLeft : 0;\n                window.scrollTo(offsetLeft, firstTop + options.scrollToFirstError);\n            } else if (firstNode.scrollIntoViewIfNeeded) {\n                firstNode.scrollIntoViewIfNeeded(true);\n            }\n        }\n    }\n}"]},"metadata":{},"sourceType":"module"}