{"ast":null,"code":"import _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport _extends from 'babel-runtime/helpers/extends';\nimport _typeof from 'babel-runtime/helpers/typeof';\n\nvar _class, _temp;\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport ConfigProvider from '../config-provider';\nimport { obj } from '../util';\nimport createStyle, { getMargin, getChildMargin, getSpacingHelperMargin, filterInnerStyle, filterHelperStyle, filterOuterStyle, getGridChildProps } from // getBoxChildProps,\n'../responsive-grid/create-style';\nvar pickOthers = obj.pickOthers;\n\nvar createChildren = function createChildren(children, _ref) {\n  var spacing = _ref.spacing,\n      direction = _ref.direction,\n      wrap = _ref.wrap,\n      device = _ref.device;\n  var array = React.Children.toArray(children);\n\n  if (!children) {\n    return null;\n  }\n\n  return array.map(function (child, index) {\n    var spacingMargin = {};\n    spacingMargin = getChildMargin(spacing);\n\n    if (!wrap) {\n      // 不折行\n      var isNone = [index === 0, index === array.length - 1];\n      var props = direction === 'row' ? ['marginLeft', 'marginRight'] : ['marginTop', 'marginBottom'];\n      ['marginTop', 'marginRight', 'marginBottom', 'marginLeft'].forEach(function (prop) {\n        if (prop in spacingMargin && props.indexOf(prop) === -1) {\n          spacingMargin[prop] = 0;\n        }\n\n        props.forEach(function (key, i) {\n          if (key in spacingMargin && isNone[i]) {\n            spacingMargin[key] = 0;\n          }\n        });\n      });\n    }\n\n    if (React.isValidElement(child)) {\n      var propsMargin = child.props.margin;\n      var childPropsMargin = getMargin(propsMargin);\n      var gridProps = {};\n\n      if (['function', 'object'].indexOf(_typeof(child.type)) > -1 && child.type._typeMark === 'responsive_grid') {\n        gridProps = createStyle(_extends({\n          display: 'grid'\n        }, child.props));\n      }\n\n      return React.cloneElement(child, {\n        style: _extends({}, spacingMargin, childPropsMargin, gridProps, child.props.style || {})\n      });\n    }\n\n    return child;\n  });\n};\n\nvar getStyle = function getStyle() {\n  var style = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var props = arguments[1];\n  return _extends({}, createStyle(_extends({\n    display: 'flex'\n  }, props)), style);\n};\n\nvar getOuterStyle = function getOuterStyle(style, styleProps) {\n  var sheet = getStyle(style, styleProps);\n  return filterOuterStyle(sheet);\n};\n\nvar getHelperStyle = function getHelperStyle(style, styleProps) {\n  var sheet = getStyle(style, styleProps);\n  return filterHelperStyle(_extends({}, sheet, getSpacingHelperMargin(styleProps.spacing)));\n};\n\nvar getInnerStyle = function getInnerStyle(style, styleProps) {\n  var sheet = getStyle(style, styleProps);\n  return filterInnerStyle(sheet);\n};\n/**\n * Box\n */\n\n\nvar Box = (_temp = _class = function (_Component) {\n  _inherits(Box, _Component);\n\n  function Box() {\n    _classCallCheck(this, Box);\n\n    return _possibleConstructorReturn(this, _Component.apply(this, arguments));\n  }\n\n  Box.prototype.render = function render() {\n    var _cx;\n\n    var _props = this.props,\n        prefix = _props.prefix,\n        direction = _props.direction,\n        justify = _props.justify,\n        align = _props.align,\n        wrap = _props.wrap,\n        flex = _props.flex,\n        spacing = _props.spacing,\n        padding = _props.padding,\n        margin = _props.margin,\n        style = _props.style,\n        className = _props.className,\n        children = _props.children,\n        device = _props.device,\n        component = _props.component;\n    var styleProps = {\n      direction: direction,\n      justify: justify,\n      align: align,\n      wrap: wrap,\n      flex: flex,\n      spacing: spacing,\n      padding: padding,\n      margin: margin\n    };\n    var View = component;\n    var others = pickOthers(Object.keys(Box.propTypes), this.props);\n    var styleSheet = getStyle(style, styleProps);\n    var boxs = createChildren(children, {\n      spacing: spacing,\n      direction: direction,\n      wrap: wrap,\n      device: device\n    });\n    var cls = cx((_cx = {}, _cx[prefix + 'box'] = true, _cx), className);\n\n    if (wrap && spacing) {\n      var outerStyle = getOuterStyle(style, styleProps);\n      var helperStyle = getHelperStyle(style, styleProps);\n      var innerStyle = getInnerStyle(style, styleProps);\n      return React.createElement(View, _extends({\n        style: outerStyle,\n        className: cls\n      }, others), React.createElement('div', {\n        style: helperStyle\n      }, React.createElement('div', {\n        style: innerStyle,\n        className: prefix + 'box'\n      }, boxs)));\n    }\n\n    return React.createElement(View, _extends({\n      style: styleSheet,\n      className: cls\n    }, others), boxs);\n  };\n\n  return Box;\n}(Component), _class.propTypes = {\n  prefix: PropTypes.string,\n  style: PropTypes.object,\n  className: PropTypes.any,\n\n  /**\n   * 布局属性\n   */\n  flex: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.number, PropTypes.string])), PropTypes.number]),\n\n  /**\n   * 布局方向，默认为 column ，一个元素占据一整行\n   * @default column\n   */\n  direction: PropTypes.oneOf(['row', 'column', 'row-reverse']),\n\n  /**\n   * 是否折行 支持IE11+\n   */\n  wrap: PropTypes.bool,\n\n  /**\n   * 元素之间的间距 [bottom&top, right&left]\n   */\n  spacing: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.number), PropTypes.number]),\n\n  /**\n   * 设置 margin [bottom&top, right&left]\n   */\n  margin: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.number), PropTypes.number]),\n\n  /**\n   * 设置 padding [bottom&top, right&left]\n   */\n  padding: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.number), PropTypes.number]),\n\n  /**\n   * 沿着主轴方向，子元素们的排布关系 （兼容性同 justify-content ）\n   */\n  justify: PropTypes.oneOf(['flex-start', 'center', 'flex-end', 'space-between', 'space-around']),\n\n  /**\n   * 垂直主轴方向，子元素们的排布关系 （兼容性同 align-items ）\n   */\n  align: PropTypes.oneOf(['flex-start', 'center', 'flex-end', 'baseline', 'stretch']),\n  device: PropTypes.oneOf(['phone', 'tablet', 'desktop']),\n\n  /**\n   * 定制标签名， 例如section等\n   */\n  component: PropTypes.string\n}, _class.defaultProps = {\n  prefix: 'next-',\n  direction: 'column',\n  wrap: false,\n  component: 'div'\n}, _temp);\nBox.displayName = 'Box';\nexport default ConfigProvider.config(Box);","map":{"version":3,"sources":["/Users/Chris/Project/lunch-order-backstage/node_modules/@alifd/next/es/box/index.js"],"names":["_classCallCheck","_possibleConstructorReturn","_inherits","_extends","_typeof","_class","_temp","React","Component","PropTypes","cx","ConfigProvider","obj","createStyle","getMargin","getChildMargin","getSpacingHelperMargin","filterInnerStyle","filterHelperStyle","filterOuterStyle","getGridChildProps","pickOthers","createChildren","children","_ref","spacing","direction","wrap","device","array","Children","toArray","map","child","index","spacingMargin","isNone","length","props","forEach","prop","indexOf","key","i","isValidElement","propsMargin","margin","childPropsMargin","gridProps","type","_typeMark","display","cloneElement","style","getStyle","arguments","undefined","getOuterStyle","styleProps","sheet","getHelperStyle","getInnerStyle","Box","_Component","apply","prototype","render","_cx","_props","prefix","justify","align","flex","padding","className","component","View","others","Object","keys","propTypes","styleSheet","boxs","cls","outerStyle","helperStyle","innerStyle","createElement","string","object","any","oneOfType","arrayOf","number","oneOf","bool","defaultProps","displayName","config"],"mappings":"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","sourcesContent":["import _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport _extends from 'babel-runtime/helpers/extends';\nimport _typeof from 'babel-runtime/helpers/typeof';\n\nvar _class, _temp;\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport ConfigProvider from '../config-provider';\nimport { obj } from '../util';\nimport createStyle, { getMargin, getChildMargin, getSpacingHelperMargin, filterInnerStyle, filterHelperStyle, filterOuterStyle, getGridChildProps } from\n// getBoxChildProps,\n'../responsive-grid/create-style';\n\nvar pickOthers = obj.pickOthers;\n\n\nvar createChildren = function createChildren(children, _ref) {\n    var spacing = _ref.spacing,\n        direction = _ref.direction,\n        wrap = _ref.wrap,\n        device = _ref.device;\n\n    var array = React.Children.toArray(children);\n    if (!children) {\n        return null;\n    }\n\n    return array.map(function (child, index) {\n        var spacingMargin = {};\n\n        spacingMargin = getChildMargin(spacing);\n\n        if (!wrap) {\n            // 不折行\n            var isNone = [index === 0, index === array.length - 1];\n            var props = direction === 'row' ? ['marginLeft', 'marginRight'] : ['marginTop', 'marginBottom'];\n\n            ['marginTop', 'marginRight', 'marginBottom', 'marginLeft'].forEach(function (prop) {\n                if (prop in spacingMargin && props.indexOf(prop) === -1) {\n                    spacingMargin[prop] = 0;\n                }\n\n                props.forEach(function (key, i) {\n                    if (key in spacingMargin && isNone[i]) {\n                        spacingMargin[key] = 0;\n                    }\n                });\n            });\n        }\n\n        if (React.isValidElement(child)) {\n            var propsMargin = child.props.margin;\n\n            var childPropsMargin = getMargin(propsMargin);\n            var gridProps = {};\n\n            if (['function', 'object'].indexOf(_typeof(child.type)) > -1 && child.type._typeMark === 'responsive_grid') {\n                gridProps = createStyle(_extends({ display: 'grid' }, child.props));\n            }\n\n            return React.cloneElement(child, {\n                style: _extends({}, spacingMargin, childPropsMargin, gridProps, child.props.style || {})\n            });\n        }\n\n        return child;\n    });\n};\n\nvar getStyle = function getStyle() {\n    var style = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var props = arguments[1];\n\n    return _extends({}, createStyle(_extends({ display: 'flex' }, props)), style);\n};\n\nvar getOuterStyle = function getOuterStyle(style, styleProps) {\n    var sheet = getStyle(style, styleProps);\n\n    return filterOuterStyle(sheet);\n};\n\nvar getHelperStyle = function getHelperStyle(style, styleProps) {\n    var sheet = getStyle(style, styleProps);\n\n    return filterHelperStyle(_extends({}, sheet, getSpacingHelperMargin(styleProps.spacing)));\n};\n\nvar getInnerStyle = function getInnerStyle(style, styleProps) {\n    var sheet = getStyle(style, styleProps);\n\n    return filterInnerStyle(sheet);\n};\n\n/**\n * Box\n */\nvar Box = (_temp = _class = function (_Component) {\n    _inherits(Box, _Component);\n\n    function Box() {\n        _classCallCheck(this, Box);\n\n        return _possibleConstructorReturn(this, _Component.apply(this, arguments));\n    }\n\n    Box.prototype.render = function render() {\n        var _cx;\n\n        var _props = this.props,\n            prefix = _props.prefix,\n            direction = _props.direction,\n            justify = _props.justify,\n            align = _props.align,\n            wrap = _props.wrap,\n            flex = _props.flex,\n            spacing = _props.spacing,\n            padding = _props.padding,\n            margin = _props.margin,\n            style = _props.style,\n            className = _props.className,\n            children = _props.children,\n            device = _props.device,\n            component = _props.component;\n\n\n        var styleProps = {\n            direction: direction,\n            justify: justify,\n            align: align,\n            wrap: wrap,\n            flex: flex,\n            spacing: spacing,\n            padding: padding,\n            margin: margin\n        };\n        var View = component;\n        var others = pickOthers(Object.keys(Box.propTypes), this.props);\n        var styleSheet = getStyle(style, styleProps);\n\n        var boxs = createChildren(children, {\n            spacing: spacing,\n            direction: direction,\n            wrap: wrap,\n            device: device\n        });\n\n        var cls = cx((_cx = {}, _cx[prefix + 'box'] = true, _cx), className);\n        if (wrap && spacing) {\n            var outerStyle = getOuterStyle(style, styleProps);\n            var helperStyle = getHelperStyle(style, styleProps);\n            var innerStyle = getInnerStyle(style, styleProps);\n\n            return React.createElement(\n                View,\n                _extends({ style: outerStyle, className: cls }, others),\n                React.createElement(\n                    'div',\n                    { style: helperStyle },\n                    React.createElement(\n                        'div',\n                        { style: innerStyle, className: prefix + 'box' },\n                        boxs\n                    )\n                )\n            );\n        }\n\n        return React.createElement(\n            View,\n            _extends({ style: styleSheet, className: cls }, others),\n            boxs\n        );\n    };\n\n    return Box;\n}(Component), _class.propTypes = {\n    prefix: PropTypes.string,\n    style: PropTypes.object,\n    className: PropTypes.any,\n    /**\n     * 布局属性\n     */\n    flex: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.number, PropTypes.string])), PropTypes.number]),\n    /**\n     * 布局方向，默认为 column ，一个元素占据一整行\n     * @default column\n     */\n    direction: PropTypes.oneOf(['row', 'column', 'row-reverse']),\n    /**\n     * 是否折行 支持IE11+\n     */\n    wrap: PropTypes.bool,\n    /**\n     * 元素之间的间距 [bottom&top, right&left]\n     */\n    spacing: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.number), PropTypes.number]),\n    /**\n     * 设置 margin [bottom&top, right&left]\n     */\n    margin: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.number), PropTypes.number]),\n    /**\n     * 设置 padding [bottom&top, right&left]\n     */\n    padding: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.number), PropTypes.number]),\n    /**\n     * 沿着主轴方向，子元素们的排布关系 （兼容性同 justify-content ）\n     */\n    justify: PropTypes.oneOf(['flex-start', 'center', 'flex-end', 'space-between', 'space-around']),\n    /**\n     * 垂直主轴方向，子元素们的排布关系 （兼容性同 align-items ）\n     */\n    align: PropTypes.oneOf(['flex-start', 'center', 'flex-end', 'baseline', 'stretch']),\n    device: PropTypes.oneOf(['phone', 'tablet', 'desktop']),\n    /**\n     * 定制标签名， 例如section等\n     */\n    component: PropTypes.string\n}, _class.defaultProps = {\n    prefix: 'next-',\n    direction: 'column',\n    wrap: false,\n    component: 'div'\n}, _temp);\nBox.displayName = 'Box';\n\n\nexport default ConfigProvider.config(Box);"]},"metadata":{},"sourceType":"module"}