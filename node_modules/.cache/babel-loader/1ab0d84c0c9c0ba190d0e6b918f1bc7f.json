{"ast":null,"code":"import _extends from 'babel-runtime/helpers/extends';\nimport _typeof from 'babel-runtime/helpers/typeof';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\n\nvar _class, _temp;\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { polyfill } from 'react-lifecycles-compat';\nimport { obj } from '../util';\nimport Checkbox from './checkbox';\nvar pickOthers = obj.pickOthers;\n/** Checkbox.Group */\n\nvar CheckboxGroup = (_temp = _class = function (_Component) {\n  _inherits(CheckboxGroup, _Component);\n\n  function CheckboxGroup(props) {\n    _classCallCheck(this, CheckboxGroup);\n\n    var _this = _possibleConstructorReturn(this, _Component.call(this, props));\n\n    var value = [];\n\n    if ('value' in props) {\n      value = props.value;\n    } else if ('defaultValue' in props) {\n      value = props.defaultValue;\n    }\n\n    if (!Array.isArray(value)) {\n      if (value === null || value === undefined) {\n        value = [];\n      } else {\n        value = [value];\n      }\n    }\n\n    _this.state = {\n      value: [].concat(value)\n    };\n    _this.onChange = _this.onChange.bind(_this);\n    return _this;\n  }\n\n  CheckboxGroup.prototype.getChildContext = function getChildContext() {\n    return {\n      __group__: true,\n      onChange: this.onChange,\n      selectedValue: this.state.value,\n      disabled: this.props.disabled\n    };\n  };\n\n  CheckboxGroup.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps) {\n    if ('value' in nextProps) {\n      var value = nextProps.value;\n\n      if (!Array.isArray(value)) {\n        if (value === null || value === undefined) {\n          value = [];\n        } else {\n          value = [value];\n        }\n      }\n\n      return {\n        value: value\n      };\n    }\n\n    return null;\n  };\n\n  CheckboxGroup.prototype.onChange = function onChange(currentValue, e) {\n    var value = this.state.value;\n    var index = value.indexOf(currentValue);\n    var valTemp = [].concat(value);\n\n    if (index === -1) {\n      valTemp.push(currentValue);\n    } else {\n      valTemp.splice(index, 1);\n    }\n\n    if (!('value' in this.props)) {\n      this.setState({\n        value: valTemp\n      });\n    }\n\n    this.props.onChange(valTemp, e);\n  };\n\n  CheckboxGroup.prototype.render = function render() {\n    var _this2 = this,\n        _classnames;\n\n    var _props = this.props,\n        className = _props.className,\n        style = _props.style,\n        prefix = _props.prefix,\n        disabled = _props.disabled,\n        direction = _props.direction,\n        rtl = _props.rtl,\n        isPreview = _props.isPreview,\n        renderPreview = _props.renderPreview;\n    var others = pickOthers(CheckboxGroup.propTypes, this.props); // 如果内嵌标签跟dataSource同时存在，以内嵌标签为主\n\n    var children = void 0;\n    var previewed = [];\n\n    if (this.props.children) {\n      children = React.Children.map(this.props.children, function (child) {\n        if (!React.isValidElement(child)) {\n          return child;\n        }\n\n        var checked = _this2.state.value && _this2.state.value.indexOf(child.props.value) > -1;\n\n        if (checked) {\n          previewed.push({\n            label: child.props.children,\n            value: child.props.value\n          });\n        }\n\n        return React.cloneElement(child, child.props.rtl === undefined ? {\n          rtl: rtl\n        } : null);\n      });\n    } else {\n      children = this.props.dataSource.map(function (item, index) {\n        var option = item;\n\n        if ((typeof item === 'undefined' ? 'undefined' : _typeof(item)) !== 'object') {\n          option = {\n            label: item,\n            value: item,\n            disabled: disabled\n          };\n        }\n\n        var checked = _this2.state.value && _this2.state.value.indexOf(option.value) > -1;\n\n        if (checked) {\n          previewed.push({\n            label: option.label,\n            value: option.value\n          });\n        }\n\n        return React.createElement(Checkbox, {\n          key: index,\n          value: option.value,\n          checked: checked,\n          rtl: rtl,\n          disabled: disabled || option.disabled,\n          label: option.label\n        });\n      });\n    }\n\n    if (isPreview) {\n      var previewCls = classnames(className, prefix + 'form-preview');\n\n      if ('renderPreview' in this.props) {\n        return React.createElement('div', _extends({}, others, {\n          dir: rtl ? 'rtl' : undefined,\n          className: previewCls\n        }), renderPreview(previewed, this.props));\n      }\n\n      return React.createElement('p', _extends({}, others, {\n        dir: rtl ? 'rtl' : undefined,\n        className: previewCls\n      }), previewed.map(function (item) {\n        return item.label;\n      }).join(', '));\n    }\n\n    var cls = classnames((_classnames = {}, _classnames[prefix + 'checkbox-group'] = true, _classnames[prefix + 'checkbox-group-' + direction] = true, _classnames[className] = !!className, _classnames.disabled = disabled, _classnames));\n    return React.createElement('span', _extends({\n      dir: rtl ? 'rtl' : undefined\n    }, others, {\n      className: cls,\n      style: style\n    }), children);\n  };\n\n  return CheckboxGroup;\n}(Component), _class.propTypes = {\n  prefix: PropTypes.string,\n  rtl: PropTypes.bool,\n\n  /**\n   * 自定义类名\n   */\n  className: PropTypes.string,\n\n  /**\n   * 自定义内敛样式\n   */\n  style: PropTypes.object,\n\n  /**\n   * 整体禁用\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * 可选项列表, 数据项可为 String 或者 Object, 如 `['apple', 'pear', 'orange']` 或者 `[{value: 'apple', label: '苹果',}, {value: 'pear', label: '梨'}, {value: 'orange', label: '橙子'}]`\n   */\n  dataSource: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.string), PropTypes.arrayOf(PropTypes.object)]),\n\n  /**\n   * 被选中的值列表\n   */\n  value: PropTypes.oneOfType([PropTypes.array, PropTypes.string, PropTypes.number]),\n\n  /**\n   * 默认被选中的值列表\n   */\n  defaultValue: PropTypes.oneOfType([PropTypes.array, PropTypes.string, PropTypes.number]),\n\n  /**\n   * 通过子元素方式设置内部 checkbox\n   */\n  children: PropTypes.arrayOf(PropTypes.element),\n\n  /**\n   * 选中值改变时的事件\n   * @param {Array} value 选中项列表\n   * @param {Event} e Dom 事件对象\n   */\n  onChange: PropTypes.func,\n\n  /**\n   * 子项目的排列方式\n   * - hoz: 水平排列 (default)\n   * - ver: 垂直排列\n   */\n  direction: PropTypes.oneOf(['hoz', 'ver']),\n\n  /**\n   * 是否为预览态\n   * @version 1.19\n   */\n  isPreview: PropTypes.bool,\n\n  /**\n   * 预览态模式下渲染的内容\n   * @param {Array} previewed 预览值 [{label: '', value:''},...]\n   * @param {Object} props 所有传入的参数\n   * @returns {reactNode} Element 渲染内容\n   * @version 1.19\n   */\n  renderPreview: PropTypes.func\n}, _class.defaultProps = {\n  dataSource: [],\n  onChange: function onChange() {},\n  prefix: 'next-',\n  direction: 'hoz',\n  isPreview: false\n}, _class.childContextTypes = {\n  onChange: PropTypes.func,\n  __group__: PropTypes.bool,\n  selectedValue: PropTypes.array,\n  disabled: PropTypes.bool\n}, _temp);\nCheckboxGroup.displayName = 'CheckboxGroup';\nexport default polyfill(CheckboxGroup);","map":{"version":3,"sources":["/Users/Chris/Project/lunch-order-backstage/node_modules/@alifd/next/es/checkbox/checkbox-group.js"],"names":["_extends","_typeof","_classCallCheck","_possibleConstructorReturn","_inherits","_class","_temp","React","Component","PropTypes","classnames","polyfill","obj","Checkbox","pickOthers","CheckboxGroup","_Component","props","_this","call","value","defaultValue","Array","isArray","undefined","state","concat","onChange","bind","prototype","getChildContext","__group__","selectedValue","disabled","getDerivedStateFromProps","nextProps","currentValue","e","index","indexOf","valTemp","push","splice","setState","render","_this2","_classnames","_props","className","style","prefix","direction","rtl","isPreview","renderPreview","others","propTypes","children","previewed","Children","map","child","isValidElement","checked","label","cloneElement","dataSource","item","option","createElement","key","previewCls","dir","join","cls","string","bool","object","oneOfType","arrayOf","array","number","element","func","oneOf","defaultProps","childContextTypes","displayName"],"mappings":"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","sourcesContent":["import _extends from 'babel-runtime/helpers/extends';\nimport _typeof from 'babel-runtime/helpers/typeof';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\n\nvar _class, _temp;\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { polyfill } from 'react-lifecycles-compat';\nimport { obj } from '../util';\nimport Checkbox from './checkbox';\n\nvar pickOthers = obj.pickOthers;\n\n/** Checkbox.Group */\n\nvar CheckboxGroup = (_temp = _class = function (_Component) {\n    _inherits(CheckboxGroup, _Component);\n\n    function CheckboxGroup(props) {\n        _classCallCheck(this, CheckboxGroup);\n\n        var _this = _possibleConstructorReturn(this, _Component.call(this, props));\n\n        var value = [];\n        if ('value' in props) {\n            value = props.value;\n        } else if ('defaultValue' in props) {\n            value = props.defaultValue;\n        }\n        if (!Array.isArray(value)) {\n            if (value === null || value === undefined) {\n                value = [];\n            } else {\n                value = [value];\n            }\n        }\n        _this.state = {\n            value: [].concat(value)\n        };\n\n        _this.onChange = _this.onChange.bind(_this);\n        return _this;\n    }\n\n    CheckboxGroup.prototype.getChildContext = function getChildContext() {\n        return {\n            __group__: true,\n            onChange: this.onChange,\n            selectedValue: this.state.value,\n            disabled: this.props.disabled\n        };\n    };\n\n    CheckboxGroup.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps) {\n        if ('value' in nextProps) {\n            var value = nextProps.value;\n\n            if (!Array.isArray(value)) {\n                if (value === null || value === undefined) {\n                    value = [];\n                } else {\n                    value = [value];\n                }\n            }\n\n            return { value: value };\n        }\n\n        return null;\n    };\n\n    CheckboxGroup.prototype.onChange = function onChange(currentValue, e) {\n        var value = this.state.value;\n\n        var index = value.indexOf(currentValue);\n        var valTemp = [].concat(value);\n\n        if (index === -1) {\n            valTemp.push(currentValue);\n        } else {\n            valTemp.splice(index, 1);\n        }\n\n        if (!('value' in this.props)) {\n            this.setState({ value: valTemp });\n        }\n        this.props.onChange(valTemp, e);\n    };\n\n    CheckboxGroup.prototype.render = function render() {\n        var _this2 = this,\n            _classnames;\n\n        var _props = this.props,\n            className = _props.className,\n            style = _props.style,\n            prefix = _props.prefix,\n            disabled = _props.disabled,\n            direction = _props.direction,\n            rtl = _props.rtl,\n            isPreview = _props.isPreview,\n            renderPreview = _props.renderPreview;\n\n        var others = pickOthers(CheckboxGroup.propTypes, this.props);\n\n        // 如果内嵌标签跟dataSource同时存在，以内嵌标签为主\n        var children = void 0;\n        var previewed = [];\n        if (this.props.children) {\n            children = React.Children.map(this.props.children, function (child) {\n                if (!React.isValidElement(child)) {\n                    return child;\n                }\n                var checked = _this2.state.value && _this2.state.value.indexOf(child.props.value) > -1;\n\n                if (checked) {\n                    previewed.push({\n                        label: child.props.children,\n                        value: child.props.value\n                    });\n                }\n\n                return React.cloneElement(child, child.props.rtl === undefined ? { rtl: rtl } : null);\n            });\n        } else {\n            children = this.props.dataSource.map(function (item, index) {\n                var option = item;\n                if ((typeof item === 'undefined' ? 'undefined' : _typeof(item)) !== 'object') {\n                    option = {\n                        label: item,\n                        value: item,\n                        disabled: disabled\n                    };\n                }\n                var checked = _this2.state.value && _this2.state.value.indexOf(option.value) > -1;\n\n                if (checked) {\n                    previewed.push({\n                        label: option.label,\n                        value: option.value\n                    });\n                }\n\n                return React.createElement(Checkbox, {\n                    key: index,\n                    value: option.value,\n                    checked: checked,\n                    rtl: rtl,\n                    disabled: disabled || option.disabled,\n                    label: option.label\n                });\n            });\n        }\n\n        if (isPreview) {\n            var previewCls = classnames(className, prefix + 'form-preview');\n\n            if ('renderPreview' in this.props) {\n                return React.createElement(\n                    'div',\n                    _extends({}, others, { dir: rtl ? 'rtl' : undefined, className: previewCls }),\n                    renderPreview(previewed, this.props)\n                );\n            }\n\n            return React.createElement(\n                'p',\n                _extends({}, others, { dir: rtl ? 'rtl' : undefined, className: previewCls }),\n                previewed.map(function (item) {\n                    return item.label;\n                }).join(', ')\n            );\n        }\n\n        var cls = classnames((_classnames = {}, _classnames[prefix + 'checkbox-group'] = true, _classnames[prefix + 'checkbox-group-' + direction] = true, _classnames[className] = !!className, _classnames.disabled = disabled, _classnames));\n\n        return React.createElement(\n            'span',\n            _extends({ dir: rtl ? 'rtl' : undefined }, others, { className: cls, style: style }),\n            children\n        );\n    };\n\n    return CheckboxGroup;\n}(Component), _class.propTypes = {\n    prefix: PropTypes.string,\n    rtl: PropTypes.bool,\n    /**\n     * 自定义类名\n     */\n    className: PropTypes.string,\n    /**\n     * 自定义内敛样式\n     */\n    style: PropTypes.object,\n    /**\n     * 整体禁用\n     */\n    disabled: PropTypes.bool,\n    /**\n     * 可选项列表, 数据项可为 String 或者 Object, 如 `['apple', 'pear', 'orange']` 或者 `[{value: 'apple', label: '苹果',}, {value: 'pear', label: '梨'}, {value: 'orange', label: '橙子'}]`\n     */\n    dataSource: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.string), PropTypes.arrayOf(PropTypes.object)]),\n    /**\n     * 被选中的值列表\n     */\n    value: PropTypes.oneOfType([PropTypes.array, PropTypes.string, PropTypes.number]),\n    /**\n     * 默认被选中的值列表\n     */\n    defaultValue: PropTypes.oneOfType([PropTypes.array, PropTypes.string, PropTypes.number]),\n    /**\n     * 通过子元素方式设置内部 checkbox\n     */\n    children: PropTypes.arrayOf(PropTypes.element),\n    /**\n     * 选中值改变时的事件\n     * @param {Array} value 选中项列表\n     * @param {Event} e Dom 事件对象\n     */\n    onChange: PropTypes.func,\n\n    /**\n     * 子项目的排列方式\n     * - hoz: 水平排列 (default)\n     * - ver: 垂直排列\n     */\n    direction: PropTypes.oneOf(['hoz', 'ver']),\n    /**\n     * 是否为预览态\n     * @version 1.19\n     */\n    isPreview: PropTypes.bool,\n    /**\n     * 预览态模式下渲染的内容\n     * @param {Array} previewed 预览值 [{label: '', value:''},...]\n     * @param {Object} props 所有传入的参数\n     * @returns {reactNode} Element 渲染内容\n     * @version 1.19\n     */\n    renderPreview: PropTypes.func\n}, _class.defaultProps = {\n    dataSource: [],\n    onChange: function onChange() {},\n    prefix: 'next-',\n    direction: 'hoz',\n    isPreview: false\n}, _class.childContextTypes = {\n    onChange: PropTypes.func,\n    __group__: PropTypes.bool,\n    selectedValue: PropTypes.array,\n    disabled: PropTypes.bool\n}, _temp);\nCheckboxGroup.displayName = 'CheckboxGroup';\n\n\nexport default polyfill(CheckboxGroup);"]},"metadata":{},"sourceType":"module"}