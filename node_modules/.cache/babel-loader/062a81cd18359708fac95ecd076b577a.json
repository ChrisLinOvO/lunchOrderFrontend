{"ast":null,"code":"import _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\n\nvar _class, _temp2;\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '../button';\nimport { func, obj } from '../util';\n/**\n * Form.Submit\n * @description 继承 Button API\n * @order 2\n */\n\nvar Submit = (_temp2 = _class = function (_React$Component) {\n  _inherits(Submit, _React$Component);\n\n  function Submit() {\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Submit);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _this.handleClick = function () {\n      var _this$props = _this.props,\n          onClick = _this$props.onClick,\n          validate = _this$props.validate;\n      var field = _this.context._formField || _this.props.field;\n\n      if (!field) {\n        onClick();\n        return;\n      }\n\n      if (validate === true) {\n        field.validate(function (errors) {\n          onClick(field.getValues(), errors, field);\n        });\n      } else if (Array.isArray(validate)) {\n        field.validate(validate, function (errors) {\n          onClick(field.getValues(), errors, field);\n        });\n      } else {\n        onClick(field.getValues(), null, field);\n      }\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  Submit.prototype.render = function render() {\n    var children = this.props.children;\n    return React.createElement(Button, _extends({}, obj.pickOthers(Submit.propTypes, this.props), {\n      onClick: this.handleClick\n    }), children);\n  };\n\n  return Submit;\n}(React.Component), _class.propTypes = {\n  /**\n   * 点击提交后触发\n   * @param {Object} value 数据\n   * @param {Object} errors 错误数据\n   * @param {class} field 实例\n   */\n  onClick: PropTypes.func,\n\n  /**\n   * 是否校验/需要校验的 name 数组\n   */\n  validate: PropTypes.oneOfType([PropTypes.bool, PropTypes.array]),\n\n  /**\n   * 自定义 field (在 Form 内不需要设置)\n   */\n  field: PropTypes.object,\n  children: PropTypes.node\n}, _class.defaultProps = {\n  onClick: func.noop\n}, _class.contextTypes = {\n  _formField: PropTypes.object\n}, _temp2);\nSubmit.displayName = 'Submit';\nexport default Submit;","map":{"version":3,"sources":["/Users/Chris/Project/lunch-order-backstage/node_modules/@alifd/next/es/form/submit.js"],"names":["_extends","_classCallCheck","_possibleConstructorReturn","_inherits","_class","_temp2","React","PropTypes","Button","func","obj","Submit","_React$Component","_temp","_this","_ret","_len","arguments","length","args","Array","_key","call","apply","concat","handleClick","_this$props","props","onClick","validate","field","context","_formField","errors","getValues","isArray","prototype","render","children","createElement","pickOthers","propTypes","Component","oneOfType","bool","array","object","node","defaultProps","noop","contextTypes","displayName"],"mappings":"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","sourcesContent":["import _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\n\nvar _class, _temp2;\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '../button';\nimport { func, obj } from '../util';\n\n/**\n * Form.Submit\n * @description 继承 Button API\n * @order 2\n */\nvar Submit = (_temp2 = _class = function (_React$Component) {\n    _inherits(Submit, _React$Component);\n\n    function Submit() {\n        var _temp, _this, _ret;\n\n        _classCallCheck(this, Submit);\n\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        return _ret = (_temp = (_this = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _this.handleClick = function () {\n            var _this$props = _this.props,\n                onClick = _this$props.onClick,\n                validate = _this$props.validate;\n\n            var field = _this.context._formField || _this.props.field;\n\n            if (!field) {\n                onClick();\n                return;\n            }\n\n            if (validate === true) {\n                field.validate(function (errors) {\n                    onClick(field.getValues(), errors, field);\n                });\n            } else if (Array.isArray(validate)) {\n                field.validate(validate, function (errors) {\n                    onClick(field.getValues(), errors, field);\n                });\n            } else {\n                onClick(field.getValues(), null, field);\n            }\n        }, _temp), _possibleConstructorReturn(_this, _ret);\n    }\n\n    Submit.prototype.render = function render() {\n        var children = this.props.children;\n\n\n        return React.createElement(\n            Button,\n            _extends({}, obj.pickOthers(Submit.propTypes, this.props), {\n                onClick: this.handleClick\n            }),\n            children\n        );\n    };\n\n    return Submit;\n}(React.Component), _class.propTypes = {\n    /**\n     * 点击提交后触发\n     * @param {Object} value 数据\n     * @param {Object} errors 错误数据\n     * @param {class} field 实例\n     */\n    onClick: PropTypes.func,\n    /**\n     * 是否校验/需要校验的 name 数组\n     */\n    validate: PropTypes.oneOfType([PropTypes.bool, PropTypes.array]),\n    /**\n     * 自定义 field (在 Form 内不需要设置)\n     */\n    field: PropTypes.object,\n    children: PropTypes.node\n}, _class.defaultProps = {\n    onClick: func.noop\n}, _class.contextTypes = {\n    _formField: PropTypes.object\n}, _temp2);\nSubmit.displayName = 'Submit';\n\n\nexport default Submit;"]},"metadata":{},"sourceType":"module"}